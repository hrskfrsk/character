<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Parameters Test</title>
</head>
<body>
    <h1>URL Parameters Test</h1>
    <div id="results"></div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const results = document.getElementById('results');
        
        results.innerHTML = `
            <h2>Current URL Parameters:</h2>
            <ul>
                <li><strong>share:</strong> ${params.get('share') || 'not found'}</li>
                <li><strong>id:</strong> ${params.get('id') || 'not found'}</li>
                <li><strong>data:</strong> ${params.get('data') ? 'present (data found)' : 'not found'}</li>
            </ul>
            
            <h2>Character ID Logic:</h2>
            <p><strong>characterId:</strong> ${params.get('share') || params.get('id') || 'none'}</p>
            
            <h2>Preloaded Data Check:</h2>
            <p><strong>window.__CHARACTER_DATA__:</strong> ${window.__CHARACTER_DATA__ ? 'exists' : 'not found'}</p>
            
            <h2>Test URLs:</h2>
            <ul>
                <li><a href="?share=test123">Test share parameter</a></li>
                <li><a href="?id=test456">Test id parameter</a></li>
                <li><a href="?data=eyJ0ZXN0IjoidmFsdWUifQ%3D%3D">Test data parameter</a></li>
                <li><a href="test-params.html">No parameters</a></li>
            </ul>
        `;
    </script>
</body>
</html>