"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/crop-image";
exports.ids = ["pages/api/crop-image"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

module.exports = require("sharp");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcrop-image&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcrop-image.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcrop-image&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcrop-image.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_crop_image_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/crop-image.ts */ \"(api)/./pages/api/crop-image.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_crop_image_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_crop_image_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/crop-image\",\n        pathname: \"/api/crop-image\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_crop_image_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNyb3AtaW1hZ2UmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmNyb3AtaW1hZ2UudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2MtY2hhcmFjdGVyLXNoZWV0Lz9iNzhmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvY3JvcC1pbWFnZS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Nyb3AtaW1hZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jcm9wLWltYWdlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcrop-image&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcrop-image.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/crop-image.ts":
/*!*********************************!*\
  !*** ./pages/api/crop-image.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    try {\n        const { imageUrl, cropData } = req.body;\n        console.log(\"Crop request:\", {\n            imageUrl,\n            cropData\n        });\n        if (!imageUrl || !cropData) {\n            return res.status(400).json({\n                error: \"imageUrl and cropData are required\"\n            });\n        }\n        const { x, y, width, height } = cropData;\n        // 画像を取得\n        const response = await fetch(imageUrl);\n        if (!response.ok) {\n            throw new Error(`Failed to fetch image: ${response.status}`);\n        }\n        const imageBuffer = await response.arrayBuffer();\n        console.log(\"Image buffer size:\", imageBuffer.byteLength);\n        // 画像の情報を取得\n        const imageInfo = await sharp__WEBPACK_IMPORTED_MODULE_0___default()(Buffer.from(imageBuffer)).metadata();\n        console.log(\"Image metadata:\", imageInfo);\n        // クロップ範囲の検証と調整\n        const safeX = Math.max(0, Math.min(Math.round(x), (imageInfo.width || 0) - 1));\n        const safeY = Math.max(0, Math.min(Math.round(y), (imageInfo.height || 0) - 1));\n        const safeWidth = Math.max(1, Math.min(Math.round(width), (imageInfo.width || 0) - safeX));\n        const safeHeight = Math.max(1, Math.min(Math.round(height), (imageInfo.height || 0) - safeY));\n        console.log(\"Crop parameters:\", {\n            original: {\n                x,\n                y,\n                width,\n                height\n            },\n            safe: {\n                x: safeX,\n                y: safeY,\n                width: safeWidth,\n                height: safeHeight\n            },\n            imageSize: {\n                width: imageInfo.width,\n                height: imageInfo.height\n            }\n        });\n        // Sharp を使用して画像をクロップ・リサイズ\n        const croppedBuffer = await sharp__WEBPACK_IMPORTED_MODULE_0___default()(Buffer.from(imageBuffer)).extract({\n            left: safeX,\n            top: safeY,\n            width: safeWidth,\n            height: safeHeight\n        }).resize(128, 128, {\n            fit: \"cover\",\n            position: \"center\"\n        }).jpeg({\n            quality: 80\n        }).toBuffer();\n        console.log(\"Cropped buffer size:\", croppedBuffer.length);\n        // Base64形式で返す\n        const base64Image = `data:image/jpeg;base64,${croppedBuffer.toString(\"base64\")}`;\n        res.status(200).json({\n            croppedImage: base64Image\n        });\n    } catch (error) {\n        console.error(\"Image crop error:\", error);\n        res.status(500).json({\n            error: \"Failed to crop image\",\n            details: error instanceof Error ? error.message : \"Unknown error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY3JvcC1pbWFnZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDMEI7QUFFWCxlQUFlQyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDNUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHUCxJQUFJUSxJQUFJO1FBRXZDQyxRQUFRQyxHQUFHLENBQUMsaUJBQWlCO1lBQUVKO1lBQVVDO1FBQVM7UUFFbEQsSUFBSSxDQUFDRCxZQUFZLENBQUNDLFVBQVU7WUFDMUIsT0FBT04sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFxQztRQUM1RTtRQUVBLE1BQU0sRUFBRU0sQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFLEdBQUdQO1FBRWhDLFFBQVE7UUFDUixNQUFNUSxXQUFXLE1BQU1DLE1BQU1WO1FBQzdCLElBQUksQ0FBQ1MsU0FBU0UsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHVCQUF1QixFQUFFSCxTQUFTWixNQUFNLENBQUMsQ0FBQztRQUM3RDtRQUVBLE1BQU1nQixjQUFjLE1BQU1KLFNBQVNLLFdBQVc7UUFDOUNYLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0JTLFlBQVlFLFVBQVU7UUFFeEQsV0FBVztRQUNYLE1BQU1DLFlBQVksTUFBTXhCLDRDQUFLQSxDQUFDeUIsT0FBT0MsSUFBSSxDQUFDTCxjQUFjTSxRQUFRO1FBQ2hFaEIsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQlk7UUFFL0IsZUFBZTtRQUNmLE1BQU1JLFFBQVFDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUNGLEtBQUtHLEtBQUssQ0FBQ25CLElBQUksQ0FBQ1csVUFBVVQsS0FBSyxJQUFJLEtBQUs7UUFDM0UsTUFBTWtCLFFBQVFKLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUNGLEtBQUtHLEtBQUssQ0FBQ2xCLElBQUksQ0FBQ1UsVUFBVVIsTUFBTSxJQUFJLEtBQUs7UUFDNUUsTUFBTWtCLFlBQVlMLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUNGLEtBQUtHLEtBQUssQ0FBQ2pCLFFBQVEsQ0FBQ1MsVUFBVVQsS0FBSyxJQUFJLEtBQUthO1FBQ25GLE1BQU1PLGFBQWFOLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUNGLEtBQUtHLEtBQUssQ0FBQ2hCLFNBQVMsQ0FBQ1EsVUFBVVIsTUFBTSxJQUFJLEtBQUtpQjtRQUV0RnRCLFFBQVFDLEdBQUcsQ0FBQyxvQkFBb0I7WUFDOUJ3QixVQUFVO2dCQUFFdkI7Z0JBQUdDO2dCQUFHQztnQkFBT0M7WUFBTztZQUNoQ3FCLE1BQU07Z0JBQUV4QixHQUFHZTtnQkFBT2QsR0FBR21CO2dCQUFPbEIsT0FBT21CO2dCQUFXbEIsUUFBUW1CO1lBQVc7WUFDakVHLFdBQVc7Z0JBQUV2QixPQUFPUyxVQUFVVCxLQUFLO2dCQUFFQyxRQUFRUSxVQUFVUixNQUFNO1lBQUM7UUFDaEU7UUFFQSwwQkFBMEI7UUFDMUIsTUFBTXVCLGdCQUFnQixNQUFNdkMsNENBQUtBLENBQUN5QixPQUFPQyxJQUFJLENBQUNMLGNBQzNDbUIsT0FBTyxDQUFDO1lBQ1BDLE1BQU1iO1lBQ05jLEtBQUtUO1lBQ0xsQixPQUFPbUI7WUFDUGxCLFFBQVFtQjtRQUNWLEdBQ0NRLE1BQU0sQ0FBQyxLQUFLLEtBQUs7WUFDaEJDLEtBQUs7WUFDTEMsVUFBVTtRQUNaLEdBQ0NDLElBQUksQ0FBQztZQUFFQyxTQUFTO1FBQUcsR0FDbkJDLFFBQVE7UUFFWHJDLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0IyQixjQUFjVSxNQUFNO1FBRXhELGNBQWM7UUFDZCxNQUFNQyxjQUFjLENBQUMsdUJBQXVCLEVBQUVYLGNBQWNZLFFBQVEsQ0FBQyxVQUFVLENBQUM7UUFFaEZoRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUU4QyxjQUFjRjtRQUFZO0lBQ25ELEVBQUUsT0FBTzNDLE9BQU87UUFDZEksUUFBUUosS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkNKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLE9BQU87WUFDUDhDLFNBQVM5QyxpQkFBaUJhLFFBQVFiLE1BQU0rQyxPQUFPLEdBQUc7UUFDcEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29jLWNoYXJhY3Rlci1zaGVldC8uL3BhZ2VzL2FwaS9jcm9wLWltYWdlLnRzPzNjODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHNoYXJwIGZyb20gJ3NoYXJwJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGltYWdlVXJsLCBjcm9wRGF0YSB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zb2xlLmxvZygnQ3JvcCByZXF1ZXN0OicsIHsgaW1hZ2VVcmwsIGNyb3BEYXRhIH0pO1xuXG4gICAgaWYgKCFpbWFnZVVybCB8fCAhY3JvcERhdGEpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnaW1hZ2VVcmwgYW5kIGNyb3BEYXRhIGFyZSByZXF1aXJlZCcgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSBjcm9wRGF0YTtcblxuICAgIC8vIOeUu+WDj+OCkuWPluW+l1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaW1hZ2VVcmwpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGltYWdlOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgY29uc29sZS5sb2coJ0ltYWdlIGJ1ZmZlciBzaXplOicsIGltYWdlQnVmZmVyLmJ5dGVMZW5ndGgpO1xuXG4gICAgLy8g55S75YOP44Gu5oOF5aCx44KS5Y+W5b6XXG4gICAgY29uc3QgaW1hZ2VJbmZvID0gYXdhaXQgc2hhcnAoQnVmZmVyLmZyb20oaW1hZ2VCdWZmZXIpKS5tZXRhZGF0YSgpO1xuICAgIGNvbnNvbGUubG9nKCdJbWFnZSBtZXRhZGF0YTonLCBpbWFnZUluZm8pO1xuXG4gICAgLy8g44Kv44Ot44OD44OX56+E5Zuy44Gu5qSc6Ki844Go6Kq/5pW0XG4gICAgY29uc3Qgc2FmZVggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihNYXRoLnJvdW5kKHgpLCAoaW1hZ2VJbmZvLndpZHRoIHx8IDApIC0gMSkpO1xuICAgIGNvbnN0IHNhZmVZID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oTWF0aC5yb3VuZCh5KSwgKGltYWdlSW5mby5oZWlnaHQgfHwgMCkgLSAxKSk7XG4gICAgY29uc3Qgc2FmZVdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oTWF0aC5yb3VuZCh3aWR0aCksIChpbWFnZUluZm8ud2lkdGggfHwgMCkgLSBzYWZlWCkpO1xuICAgIGNvbnN0IHNhZmVIZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihNYXRoLnJvdW5kKGhlaWdodCksIChpbWFnZUluZm8uaGVpZ2h0IHx8IDApIC0gc2FmZVkpKTtcblxuICAgIGNvbnNvbGUubG9nKCdDcm9wIHBhcmFtZXRlcnM6JywgeyBcbiAgICAgIG9yaWdpbmFsOiB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSxcbiAgICAgIHNhZmU6IHsgeDogc2FmZVgsIHk6IHNhZmVZLCB3aWR0aDogc2FmZVdpZHRoLCBoZWlnaHQ6IHNhZmVIZWlnaHQgfSxcbiAgICAgIGltYWdlU2l6ZTogeyB3aWR0aDogaW1hZ2VJbmZvLndpZHRoLCBoZWlnaHQ6IGltYWdlSW5mby5oZWlnaHQgfVxuICAgIH0pO1xuXG4gICAgLy8gU2hhcnAg44KS5L2/55So44GX44Gm55S75YOP44KS44Kv44Ot44OD44OX44O744Oq44K144Kk44K6XG4gICAgY29uc3QgY3JvcHBlZEJ1ZmZlciA9IGF3YWl0IHNoYXJwKEJ1ZmZlci5mcm9tKGltYWdlQnVmZmVyKSlcbiAgICAgIC5leHRyYWN0KHtcbiAgICAgICAgbGVmdDogc2FmZVgsXG4gICAgICAgIHRvcDogc2FmZVksXG4gICAgICAgIHdpZHRoOiBzYWZlV2lkdGgsXG4gICAgICAgIGhlaWdodDogc2FmZUhlaWdodFxuICAgICAgfSlcbiAgICAgIC5yZXNpemUoMTI4LCAxMjgsIHtcbiAgICAgICAgZml0OiAnY292ZXInLFxuICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcidcbiAgICAgIH0pXG4gICAgICAuanBlZyh7IHF1YWxpdHk6IDgwIH0pXG4gICAgICAudG9CdWZmZXIoKTtcblxuICAgIGNvbnNvbGUubG9nKCdDcm9wcGVkIGJ1ZmZlciBzaXplOicsIGNyb3BwZWRCdWZmZXIubGVuZ3RoKTtcblxuICAgIC8vIEJhc2U2NOW9ouW8j+OBp+i/lOOBmVxuICAgIGNvbnN0IGJhc2U2NEltYWdlID0gYGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsJHtjcm9wcGVkQnVmZmVyLnRvU3RyaW5nKCdiYXNlNjQnKX1gO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBjcm9wcGVkSW1hZ2U6IGJhc2U2NEltYWdlIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlIGNyb3AgZXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjcm9wIGltYWdlJyxcbiAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsic2hhcnAiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiaW1hZ2VVcmwiLCJjcm9wRGF0YSIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiaW1hZ2VCdWZmZXIiLCJhcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJpbWFnZUluZm8iLCJCdWZmZXIiLCJmcm9tIiwibWV0YWRhdGEiLCJzYWZlWCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJyb3VuZCIsInNhZmVZIiwic2FmZVdpZHRoIiwic2FmZUhlaWdodCIsIm9yaWdpbmFsIiwic2FmZSIsImltYWdlU2l6ZSIsImNyb3BwZWRCdWZmZXIiLCJleHRyYWN0IiwibGVmdCIsInRvcCIsInJlc2l6ZSIsImZpdCIsInBvc2l0aW9uIiwianBlZyIsInF1YWxpdHkiLCJ0b0J1ZmZlciIsImxlbmd0aCIsImJhc2U2NEltYWdlIiwidG9TdHJpbmciLCJjcm9wcGVkSW1hZ2UiLCJkZXRhaWxzIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/crop-image.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcrop-image&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcrop-image.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();