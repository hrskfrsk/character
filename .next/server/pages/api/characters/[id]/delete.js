"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/characters/[id]/delete";
exports.ids = ["pages/api/characters/[id]/delete"];
exports.modules = {

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("firebase-admin/app");

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("firebase-admin/firestore");

/***/ }),

/***/ "firebase-admin/storage":
/*!*****************************************!*\
  !*** external "firebase-admin/storage" ***!
  \*****************************************/
/***/ ((module) => {

module.exports = require("firebase-admin/storage");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_characters_id_delete_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/characters/[id]/delete.ts */ \"(api)/./pages/api/characters/[id]/delete.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_characters_id_delete_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_characters_id_delete_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/characters/[id]/delete\",\n        pathname: \"/api/characters/[id]/delete\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_characters_id_delete_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNoYXJhY3RlcnMlMkYlNUJpZCU1RCUyRmRlbGV0ZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGY2hhcmFjdGVycyUyRiU1QmlkJTVEJTJGZGVsZXRlLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2tFO0FBQ2xFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQywrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsK0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29jLWNoYXJhY3Rlci1zaGVldC8/ZGExZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2NoYXJhY3RlcnMvW2lkXS9kZWxldGUudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGFyYWN0ZXJzL1tpZF0vZGVsZXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2hhcmFjdGVycy9baWRdL2RlbGV0ZVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/firebase-admin.ts":
/*!*******************************!*\
  !*** ./lib/firebase-admin.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminDb: () => (/* binding */ adminDb),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   getAllCharacterData: () => (/* binding */ getAllCharacterData),\n/* harmony export */   getAllCharacterIds: () => (/* binding */ getAllCharacterIds),\n/* harmony export */   getCharacterData: () => (/* binding */ getCharacterData)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Firebase Admin初期化\nlet adminDb = null;\nlet isInitialized = false;\nfunction initializeFirebaseAdmin() {\n    try {\n        if (!(0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length) {\n            const privateKey = \"-----BEGIN PRIVATE KEY-----\\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDW4B7UQap7LamG\\nSHRODkRUvpfFki/WyfufzTeaWePVhoPFpBKvyV/oHu4l6GDinbGfsIIcLAw09c0A\\njsC/Zd/MJikwZz1zDdH6fs+ax2xpz2mA3biwxKx79l7d9k4fLLW5kfrjI1J/auFU\\nPQYcvmwGLk/iAayRaJfesphyMauRGn2QC9yHpiVaxFVHW6mq6Wed1RdFYGmZvyoa\\nkx5M/YOVIMwfulx+8z4ApIzisPK4RtjtjQR6M8Ntwl+hyyvruKUZb+jPnkCozKGV\\ndfSPTjMpJfA8oZdRhKbiIDpS+aiWVKjEmCBgSdEwV06VFsFyKmpU7kDvZFpGoMEF\\nvixYPCBZAgMBAAECggEAAUR3czrH7cvKTHwwWks6rasA/i2iSOQOZehWjQ2rQYN2\\nd4TWPRhZj53PFvK5YdzRZ7AE2QZDxnQybjj7oFxAC7GoN2W7W1hhPPuXpnik8+v3\\n2esHLUqbsdnHm8Jr4vl5ZYKJf3TrT17Pc7t3RgyzyCIfg6V64a1DaBEpnsCIQIqQ\\naEd22UAQkwg8TIufKfy705BUDXV/3gVQ/n5CcGyahXTF86peNMCHxKCaQ19YhybW\\neTHFJErybqhta0roYOSxfeGWIZipxFaEO4LG0RGo4hbPLDyEu0J/X1uRCmtUvJKh\\n++GP9xkvFD0IzAXXrrV9bUcvJXvFNtPtb8PgvEpL4QKBgQDva2X8hnP/OEu0Ti5i\\n2mMcbw5UG3aaqhFeq3fuYAY+X7M31kil1pv02UzTbvbi3E7lhWZRp4cQg+TDRyBX\\no2WT3PNj7OtgU5giDLz9UCZ5CUMuhQoRn4w9dfMsCKxlwZlA6VWjUQtKmAIOBUTv\\nmFe0aVESldPd3iuLL0/KJ635BQKBgQDlwZZerhiIXVi3iinfw+pRzBiQySVJrBqs\\nuBFMa/3ViSWxg1HSfIY+W+L104lP3GN7DGmlKIRLrYGapcGQHBi5oWCydWCdEXg8\\nWMCBqSzeDSslHceyftOqOlwYI3T8gkasY2mRPuu5TqfRjYEIi6j+or4C9Q4JilO8\\nAFJtbk+aRQKBgQCkutx9F3WQUQelk3VPBrvSwIa3T/4XBJTW8lueY+tn1yjUblel\\n4zeDDFBT2bF8/eA7A8IWxJGlx1oLElEqe35Ucl30jvqUWHAAXYtbL16JQNo8k8UN\\nwx0W3KTn0z/q832ir+kAaa6/MD+Zrf50a/lMZHons3cG3OpQ5cicaxjEkQKBgQCS\\nPR/q78EputCnMkfo55iTq+bO8VjMhcEMwrQwAmS0r/DQBhfkc+I2euIBOj2iGVMw\\nlPwBZcKfMLbXqj2D7n5GWVNlA5UVJHN1ZcBSR04JoDQgEc5z7InpRfAsZRUnS/yT\\n6UreakA72La0iO7ic5KDUS7ETxo6NFOLzGCqypXcSQKBgQDIj34Fw9Mp5glx/uIb\\nIr+TUO2GgBSaFUR2pN7SzN73ivWnb7tcXth7wAOoy61Pq6LRdqFFKowtqCuN8uCg\\n+L8DwCz5ofLJu8uCEL/cmec57T8A/dS744hVxRXRgzsa2ury9s2JapHopjSdJr83\\nkwbUswcywPgXXh3BfbNtnVsoRw==\\n-----END PRIVATE KEY-----\\n\"?.replace(/\\\\n/g, \"\\n\");\n            if (!privateKey || !\"firebase-adminsdk-fbsvc@hatake-ffb62.iam.gserviceaccount.com\" || !\"hatake-ffb62\") {\n                console.warn(\"Firebase Admin environment variables are missing - running in offline mode\");\n                return false;\n            }\n            (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)({\n                credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n                    projectId: \"hatake-ffb62\",\n                    clientEmail: \"firebase-adminsdk-fbsvc@hatake-ffb62.iam.gserviceaccount.com\",\n                    privateKey: privateKey\n                }),\n                projectId: \"hatake-ffb62\"\n            });\n            console.log(\"Firebase Admin initialized successfully\");\n        }\n        adminDb = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)();\n        isInitialized = true;\n        return true;\n    } catch (error) {\n        console.error(\"Firebase Admin initialization error:\", error);\n        isInitialized = false;\n        return false;\n    }\n}\n// 初期化を試行\ninitializeFirebaseAdmin();\n\nconst db = adminDb;\n// キャラクターデータ取得関数\nasync function getCharacterData(characterId) {\n    try {\n        if (!isInitialized || !adminDb) {\n            console.warn(\"Firebase Admin not initialized, cannot fetch character data\");\n            return null;\n        }\n        const doc = await adminDb.collection(\"characters\").doc(characterId).get();\n        if (!doc.exists) {\n            return null;\n        }\n        const data = doc.data();\n        // Firestore Timestampを文字列に変換\n        const serializedData = JSON.parse(JSON.stringify(data, (key, value)=>{\n            if (value && typeof value === \"object\" && value._seconds) {\n                // Firestore Timestamp\n                return new Date(value._seconds * 1000).toISOString();\n            }\n            return value;\n        }));\n        return {\n            id: doc.id,\n            ...serializedData\n        };\n    } catch (error) {\n        console.error(\"Character data fetch error:\", error);\n        return null;\n    }\n}\n// 全キャラクターID取得\nasync function getAllCharacterIds() {\n    try {\n        if (!isInitialized || !adminDb) {\n            console.warn(\"Firebase Admin not initialized, cannot fetch character IDs\");\n            return [];\n        }\n        const snapshot = await adminDb.collection(\"characters\").get();\n        const paths = snapshot.docs.map((doc)=>({\n                params: {\n                    id: doc.id\n                }\n            }));\n        return paths;\n    } catch (error) {\n        console.error(\"Character IDs fetch error:\", error);\n        return [];\n    }\n}\n// 全キャラクターデータ取得\nasync function getAllCharacterData() {\n    try {\n        if (!isInitialized || !adminDb) {\n            console.warn(\"Firebase Admin not initialized, cannot fetch character data\");\n            return [];\n        }\n        const snapshot = await adminDb.collection(\"characters\").get();\n        const characters = snapshot.docs.map((doc)=>{\n            const data = doc.data();\n            // Firestore Timestampを文字列に変換\n            const serializedData = JSON.parse(JSON.stringify(data, (_key, value)=>{\n                if (value && typeof value === \"object\" && value._seconds) {\n                    // Firestore Timestamp\n                    return new Date(value._seconds * 1000).toISOString();\n                }\n                return value;\n            }));\n            return {\n                id: doc.id,\n                ...serializedData\n            };\n        });\n        return characters;\n    } catch (error) {\n        console.error(\"All character data fetch error:\", error);\n        return [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjQyxHQUFHO1FBQzNELE1BQU1vQixhQUFhTixTQUFTRSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDbkI7WUFDcEMsTUFBTUksT0FBT0osSUFBSUksSUFBSTtZQUVyQiw2QkFBNkI7WUFDN0IsTUFBTUMsaUJBQWlCQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQ0osTUFBTSxDQUFDbUIsTUFBTWI7Z0JBQzVELElBQUlBLFNBQVMsT0FBT0EsVUFBVSxZQUFZQSxNQUFNQyxRQUFRLEVBQUU7b0JBQ3hELHNCQUFzQjtvQkFDdEIsT0FBTyxJQUFJQyxLQUFLRixNQUFNQyxRQUFRLEdBQUcsTUFBTUUsV0FBVztnQkFDcEQ7Z0JBQ0EsT0FBT0g7WUFDVDtZQUVBLE9BQU87Z0JBQUVJLElBQUlkLElBQUljLEVBQUU7Z0JBQUUsR0FBR1QsY0FBYztZQUFDO1FBQ3pDO1FBRUEsT0FBT2lCO0lBQ1QsRUFBRSxPQUFPMUIsT0FBTztRQUNkTixRQUFRTSxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPLEVBQUU7SUFDWDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29jLWNoYXJhY3Rlci1zaGVldC8uL2xpYi9maXJlYmFzZS1hZG1pbi50cz82YTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIGNlcnQgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9hcHAnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UtYWRtaW4vZmlyZXN0b3JlJztcblxuLy8gRmlyZWJhc2UgQWRtaW7liJ3mnJ/ljJZcbmxldCBhZG1pbkRiOiBhbnkgPSBudWxsO1xubGV0IGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gaW5pdGlhbGl6ZUZpcmViYXNlQWRtaW4oKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFnZXRBcHBzKCkubGVuZ3RoKSB7XG4gICAgICBjb25zdCBwcml2YXRlS2V5ID0gcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJJVkFURV9LRVk/LnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKTtcbiAgICAgIFxuICAgICAgaWYgKCFwcml2YXRlS2V5IHx8ICFwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwgfHwgIXByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSBBZG1pbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3NpbmcgLSBydW5uaW5nIGluIG9mZmxpbmUgbW9kZScpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGluaXRpYWxpemVBcHAoe1xuICAgICAgICBjcmVkZW50aWFsOiBjZXJ0KHtcbiAgICAgICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gICAgICAgICAgY2xpZW50RW1haWw6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCxcbiAgICAgICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5LFxuICAgICAgICB9KSxcbiAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBBZG1pbiBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9XG4gICAgXG4gICAgYWRtaW5EYiA9IGdldEZpcmVzdG9yZSgpO1xuICAgIGlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmViYXNlIEFkbWluIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICBpc0luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIOWIneacn+WMluOCkuippuihjFxuaW5pdGlhbGl6ZUZpcmViYXNlQWRtaW4oKTtcblxuZXhwb3J0IHsgYWRtaW5EYiB9O1xuZXhwb3J0IGNvbnN0IGRiID0gYWRtaW5EYjtcblxuLy8g44Kt44Oj44Op44Kv44K/44O844OH44O844K/5Y+W5b6X6Zai5pWwXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2hhcmFjdGVyRGF0YShjaGFyYWN0ZXJJZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFpc0luaXRpYWxpemVkIHx8ICFhZG1pbkRiKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIEFkbWluIG5vdCBpbml0aWFsaXplZCwgY2Fubm90IGZldGNoIGNoYXJhY3RlciBkYXRhJyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZG9jID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdjaGFyYWN0ZXJzJykuZG9jKGNoYXJhY3RlcklkKS5nZXQoKTtcbiAgICBcbiAgICBpZiAoIWRvYy5leGlzdHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICBcbiAgICAvLyBGaXJlc3RvcmUgVGltZXN0YW1w44KS5paH5a2X5YiX44Gr5aSJ5o+bXG4gICAgY29uc3Qgc2VyaWFsaXplZERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5fc2Vjb25kcykge1xuICAgICAgICAvLyBGaXJlc3RvcmUgVGltZXN0YW1wXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZS5fc2Vjb25kcyAqIDEwMDApLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiB7IGlkOiBkb2MuaWQsIC4uLnNlcmlhbGl6ZWREYXRhIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ2hhcmFjdGVyIGRhdGEgZmV0Y2ggZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIOWFqOOCreODo+ODqeOCr+OCv+ODvElE5Y+W5b6XXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ2hhcmFjdGVySWRzKCkge1xuICB0cnkge1xuICAgIGlmICghaXNJbml0aWFsaXplZCB8fCAhYWRtaW5EYikge1xuICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSBBZG1pbiBub3QgaW5pdGlhbGl6ZWQsIGNhbm5vdCBmZXRjaCBjaGFyYWN0ZXIgSURzJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdjaGFyYWN0ZXJzJykuZ2V0KCk7XG4gICAgY29uc3QgcGF0aHMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jOiBhbnkpID0+ICh7XG4gICAgICBwYXJhbXM6IHsgaWQ6IGRvYy5pZCB9XG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiBwYXRocztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDaGFyYWN0ZXIgSURzIGZldGNoIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLy8g5YWo44Kt44Oj44Op44Kv44K/44O844OH44O844K/5Y+W5b6XXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ2hhcmFjdGVyRGF0YSgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWlzSW5pdGlhbGl6ZWQgfHwgIWFkbWluRGIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2UgQWRtaW4gbm90IGluaXRpYWxpemVkLCBjYW5ub3QgZmV0Y2ggY2hhcmFjdGVyIGRhdGEnKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ2NoYXJhY3RlcnMnKS5nZXQoKTtcbiAgICBjb25zdCBjaGFyYWN0ZXJzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYzogYW55KSA9PiB7XG4gICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgIFxuICAgICAgLy8gRmlyZXN0b3JlIFRpbWVzdGFtcOOCkuaWh+Wtl+WIl+OBq+WkieaPm1xuICAgICAgY29uc3Qgc2VyaWFsaXplZERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEsIChfa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5fc2Vjb25kcykge1xuICAgICAgICAgIC8vIEZpcmVzdG9yZSBUaW1lc3RhbXBcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUuX3NlY29uZHMgKiAxMDAwKS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgaWQ6IGRvYy5pZCwgLi4uc2VyaWFsaXplZERhdGEgfTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gY2hhcmFjdGVycztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBbGwgY2hhcmFjdGVyIGRhdGEgZmV0Y2ggZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufSJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImNlcnQiLCJnZXRGaXJlc3RvcmUiLCJhZG1pbkRiIiwiaXNJbml0aWFsaXplZCIsImluaXRpYWxpemVGaXJlYmFzZUFkbWluIiwibGVuZ3RoIiwicHJpdmF0ZUtleSIsInByb2Nlc3MiLCJlbnYiLCJGSVJFQkFTRV9QUklWQVRFX0tFWSIsInJlcGxhY2UiLCJGSVJFQkFTRV9DTElFTlRfRU1BSUwiLCJGSVJFQkFTRV9QUk9KRUNUX0lEIiwiY29uc29sZSIsIndhcm4iLCJjcmVkZW50aWFsIiwicHJvamVjdElkIiwiY2xpZW50RW1haWwiLCJsb2ciLCJlcnJvciIsImRiIiwiZ2V0Q2hhcmFjdGVyRGF0YSIsImNoYXJhY3RlcklkIiwiZG9jIiwiY29sbGVjdGlvbiIsImdldCIsImV4aXN0cyIsImRhdGEiLCJzZXJpYWxpemVkRGF0YSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImtleSIsInZhbHVlIiwiX3NlY29uZHMiLCJEYXRlIiwidG9JU09TdHJpbmciLCJpZCIsImdldEFsbENoYXJhY3RlcklkcyIsInNuYXBzaG90IiwicGF0aHMiLCJkb2NzIiwibWFwIiwicGFyYW1zIiwiZ2V0QWxsQ2hhcmFjdGVyRGF0YSIsImNoYXJhY3RlcnMiLCJfa2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/firebase-admin.ts\n");

/***/ }),

/***/ "(api)/./pages/api/characters/[id]/delete.ts":
/*!*********************************************!*\
  !*** ./pages/api/characters/[id]/delete.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/firebase-admin */ \"(api)/./lib/firebase-admin.ts\");\n/* harmony import */ var firebase_admin_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/storage */ \"firebase-admin/storage\");\n/* harmony import */ var firebase_admin_storage__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(firebase_admin_storage__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function handler(req, res) {\n    if (req.method !== \"DELETE\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { id } = req.query;\n    if (!id || typeof id !== \"string\") {\n        return res.status(400).json({\n            error: \"Invalid character ID\"\n        });\n    }\n    try {\n        // Firebase Adminが初期化されているか確認\n        if (!_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_0__.db) {\n            console.error(\"Firebase Admin DB is not initialized\");\n            return res.status(500).json({\n                error: \"Database connection error\"\n            });\n        }\n        // キャラクターデータを取得（画像URLを確認するため）\n        const characterDoc = await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_0__.db.collection(\"characters\").doc(id).get();\n        if (!characterDoc.exists) {\n            return res.status(404).json({\n                error: \"Character not found\"\n            });\n        }\n        const characterData = characterDoc.data();\n        // 画像URLがある場合は、Firebase Storageから削除\n        if (characterData?.character_image_url) {\n            try {\n                // URLからStorage pathを抽出\n                const url = characterData.character_image_url;\n                const pathMatch = url.match(/o\\/(.+?)\\?/);\n                if (pathMatch) {\n                    const imagePath = decodeURIComponent(pathMatch[1]);\n                    const storage = (0,firebase_admin_storage__WEBPACK_IMPORTED_MODULE_1__.getStorage)();\n                    const file = storage.bucket().file(imagePath);\n                    // ファイルが存在するか確認してから削除\n                    const [exists] = await file.exists();\n                    if (exists) {\n                        await file.delete();\n                        console.log(\"Deleted image:\", imagePath);\n                    }\n                }\n            } catch (error) {\n                // 画像削除に失敗してもキャラクター削除は続行\n                console.error(\"Failed to delete image:\", error);\n            }\n        }\n        // Firestoreからキャラクターデータを削除\n        await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_0__.db.collection(\"characters\").doc(id).delete();\n        res.status(200).json({\n            success: true,\n            message: \"Character deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting character:\", error);\n        res.status(500).json({\n            error: \"Failed to delete character\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvY2hhcmFjdGVycy9baWRdL2RlbGV0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ29EO0FBQ0E7QUFFckMsZUFBZUUsUUFDNUJDLEdBQW1CLEVBQ25CQyxHQUFvQjtJQUVwQixJQUFJRCxJQUFJRSxNQUFNLEtBQUssVUFBVTtRQUMzQixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDNUQ7SUFFQSxNQUFNLEVBQUVDLEVBQUUsRUFBRSxHQUFHTixJQUFJTyxLQUFLO0lBRXhCLElBQUksQ0FBQ0QsTUFBTSxPQUFPQSxPQUFPLFVBQVU7UUFDakMsT0FBT0wsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXVCO0lBQzlEO0lBRUEsSUFBSTtRQUNGLDZCQUE2QjtRQUM3QixJQUFJLENBQUNSLG1EQUFFQSxFQUFFO1lBQ1BXLFFBQVFILEtBQUssQ0FBQztZQUNkLE9BQU9KLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBNEI7UUFDbkU7UUFFQSw2QkFBNkI7UUFDN0IsTUFBTUksZUFBZSxNQUFNWixtREFBRUEsQ0FBQ2EsVUFBVSxDQUFDLGNBQWNDLEdBQUcsQ0FBQ0wsSUFBSU0sR0FBRztRQUVsRSxJQUFJLENBQUNILGFBQWFJLE1BQU0sRUFBRTtZQUN4QixPQUFPWixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXNCO1FBQzdEO1FBRUEsTUFBTVMsZ0JBQWdCTCxhQUFhTSxJQUFJO1FBRXZDLG1DQUFtQztRQUNuQyxJQUFJRCxlQUFlRSxxQkFBcUI7WUFDdEMsSUFBSTtnQkFDRix1QkFBdUI7Z0JBQ3ZCLE1BQU1DLE1BQU1ILGNBQWNFLG1CQUFtQjtnQkFDN0MsTUFBTUUsWUFBWUQsSUFBSUUsS0FBSyxDQUFDO2dCQUU1QixJQUFJRCxXQUFXO29CQUNiLE1BQU1FLFlBQVlDLG1CQUFtQkgsU0FBUyxDQUFDLEVBQUU7b0JBQ2pELE1BQU1JLFVBQVV4QixrRUFBVUE7b0JBQzFCLE1BQU15QixPQUFPRCxRQUFRRSxNQUFNLEdBQUdELElBQUksQ0FBQ0g7b0JBRW5DLHFCQUFxQjtvQkFDckIsTUFBTSxDQUFDUCxPQUFPLEdBQUcsTUFBTVUsS0FBS1YsTUFBTTtvQkFDbEMsSUFBSUEsUUFBUTt3QkFDVixNQUFNVSxLQUFLRSxNQUFNO3dCQUNqQmpCLFFBQVFrQixHQUFHLENBQUMsa0JBQWtCTjtvQkFDaEM7Z0JBQ0Y7WUFDRixFQUFFLE9BQU9mLE9BQU87Z0JBQ2Qsd0JBQXdCO2dCQUN4QkcsUUFBUUgsS0FBSyxDQUFDLDJCQUEyQkE7WUFDM0M7UUFDRjtRQUVBLDBCQUEwQjtRQUMxQixNQUFNUixtREFBRUEsQ0FBQ2EsVUFBVSxDQUFDLGNBQWNDLEdBQUcsQ0FBQ0wsSUFBSW1CLE1BQU07UUFFaER4QixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUV1QixTQUFTO1lBQU1DLFNBQVM7UUFBaUM7SUFDbEYsRUFBRSxPQUFPdkIsT0FBTztRQUNkRyxRQUFRSCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQ0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTZCO0lBQzdEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2MtY2hhcmFjdGVyLXNoZWV0Ly4vcGFnZXMvYXBpL2NoYXJhY3RlcnMvW2lkXS9kZWxldGUudHM/ODdkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vLi4vLi4vbGliL2ZpcmViYXNlLWFkbWluJztcbmltcG9ydCB7IGdldFN0b3JhZ2UgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9zdG9yYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0RFTEVURScpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7IGlkIH0gPSByZXEucXVlcnk7XG5cbiAgaWYgKCFpZCB8fCB0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIGNoYXJhY3RlciBJRCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIEZpcmViYXNlIEFkbWlu44GM5Yid5pyf5YyW44GV44KM44Gm44GE44KL44GL56K66KqNXG4gICAgaWYgKCFkYikge1xuICAgICAgY29uc29sZS5lcnJvcignRmlyZWJhc2UgQWRtaW4gREIgaXMgbm90IGluaXRpYWxpemVkJyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZXJyb3InIH0pO1xuICAgIH1cblxuICAgIC8vIOOCreODo+ODqeOCr+OCv+ODvOODh+ODvOOCv+OCkuWPluW+l++8iOeUu+WDj1VSTOOCkueiuuiqjeOBmeOCi+OBn+OCge+8iVxuICAgIGNvbnN0IGNoYXJhY3RlckRvYyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NoYXJhY3RlcnMnKS5kb2MoaWQpLmdldCgpO1xuICAgIFxuICAgIGlmICghY2hhcmFjdGVyRG9jLmV4aXN0cykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdDaGFyYWN0ZXIgbm90IGZvdW5kJyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJEYXRhID0gY2hhcmFjdGVyRG9jLmRhdGEoKTtcbiAgICBcbiAgICAvLyDnlLvlg49VUkzjgYzjgYLjgovloLTlkIjjga/jgIFGaXJlYmFzZSBTdG9yYWdl44GL44KJ5YmK6ZmkXG4gICAgaWYgKGNoYXJhY3RlckRhdGE/LmNoYXJhY3Rlcl9pbWFnZV91cmwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVSTOOBi+OCiVN0b3JhZ2UgcGF0aOOCkuaKveWHulxuICAgICAgICBjb25zdCB1cmwgPSBjaGFyYWN0ZXJEYXRhLmNoYXJhY3Rlcl9pbWFnZV91cmw7XG4gICAgICAgIGNvbnN0IHBhdGhNYXRjaCA9IHVybC5tYXRjaCgvb1xcLyguKz8pXFw/Lyk7XG4gICAgICAgIFxuICAgICAgICBpZiAocGF0aE1hdGNoKSB7XG4gICAgICAgICAgY29uc3QgaW1hZ2VQYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhNYXRjaFsxXSk7XG4gICAgICAgICAgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgICAgICAgICBjb25zdCBmaWxlID0gc3RvcmFnZS5idWNrZXQoKS5maWxlKGltYWdlUGF0aCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8g44OV44Kh44Kk44Or44GM5a2Y5Zyo44GZ44KL44GL56K66KqN44GX44Gm44GL44KJ5YmK6ZmkXG4gICAgICAgICAgY29uc3QgW2V4aXN0c10gPSBhd2FpdCBmaWxlLmV4aXN0cygpO1xuICAgICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICAgIGF3YWl0IGZpbGUuZGVsZXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVsZXRlZCBpbWFnZTonLCBpbWFnZVBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8g55S75YOP5YmK6Zmk44Gr5aSx5pWX44GX44Gm44KC44Kt44Oj44Op44Kv44K/44O85YmK6Zmk44Gv57aa6KGMXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpcmVzdG9yZeOBi+OCieOCreODo+ODqeOCr+OCv+ODvOODh+ODvOOCv+OCkuWJiumZpFxuICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2NoYXJhY3RlcnMnKS5kb2MoaWQpLmRlbGV0ZSgpO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnQ2hhcmFjdGVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjaGFyYWN0ZXI6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIGNoYXJhY3RlcicgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiZGIiLCJnZXRTdG9yYWdlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImlkIiwicXVlcnkiLCJjb25zb2xlIiwiY2hhcmFjdGVyRG9jIiwiY29sbGVjdGlvbiIsImRvYyIsImdldCIsImV4aXN0cyIsImNoYXJhY3RlckRhdGEiLCJkYXRhIiwiY2hhcmFjdGVyX2ltYWdlX3VybCIsInVybCIsInBhdGhNYXRjaCIsIm1hdGNoIiwiaW1hZ2VQYXRoIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic3RvcmFnZSIsImZpbGUiLCJidWNrZXQiLCJkZWxldGUiLCJsb2ciLCJzdWNjZXNzIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/characters/[id]/delete.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcharacters%2F%5Bid%5D%2Fdelete.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();