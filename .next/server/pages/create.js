(()=>{var e={};e.id=417,e.ids=[417],e.modules={2884:(e,a,t)=>{"use strict";t.r(a),t.d(a,{config:()=>el,default:()=>ee,getServerSideProps:()=>es,getStaticPaths:()=>et,getStaticProps:()=>ea,reportWebVitals:()=>en,routeModule:()=>eh,unstable_getServerProps:()=>ec,unstable_getServerSideProps:()=>ed,unstable_getStaticParams:()=>eo,unstable_getStaticPaths:()=>er,unstable_getStaticProps:()=>ei});var s={};t.r(s),t.d(s,{default:()=>Y,getStaticProps:()=>Q});var l=t(7093),n=t(5244),i=t(1323),r=t(7645),o=t(6814),c=t(997),d=t(968),h=t.n(d),u=t(6689),p=t(1163),m=t(6058),x=t(6274),g=t(7987),_=t(9314),j=t(5993),v=t(7822),y=t(5696);let b=require("firebase/storage"),N=(0,t(4324).initializeApp)({apiKey:"AIzaSyDtwR0-ZkF_FSV6ffDTBj7KAvihhR9S-8c",authDomain:"hatake-ffb62.firebaseapp.com",projectId:"hatake-ffb62",storageBucket:"hatake-ffb62.firebasestorage.app",messagingSenderId:"883954002398",appId:"1:883954002398:web:91c3ae34dda9b94f5e154f"}),f=(0,b.getStorage)(N),k=async(e,a)=>{try{let t=Date.now(),s=Math.random().toString(36).substring(2,15),l=e.name.split(".").pop(),n=`character_images/${t}_${s}.${l}`,i=(0,b.ref)(f,n),r=(0,b.uploadBytesResumable)(i,e);return new Promise((e,t)=>{r.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;a&&a({progress:Math.round(t),isUploading:!0})},e=>{console.error("Upload failed:",e),a&&a({progress:0,isUploading:!1,error:"アップロードに失敗しました"}),t(e)},async()=>{try{let t=await (0,b.getDownloadURL)(r.snapshot.ref);a&&a({progress:100,isUploading:!1}),e({url:t,path:n})}catch(e){t(e)}})})}catch(e){throw console.error("Upload initialization failed:",e),e}},w=async e=>{try{let a=(0,b.ref)(f,e);await (0,b.deleteObject)(a),console.log("Image deleted successfully:",e)}catch(e){console.error("Failed to delete image:",e)}},C=e=>{try{let a=new URL(e);if(console.log("URL hostname:",a.hostname),a.hostname.includes("firebasestorage.googleapis.com")){let a=e.match(/o\/(.+?)\?/);if(console.log("Path match result:",a),a){let e=decodeURIComponent(a[1]);return console.log("Decoded path:",e),e}}return null}catch(e){return console.error("Error parsing URL:",e),null}},I=require("react-image-crop");var $=t.n(I);t(2782);let S=({isOpen:e,onClose:a,sourceImageUrl:t,onCropComplete:s,characterName:l="キャラクター"})=>{let[n,i]=(0,u.useState)({unit:"%",width:50,height:50,x:25,y:25}),[r,o]=(0,u.useState)(),[d,h]=(0,u.useState)(!1),[p,m]=(0,u.useState)(""),x=(0,u.useRef)(null);(0,u.useEffect)(()=>{if(t&&e)return(async()=>{try{if(t.includes("firebasestorage.googleapis.com")){let e=`/api/image-proxy?url=${encodeURIComponent(t)}`;m(e)}else m(t)}catch(e){console.warn("Failed to process image URL:",e),m(t)}})(),()=>{p&&p.startsWith("blob:")&&URL.revokeObjectURL(p)}},[t,e]);let g=(0,u.useCallback)(e=>{let{naturalWidth:a,naturalHeight:t}=e.currentTarget,s=Math.min(a,t);i({unit:"px",width:.6*s,height:.6*s,x:(a-s)/2+.2*s,y:(t-s)/2+.2*s})},[]),_=(0,u.useCallback)(async()=>{if(r&&x.current){h(!0);try{let e=x.current,t=document.createElement("canvas"),l=t.getContext("2d");if(!l)throw Error("Canvas context not available");t.width=256,t.height=256,l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high";let n=e.naturalWidth/e.clientWidth,i=e.naturalHeight/e.clientHeight,o=r.x*n,c=r.y*i,d=r.width*n,u=r.height*i;console.log("Crop info:",{completedCrop:r,scale:{scaleX:n,scaleY:i},source:{x:o,y:c,width:d,height:u},imageSize:{natural:{width:e.naturalWidth,height:e.naturalHeight},display:{width:e.clientWidth,height:e.clientHeight}}}),l.fillStyle="#FFFFFF",l.fillRect(0,0,256,256),l.drawImage(e,o,c,d,u,0,0,256,256);let p=t.toDataURL("image/png");if(!p||"data:,"===p)throw Error("Failed to generate cropped image data");let m=await fetch(p),g=await m.blob(),_=URL.createObjectURL(g);s(_),h(!1),a()}catch(e){console.error("Crop generation error:",e),h(!1),alert("画像の処理に失敗しました: "+(e instanceof Error?e.message:"不明なエラー"))}}},[r,s,a]);return e?c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:(0,c.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:[(0,c.jsxs)("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",color:"#333",textAlign:"center"},children:[c.jsx("i",{className:"fas fa-crop",style:{marginRight:"8px"}}),l,"の顔画像をクロップ"]}),(0,c.jsxs)("div",{style:{marginBottom:"20px",textAlign:"center"},children:[c.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#666"},children:"顔部分をドラッグして選択してください"}),c.jsx("div",{style:{maxWidth:"500px",maxHeight:"500px",margin:"0 auto",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:c.jsx($(),{crop:n,onChange:e=>i(e),onComplete:e=>o(e),aspect:1,minWidth:50,minHeight:50,children:c.jsx("img",{ref:x,src:p||t,alt:"クロップ対象画像",onLoad:g,style:{maxWidth:"100%",maxHeight:"500px",display:"block"}})})})]}),r&&c.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,c.jsxs)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:["選択範囲: ",Math.round(r.width)," \xd7 ",Math.round(r.height),"px",c.jsx("br",{}),"最終サイズ: 256 \xd7 256px（高品質）"]})}),(0,c.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[c.jsx("button",{onClick:a,style:{padding:"10px 20px",backgroundColor:"#f0f0f0",color:"#666",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"キャンセル"}),c.jsx("button",{onClick:_,disabled:!r||d,style:{padding:"10px 20px",backgroundColor:d?"#ccc":"#74cdc3",color:"white",border:"none",borderRadius:"4px",cursor:d?"not-allowed":"pointer",fontSize:"14px"},children:d?(0,c.jsxs)(c.Fragment,{children:[c.jsx("i",{className:"fas fa-spinner fa-spin",style:{marginRight:"6px"}}),"処理中..."]}):(0,c.jsxs)(c.Fragment,{children:[c.jsx("i",{className:"fas fa-check",style:{marginRight:"6px"}}),"顔画像を設定"]})})]})]})}):null};function O({characterData:e,handleInputChange:a}){let[t,s]=(0,u.useState)({progress:0,isUploading:!1}),[l,n]=(0,u.useState)(!1),[i,r]=(0,u.useState)(!1),[o,d]=(0,u.useState)(()=>!1),[h,p]=(0,u.useState)(()=>!0),[m,x]=(0,u.useState)(()=>!1),[g,_]=(0,u.useState)(null),[j,v]=(0,u.useState)(null),[y,b]=(0,u.useState)({}),N=(e,a)=>{let t=document.activeElement;if(t&&"true"===t.getAttribute("contenteditable")){t.focus();let s=window.getSelection(),l=null;s&&s.rangeCount>0&&(l=s.getRangeAt(0).cloneRange()),["bold","italic","underline","strikeThrough","foreColor"].includes(e)&&l&&!l.collapsed?(t.style.userSelect="none",document.execCommand(e,!1,a),requestAnimationFrame(()=>{try{l&&s&&(s.removeAllRanges(),s.addRange(l))}catch(e){}t.style.userSelect=""})):document.execCommand(e,!1,a)}},f=e=>{let a=j||document.activeElement;if(a&&"true"===a.getAttribute("contenteditable")){a.focus(),document.execCommand("styleWithCSS",!1,"true");let t=window.getSelection();if(!t)return;if(t.rangeCount>0){let a=t.getRangeAt(0);if(a.collapsed){let s=a.startContainer,l=s.nodeType===Node.TEXT_NODE?s.parentElement:s;if(l&&"SPAN"===l.tagName&&l.style.fontSize)l.style.fontSize=`${e}pt`;else{let s=document.createElement("span");s.style.fontSize=`${e}pt`,s.textContent=" ",a.insertNode(s);let l=document.createRange();l.setStart(s,1),l.collapse(!0),t.removeAllRanges(),t.addRange(l)}}else{let s=a.extractContents(),l=document.createElement("div");l.appendChild(s),l.querySelectorAll('span[style*="font-size"]').forEach(e=>{let a=e.parentNode;if(a){for(;e.firstChild;)a.insertBefore(e.firstChild,e);a.removeChild(e)}});let n=document.createElement("span");for(n.style.fontSize=`${e}pt`;l.firstChild;)n.appendChild(l.firstChild);a.insertNode(n);let i=document.createRange();i.selectNodeContents(n),t.removeAllRanges(),t.addRange(i)}}}},I=e=>{let a=document.activeElement;if(a&&"true"===a.getAttribute("contenteditable")){a.focus();let t=window.getSelection(),s=null;t&&t.rangeCount>0&&(s=t.getRangeAt(0).cloneRange()),s&&!s.collapsed?(a.style.userSelect="none",document.execCommand("foreColor",!1,e),_(null),requestAnimationFrame(()=>{try{s&&t&&(t.removeAllRanges(),t.addRange(s))}catch(e){}a.style.userSelect=""})):(document.execCommand("foreColor",!1,e),_(null))}},$=["#000000","#7F1D1D","#EA580C","#CA8A04","#166534","#0C7489","#1E40AF","#581C87","#BE185D","#1F2937","#991B1B","#F97316","#EAB308","#16A34A","#0891B2","#2563EB","#7C3AED","#C2185B","#374151","#DC2626","#FB923C","#FACC15","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#DB2777","#6B7280","#EF4444","#FDBA74","#FDE047","#4ADE80","#22D3EE","#60A5FA","#A78BFA","#EC4899","#9CA3AF","#F87171","#FED7AA","#FEF08A","#86EFAC","#7DD3FC","#93C5FD","#C4B5FD","#F472B6","#E5E7EB","#FECACA","#FEE2E2","#FEFCE8","#BBF7D0","#CFFAFE","#DBEAFE","#DDD6FE","#FBCFE8"],O=[{label:"極小",size:"8pt",value:8},{label:"小",size:"9pt",value:9},{label:"標準",size:"10pt",value:10},{label:"中",size:"12pt",value:12},{label:"大",size:"14pt",value:14},{label:"特大",size:"16pt",value:16},{label:"巨大",size:"20pt",value:20},{label:"超巨大",size:"24pt",value:24}],D=(0,u.useRef)(null),z=(0,u.useRef)(null),F=(e,t)=>{let s=t.innerHTML,l=window.getSelection(),n=null,i=0,r=null;if(l&&l.rangeCount>0){let e=l.getRangeAt(0);n=e.cloneRange(),i=e.startOffset,r=e.startContainer}y[e]&&clearTimeout(y[e]);let o=setTimeout(()=>{let o=(t.textContent||"").trim(),c=s.replace(/<\/?[^>]+(>|$)/g,"").trim();""===o||""===c?(a(e,""),t.innerHTML=""):a(e,s),n&&l&&r&&setTimeout(()=>{try{if(t.contains(r)||t===r){let e=document.createRange(),a=r.nodeType===Node.TEXT_NODE?r.textContent?.length||0:r.childNodes.length;if(e.setStart(r,Math.min(i,a)),n.collapsed)e.collapse(!0);else{let a=n.endOffset,s=n.endContainer;if(t.contains(s)||t===s){let t=s.nodeType===Node.TEXT_NODE?s.textContent?.length||0:s.childNodes.length;e.setEnd(s,Math.min(a,t))}else e.collapse(!0)}l.removeAllRanges(),l.addRange(e)}else{let e=document.createRange();e.selectNodeContents(t),e.collapse(!1),l.removeAllRanges(),l.addRange(e)}}catch(e){try{let e=document.createRange();e.selectNodeContents(t),e.collapse(!1),l.removeAllRanges(),l.addRange(e)}catch(e){}}},0)},300);b(a=>({...a,[e]:o}))},R=(e,t)=>{y[e]&&(clearTimeout(y[e]),b(a=>{let t={...a};return delete t[e],t})),a(e,t.innerHTML)},E=e=>{let a=e.naturalWidth/e.naturalHeight;return a>1.2?"landscape":a<.8?"portrait":"square"},A=(e,a=5242880)=>new Promise((t,s)=>{let l=document.createElement("canvas"),n=l.getContext("2d"),i=new Image;i.onload=()=>{let{width:r,height:o}=i;if(r>o?r>1920&&(o=1920*o/r,r=1920):o>1920&&(r=1920*r/o,o=1920),l.width=r,l.height=o,!n){s(Error("Canvas context not available"));return}let c="image/png"===e.type;c||(n.fillStyle="#FFFFFF",n.fillRect(0,0,r,o)),n.drawImage(i,0,0,r,o);let d=.9,h=()=>{c?l.toBlob(a=>{if(!a){s(Error("Failed to compress image"));return}t(new File([a],e.name,{type:"image/png",lastModified:Date.now()}))},"image/png"):l.toBlob(l=>{if(!l){s(Error("Failed to compress image"));return}l.size<=a||d<=.1?t(new File([l],e.name,{type:"image/jpeg",lastModified:Date.now()})):(d-=.1,h())},"image/jpeg",d)};h()},i.onerror=()=>s(Error("Failed to load image")),i.src=URL.createObjectURL(e)}),T=async t=>{let l=t.target.files?.[0];if(l){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(l.type)){alert("JPEG、PNG、GIF、WebP形式の画像をアップロードしてください");return}try{let n=l;l.size>5242880&&(console.log(`画像サイズが${(l.size/1024/1024).toFixed(2)}MBのため、圧縮します...`),n=await A(l,5242880),console.log(`圧縮後のサイズ: ${(n.size/1024/1024).toFixed(2)}MB`));let i=e.character_image_url,r=i?C(i):null,o=await k(n,s),c=new Image;c.onload=()=>{let e=E(c);a("character_image_url",o.url),a("image_aspect_ratio",e)},c.src=o.url,r&&await w(r),console.log("Image uploaded successfully:",o.url),t.target.value=""}catch(e){console.error("Upload error:",e),alert(`画像のアップロードに失敗しました: ${e instanceof Error?e.message:"Unknown error"}`),s({progress:0,isUploading:!1})}}},M=async()=>{let t=e.character_image_url;if(!t){console.log("No image URL to delete");return}console.log("Attempting to delete image:",t);try{let s=C(t);if(console.log("Extracted image path:",s),s?(await w(s),console.log("Image deletion completed")):console.log("Could not extract image path from URL"),a("character_image_url",""),e.face_image_url){let t=C(e.face_image_url);t&&await w(t),a("face_image_url",""),a("face_image_crop_data",null)}}catch(e){console.error("Failed to delete image:",e),a("character_image_url",""),a("face_image_url",""),a("face_image_crop_data",null)}},P=async t=>{r(!0);try{let s=await fetch(t),l=await s.blob(),n=`face_${Date.now()}.png`,i=new File([l],n,{type:"image/png"});if(e.face_image_url){let a=C(e.face_image_url);a&&await w(a)}let r=await k(i,void 0);a("face_image_url",r.url),URL.revokeObjectURL(t),console.log("Face image uploaded successfully:",r.url)}catch(e){console.error("Failed to upload face image:",e),alert("顔画像のアップロードに失敗しました")}finally{r(!1)}},B=()=>{if(!e.character_image_url){alert("まず先にキャラクター画像をアップロードしてください");return}n(!0)},q=async()=>{if(e.face_image_url)try{let t=C(e.face_image_url);t&&await w(t),a("face_image_url",""),a("face_image_crop_data",null)}catch(e){console.error("Failed to delete face image:",e),a("face_image_url",""),a("face_image_crop_data",null)}};return(0,c.jsxs)("div",{className:"character-info",children:[(0,c.jsxs)("div",{className:"character-lost-toggle-header",children:[(0,c.jsxs)("label",{htmlFor:"is_lost",children:[c.jsx("i",{className:"fas fa-skull-crossbones"})," ロスト"]}),(0,c.jsxs)("div",{className:"toggle-wrapper",children:[c.jsx("input",{type:"checkbox",id:"is_lost",name:"is_lost",checked:e.is_lost||!1,onChange:e=>a("is_lost",e.target.checked),className:"toggle-checkbox"}),(0,c.jsxs)("label",{htmlFor:"is_lost",className:"toggle-label",children:[c.jsx("span",{className:"toggle-inner"}),c.jsx("span",{className:"toggle-switch"})]})]})]}),c.jsx("div",{className:"character-name-input",style:{marginTop:"10px"},children:c.jsx("input",{type:"text",id:"character_name",name:"character_name",value:e.character_name||"",onChange:e=>a("character_name",e.target.value),placeholder:"キャラクターの名前を入力"})}),(0,c.jsxs)("div",{className:"password-protection-setting",style:{marginTop:"15px"},children:[(0,c.jsxs)("div",{className:"password-protection-toggle",children:[(0,c.jsxs)("label",{className:"toggle-switch",children:[c.jsx("input",{type:"checkbox",checked:e.page_password_enabled||!1,onChange:e=>a("page_password_enabled",e.target.checked)}),c.jsx("span",{className:"toggle-slider"})]}),c.jsx("span",{className:"toggle-label",children:e.page_password_enabled?"パスワード保護ON":"パスワード保護OFF"})]}),e.page_password_enabled&&(0,c.jsxs)("div",{className:"password-input-group",style:{marginTop:"10px"},children:[(0,c.jsxs)("label",{htmlFor:"page_password",children:[c.jsx("i",{className:"fas fa-key"})," パスワード"]}),c.jsx("input",{type:"password",id:"page_password",name:"page_password",placeholder:"パスワードを入力してください",value:e.page_password||"",onChange:e=>a("page_password",e.target.value),className:"password-input"})]})]}),c.jsx("div",{className:"accordion-toggle",children:(0,c.jsxs)("button",{type:"button",onClick:()=>d(!o),className:"accordion-toggle-btn",children:[(0,c.jsxs)("div",{className:"title-text",children:[c.jsx("i",{className:"fas fa-palette"}),"立ち絵/カラー設定"]}),c.jsx("i",{className:`fas chevron ${o?"fa-chevron-down":"fa-chevron-right"}`})]})}),(0,c.jsxs)("div",{className:`character-main-info ${o?"accordion-open":"accordion-closed"}`,children:[c.jsx("div",{className:"character-left-column",children:(0,c.jsxs)("div",{className:"character-image-section",children:[(0,c.jsxs)("label",{children:[c.jsx("i",{className:"fas fa-image"})," キャラクター画像"]}),e.character_image_url&&(0,c.jsxs)("div",{className:"image-preview-container",children:[(0,c.jsxs)("div",{className:"image-preview",children:[c.jsx("img",{src:e.character_image_url,alt:"キャラクター画像プレビュー",onError:e=>{console.log("Image load error"),e.currentTarget.style.display="none"}}),c.jsx("button",{type:"button",className:"remove-image-btn",onClick:M,title:"画像を削除",children:c.jsx("i",{className:"fas fa-times"})})]}),(0,c.jsxs)("div",{className:"face-image-section",children:[c.jsx("div",{className:"face-image-header",children:(0,c.jsxs)("h4",{children:[c.jsx("i",{className:"fas fa-user-circle"}),"リスト用顔画像"]})}),c.jsx("div",{className:"face-image-controls",children:e.face_image_url?(0,c.jsxs)("div",{className:"face-image-preview",children:[c.jsx("img",{src:e.face_image_url,alt:"顔画像プレビュー",className:"face-preview-img"}),(0,c.jsxs)("div",{className:"face-image-actions",children:[(0,c.jsxs)("button",{type:"button",className:"btn-face-crop",onClick:B,disabled:i,children:[c.jsx("i",{className:"fas fa-crop"}),c.jsx("span",{children:"再設定"})]}),(0,c.jsxs)("button",{type:"button",className:"btn-face-remove",onClick:q,disabled:i,children:[c.jsx("i",{className:"fas fa-trash"}),c.jsx("span",{children:"削除"})]})]})]}):c.jsx("div",{className:"face-image-setup",children:(0,c.jsxs)("button",{type:"button",className:"btn-face-crop",onClick:B,disabled:i,children:[c.jsx("i",{className:i?"fas fa-spinner fa-spin":"fas fa-crop"}),c.jsx("span",{children:i?"処理中...":"顔画像を設定"})]})})})]})]}),(0,c.jsxs)("div",{className:"image-upload-area",children:[c.jsx("div",{className:"upload-options",children:(0,c.jsxs)("div",{className:"upload-option",children:[(0,c.jsxs)("label",{htmlFor:"character_image_upload",className:"upload-btn",children:[c.jsx("i",{className:t.isUploading?"fas fa-spinner fa-spin":"fas fa-upload"}),t.isUploading?`アップロード中... ${t.progress}%`:"画像をアップロード"]}),c.jsx("input",{type:"file",id:"character_image_upload",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:T,disabled:t.isUploading,style:{display:"none"}}),t.isUploading&&c.jsx("div",{className:"upload-progress",children:c.jsx("div",{className:"upload-progress-bar",style:{width:`${t.progress}%`}})})]})}),c.jsx("div",{className:"upload-info",children:(0,c.jsxs)("small",{children:[c.jsx("i",{className:"fas fa-info-circle"}),"JPEG、PNG、GIF、WebP形式対応 (最大5MB)"]})})]})]})}),(0,c.jsxs)("div",{className:"character-right-column",children:[(0,c.jsxs)("div",{className:"character-kana-input",children:[(0,c.jsxs)("label",{htmlFor:"character_name_kana",children:[c.jsx("i",{className:"fas fa-font"})," フリガナ"]}),c.jsx("input",{type:"text",id:"character_name_kana",name:"character_name_kana",value:e.character_name_kana||"",onChange:e=>a("character_name_kana",e.target.value),placeholder:"カタカナで入力"})]}),(0,c.jsxs)("div",{className:"ui-color-setting",children:[(0,c.jsxs)("label",{htmlFor:"ui_theme_color",children:[c.jsx("i",{className:"fas fa-paint-brush"})," UIテーマカラー"]}),(0,c.jsxs)("div",{className:"ui-color-description",children:[c.jsx("i",{className:"fas fa-info-circle"}),"表示ページの見出しに使用されます。"]}),(0,c.jsxs)("div",{className:"color-input-group",children:[c.jsx("input",{type:"color",id:"ui_theme_color_picker",value:e.ui_theme_color||"#74cdc3",onChange:e=>a("ui_theme_color",e.target.value),className:"color-picker"}),c.jsx("input",{type:"text",id:"ui_theme_color",name:"ui_theme_color",placeholder:"#74cdc3",value:e.ui_theme_color||"",onChange:e=>a("ui_theme_color",e.target.value),className:"color-text-input"})]})]}),(0,c.jsxs)("div",{className:"appearance-color-setting",children:[(0,c.jsxs)("h4",{className:"appearance-title",children:[c.jsx("i",{className:"fas fa-palette"})," 外見・カラー"]}),(0,c.jsxs)("div",{className:"appearance-grid",children:[(0,c.jsxs)("div",{className:"color-pair",children:[(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"character_color",children:[c.jsx("i",{className:"fas fa-circle",style:{color:e.character_color_code||"#74cdc3"}})," イメージカラー"]}),c.jsx("input",{type:"text",id:"character_color",name:"character_color",placeholder:"ベビーブルーなど",value:e.character_color||"",onChange:e=>a("character_color",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item color-code",children:[c.jsx("label",{htmlFor:"character_color_code",children:"カラーコード"}),(0,c.jsxs)("div",{className:"color-input-group",children:[c.jsx("input",{type:"color",id:"character_color_picker",value:e.character_color_code||"#74cdc3",onChange:e=>a("character_color_code",e.target.value),className:"color-picker"}),c.jsx("input",{type:"text",id:"character_color_code",name:"character_color_code",placeholder:"#abe5ed",value:e.character_color_code||"",onChange:e=>a("character_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,c.jsxs)("div",{className:"color-pair",children:[(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"hair_color",children:[c.jsx("i",{className:"fas fa-circle",style:{color:e.hair_color_code||"#8B4513"}})," 髪の色"]}),c.jsx("input",{type:"text",id:"hair_color",name:"hair_color",placeholder:"白髪など",value:e.hair_color||"",onChange:e=>a("hair_color",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item color-code",children:[c.jsx("label",{htmlFor:"hair_color_code",children:"カラーコード"}),(0,c.jsxs)("div",{className:"color-input-group",children:[c.jsx("input",{type:"color",id:"hair_color_picker",value:e.hair_color_code||"#8B4513",onChange:e=>a("hair_color_code",e.target.value),className:"color-picker"}),c.jsx("input",{type:"text",id:"hair_color_code",name:"hair_color_code",placeholder:"#ffffff",value:e.hair_color_code||"",onChange:e=>a("hair_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,c.jsxs)("div",{className:"color-pair",children:[(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"eye_color",children:[c.jsx("i",{className:"fas fa-circle",style:{color:e.eye_color_code||"#4169E1"}})," 目の色"]}),c.jsx("input",{type:"text",id:"eye_color",name:"eye_color",placeholder:"スカイブルーなど",value:e.eye_color||"",onChange:e=>a("eye_color",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item color-code",children:[c.jsx("label",{htmlFor:"eye_color_code",children:"カラーコード"}),(0,c.jsxs)("div",{className:"color-input-group",children:[c.jsx("input",{type:"color",id:"eye_color_picker",value:e.eye_color_code||"#4169E1",onChange:e=>a("eye_color_code",e.target.value),className:"color-picker"}),c.jsx("input",{type:"text",id:"eye_color_code",name:"eye_color_code",placeholder:"#a0d8ef",value:e.eye_color_code||"",onChange:e=>a("eye_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,c.jsxs)("div",{className:"color-pair",children:[(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"skin_color",children:[c.jsx("i",{className:"fas fa-circle",style:{color:e.skin_color_code||"#FDBCB4"}})," 肌の色"]}),c.jsx("input",{type:"text",id:"skin_color",name:"skin_color",placeholder:"小麦色など",value:e.skin_color||"",onChange:e=>a("skin_color",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item color-code",children:[c.jsx("label",{htmlFor:"skin_color_code",children:"カラーコード"}),(0,c.jsxs)("div",{className:"color-input-group",children:[c.jsx("input",{type:"color",id:"skin_color_picker",value:e.skin_color_code||"#FDBCB4",onChange:e=>a("skin_color_code",e.target.value),className:"color-picker"}),c.jsx("input",{type:"text",id:"skin_color_code",name:"skin_color_code",placeholder:"#f4c2a1",value:e.skin_color_code||"",onChange:e=>a("skin_color_code",e.target.value),className:"color-text-input"})]})]})]})]})]})]})]}),c.jsx("div",{className:"accordion-toggle",children:(0,c.jsxs)("button",{type:"button",onClick:()=>p(!h),className:"accordion-toggle-btn",children:[(0,c.jsxs)("div",{className:"title-text",children:[c.jsx("i",{className:"fas fa-id-card"}),"基本データ"]}),c.jsx("i",{className:`fas chevron ${h?"fa-chevron-down":"fa-chevron-right"}`})]})}),c.jsx("div",{className:`accordion-content ${h?"accordion-open":"accordion-closed"}`,children:(0,c.jsxs)("div",{className:"info-grid basic-info",children:[(0,c.jsxs)("div",{className:"info-item compact",children:[(0,c.jsxs)("label",{htmlFor:"gender",children:[c.jsx("i",{className:"fas fa-venus-mars"})," 性別"]}),"その他"===e.gender?(0,c.jsxs)("div",{style:{display:"flex",gap:"3px",width:"100%"},children:[(0,c.jsxs)("select",{id:"gender",name:"gender",value:e.gender||"",onChange:e=>a("gender",e.target.value),style:{flex:"0 0 auto",width:"80px"},children:[c.jsx("option",{value:"",children:"-"}),c.jsx("option",{value:"男",children:"男"}),c.jsx("option",{value:"女",children:"女"}),c.jsx("option",{value:"その他",children:"その他"})]}),c.jsx("input",{type:"text",name:"gender_custom",value:e.gender_custom||"",onChange:e=>a("gender_custom",e.target.value),placeholder:"自由入力",style:{flex:"1 0 calc(100% - 90px)",padding:"8px 10px",fontSize:"1em",textAlign:"left",boxSizing:"border-box",borderRadius:"5px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",height:"auto",border:"none",background:"transparent"}})]}):(0,c.jsxs)("select",{id:"gender",name:"gender",value:e.gender||"",onChange:e=>a("gender",e.target.value),children:[c.jsx("option",{value:"",children:"選択してください"}),c.jsx("option",{value:"男",children:"男"}),c.jsx("option",{value:"女",children:"女"}),c.jsx("option",{value:"その他",children:"その他"})]})]}),(0,c.jsxs)("div",{className:"info-item compact",children:[(0,c.jsxs)("label",{htmlFor:"age",children:[c.jsx("i",{className:"fas fa-calendar-alt"})," 年齢"]}),c.jsx("input",{type:"text",id:"age",name:"age",value:e.age||"",onChange:e=>a("age",e.target.value),placeholder:"20歳"})]}),(0,c.jsxs)("div",{className:"info-item compact",children:[(0,c.jsxs)("label",{htmlFor:"height",children:[c.jsx("i",{className:"fas fa-ruler-vertical"})," 身長"]}),c.jsx("input",{type:"text",id:"height",name:"height",placeholder:"160cm",value:e.height||"",onChange:e=>a("height",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item compact",children:[(0,c.jsxs)("label",{htmlFor:"weight",children:[c.jsx("i",{className:"fas fa-weight"})," 体重"]}),c.jsx("input",{type:"text",id:"weight",name:"weight",placeholder:"50kg",value:e.weight||"",onChange:e=>a("weight",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"occupation",children:[c.jsx("i",{className:"fas fa-briefcase"})," 職業"]}),c.jsx("input",{type:"text",id:"occupation",name:"occupation",value:e.occupation||"",onChange:e=>a("occupation",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"birthplace",children:[c.jsx("i",{className:"fas fa-map-marker-alt"})," 出身地"]}),c.jsx("input",{type:"text",id:"birthplace",name:"birthplace",value:e.birthplace||"",onChange:e=>a("birthplace",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"birthday",children:[c.jsx("i",{className:"fas fa-birthday-cake"})," 誕生日"]}),c.jsx("input",{type:"text",id:"birthday",name:"birthday",placeholder:"",value:e.birthday||"",onChange:e=>a("birthday",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"zodiac_sign",children:[c.jsx("i",{className:"fas fa-star"})," 星座"]}),c.jsx("input",{type:"text",id:"zodiac_sign",name:"zodiac_sign",placeholder:"",value:e.zodiac_sign||"",onChange:e=>a("zodiac_sign",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"blood_type",children:[c.jsx("i",{className:"fas fa-tint"})," 血液型"]}),c.jsx("input",{type:"text",id:"blood_type",name:"blood_type",placeholder:"",value:e.blood_type||"",onChange:e=>a("blood_type",e.target.value)})]}),(0,c.jsxs)("div",{className:"info-item",children:[(0,c.jsxs)("label",{htmlFor:"era",children:[c.jsx("i",{className:"fas fa-history"})," 時代"]}),c.jsx("input",{type:"text",id:"era",name:"era",placeholder:"1920年代、現代など",value:e.era||"",onChange:e=>a("era",e.target.value)})]})]})}),c.jsx("div",{className:"accordion-toggle",children:(0,c.jsxs)("button",{type:"button",onClick:()=>x(!m),className:"accordion-toggle-btn",children:[(0,c.jsxs)("div",{className:"title-text",children:[c.jsx("i",{className:"fas fa-file-alt"}),"キャラクター紹介"]}),c.jsx("i",{className:`fas chevron ${m?"fa-chevron-down":"fa-chevron-right"}`})]})}),c.jsx("div",{className:`accordion-content ${m?"accordion-open":"accordion-closed"}`,children:(0,c.jsxs)("div",{className:"info-grid description-info",children:[(0,c.jsxs)("div",{className:"info-item full-width",children:[(0,c.jsxs)("label",{htmlFor:"catchphrase",children:[c.jsx("i",{className:"fas fa-quote-left"})," キャッチフレーズ"]}),c.jsx("textarea",{id:"catchphrase",name:"catchphrase",placeholder:"キャラクターを表す一言",value:e.catchphrase||"",onChange:e=>a("catchphrase",e.target.value),rows:2})]}),(0,c.jsxs)("div",{className:"info-item full-width",children:[(0,c.jsxs)("label",{htmlFor:"introduction",children:[c.jsx("i",{className:"fas fa-user-edit"})," 紹介文",c.jsx("span",{className:"label-hint",children:"立ち絵画像の横に表示されます"})]}),(0,c.jsxs)("div",{className:"wysiwyg-container",children:[(0,c.jsxs)("div",{className:"wysiwyg-toolbar",children:[(0,c.jsxs)("div",{className:"toolbar-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("undo"),title:"元に戻す",children:c.jsx("i",{className:"fas fa-undo"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("redo"),title:"進む",children:c.jsx("i",{className:"fas fa-redo"})})]}),c.jsx("div",{className:"toolbar-separator"}),(0,c.jsxs)("div",{className:"toolbar-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("bold"),title:"太字",children:c.jsx("i",{className:"fas fa-bold"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("italic"),title:"斜体",children:c.jsx("i",{className:"fas fa-italic"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("underline"),title:"下線",children:c.jsx("i",{className:"fas fa-underline"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("strikeThrough"),title:"打ち消し線",children:c.jsx("i",{className:"fas fa-strikethrough"})})]}),c.jsx("div",{className:"toolbar-separator"}),(0,c.jsxs)("div",{className:"toolbar-group color-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>_("introduction"===g?null:"introduction"),title:"文字色",children:c.jsx("i",{className:"fas fa-palette"})}),"introduction"===g&&c.jsx("div",{className:"color-palette",children:$.map((e,a)=>c.jsx("button",{type:"button",className:"color-swatch",style:{backgroundColor:e},onMouseDown:e=>e.preventDefault(),onClick:()=>I(e),title:e},a))})]}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("div",{className:"toolbar-group font-size-group",children:(0,c.jsxs)("select",{className:"font-size-select",onChange:e=>{let a=parseInt(e.target.value);a&&f(a),e.target.value=""},defaultValue:"",title:"フォントサイズ",children:[(0,c.jsxs)("option",{value:"",disabled:!0,children:[c.jsx("i",{className:"fas fa-text-height"})," サイズ"]}),O.map((e,a)=>(0,c.jsxs)("option",{value:e.value,children:[e.label," (",e.size,")"]},a))]})})]}),c.jsx("div",{ref:D,className:"preview-content editable",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"ここに入力してください...",onFocus:e=>v(e.currentTarget),onInput:e=>F("introduction",e.currentTarget),onBlur:e=>R("introduction",e.currentTarget)})]})]}),(0,c.jsxs)("div",{className:"info-item full-width secret-info",children:[(0,c.jsxs)("label",{htmlFor:"secret_information",children:[c.jsx("i",{className:"fas fa-lock"})," 秘匿情報",c.jsx("span",{className:"label-hint",children:"立ち絵画像の横に表示されます"})]}),(0,c.jsxs)("div",{className:"wysiwyg-container",children:[(0,c.jsxs)("div",{className:"wysiwyg-toolbar",children:[(0,c.jsxs)("div",{className:"toolbar-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("undo"),title:"元に戻す",children:c.jsx("i",{className:"fas fa-undo"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("redo"),title:"進む",children:c.jsx("i",{className:"fas fa-redo"})})]}),c.jsx("div",{className:"toolbar-separator"}),(0,c.jsxs)("div",{className:"toolbar-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("bold"),title:"太字",children:c.jsx("i",{className:"fas fa-bold"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("italic"),title:"斜体",children:c.jsx("i",{className:"fas fa-italic"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("underline"),title:"下線",children:c.jsx("i",{className:"fas fa-underline"})}),c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>N("strikeThrough"),title:"打ち消し線",children:c.jsx("i",{className:"fas fa-strikethrough"})})]}),c.jsx("div",{className:"toolbar-separator"}),(0,c.jsxs)("div",{className:"toolbar-group color-group",children:[c.jsx("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>_("secret"===g?null:"secret"),title:"文字色",children:c.jsx("i",{className:"fas fa-palette"})}),"secret"===g&&c.jsx("div",{className:"color-palette",children:$.map((e,a)=>c.jsx("button",{type:"button",className:"color-swatch",style:{backgroundColor:e},onMouseDown:e=>e.preventDefault(),onClick:()=>I(e),title:e},a))})]}),c.jsx("div",{className:"toolbar-separator"}),c.jsx("div",{className:"toolbar-group font-size-group",children:(0,c.jsxs)("select",{className:"font-size-select",onChange:e=>{let a=parseInt(e.target.value);a&&f(a),e.target.value=""},defaultValue:"",title:"フォントサイズ",children:[(0,c.jsxs)("option",{value:"",disabled:!0,children:[c.jsx("i",{className:"fas fa-text-height"})," サイズ"]}),O.map((e,a)=>(0,c.jsxs)("option",{value:e.value,children:[e.label," (",e.size,")"]},a))]})})]}),c.jsx("div",{ref:z,className:"preview-content editable",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"表示ページでは折りたたまれます",onFocus:e=>v(e.currentTarget),onInput:e=>F("secret_information",e.currentTarget),onBlur:e=>R("secret_information",e.currentTarget)})]})]})]})}),c.jsx(S,{isOpen:l,onClose:()=>n(!1),sourceImageUrl:e.character_image_url||"",onCropComplete:P,characterName:e.character_name})]})}function D({characterData:e,handleInputChange:a}){return(0,c.jsxs)("div",{className:"profile-sheet-section",children:[c.jsx("div",{className:"playsheet-header",children:(0,c.jsxs)("h2",{children:[c.jsx("i",{className:"fas fa-user-circle section-icon"}),"プロフィールシート"]})}),c.jsx("div",{className:"section-content",children:c.jsx(O,{characterData:e,handleInputChange:a})})]})}function z(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0);return{rolls:e,total:a,formula:"3D6"}}function F(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0)+6;return{rolls:e,total:a,formula:"2D6+6"}}function R(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0)+3;return{rolls:e,total:a,formula:"3D6+3"}}function E({characterData:e,calculatedStats:a,handleInputChange:t}){let[s,l]=(0,u.useState)(null),n=e=>{let a=function(e){switch(e){case"str":case"con":case"pow":case"dex":case"app":default:return z();case"siz":case"int":return F();case"edu":return R()}}(e);t(`${e}_base`,a.total),l(t=>({...t,[e]:a}))},i=({ability:e,formula:a})=>c.jsx("button",{type:"button",onClick:()=>n(e),style:{padding:"2px 6px",fontSize:"10px",backgroundColor:"var(--ui-theme-color)",border:"1px solid var(--ui-theme-color)",borderRadius:"3px",cursor:"pointer",color:"white"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color-hover)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color)",title:`${a}で振り直し`,children:c.jsx("i",{className:"fas fa-dice"})});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"section-header",style:{marginTop:"20px"},children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-dumbbell section-icon"}),"能力値"]}),(0,c.jsxs)("button",{type:"button",onClick:()=>{let e={str:z(),con:z(),pow:z(),dex:z(),app:z(),siz:F(),int:F(),edu:R()};l(e),t("str_base",e.str.total),t("con_base",e.con.total),t("pow_base",e.pow.total),t("dex_base",e.dex.total),t("app_base",e.app.total),t("siz_base",e.siz.total),t("int_base",e.int.total),t("edu_base",e.edu.total)},style:{padding:"8px 16px",backgroundColor:"var(--ui-theme-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color-hover)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color)",children:[c.jsx("i",{className:"fas fa-dice"})," ALL"]})]}),(0,c.jsxs)("div",{className:"scores d-flex",children:[(0,c.jsxs)("ul",{className:"basic-score d-flex ul-score",children:[(0,c.jsxs)("li",{className:"name",children:[c.jsx("h3",{children:"TOTAL"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",value:["str_total","con_total","pow_total","dex_total","app_total","siz_total","int_total","edu_total"].reduce((e,t)=>{let s=a[t];return e+(s&&!isNaN(s)?parseInt(s):0)},0),readOnly:!0,style:{fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"20px"},title:"能力値合計"})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:"基礎能力"}),c.jsx("li",{className:"ages",children:"年齢修正"}),c.jsx("li",{children:"他増減"})]})]}),(0,c.jsxs)("li",{className:"str score-li",children:[(0,c.jsxs)("h3",{children:["STR ",c.jsx(i,{ability:"str",formula:"3D6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"str_total",value:a.str_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"str_base",name:"str_base",value:e.str_base||"",onChange:e=>t("str_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"str_age_mod",name:"str_age_mod",value:e.str_age_mod||"",onChange:e=>t("str_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"str_other_mod",name:"str_other_mod",value:e.str_other_mod||"",onChange:e=>t("str_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"con score-li",children:[(0,c.jsxs)("h3",{children:["CON ",c.jsx(i,{ability:"con",formula:"3D6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"con_total",value:a.con_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"con_base",name:"con_base",value:e.con_base||"",onChange:e=>t("con_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"con_age_mod",name:"con_age_mod",value:e.con_age_mod||"",onChange:e=>t("con_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"con_other_mod",name:"con_other_mod",value:e.con_other_mod||"",onChange:e=>t("con_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"pow score-li",children:[(0,c.jsxs)("h3",{children:["POW ",c.jsx(i,{ability:"pow",formula:"3D6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"pow_total",value:a.pow_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"pow_base",name:"pow_base",value:e.pow_base||"",onChange:e=>t("pow_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"pow_age_mod",name:"pow_age_mod",value:e.pow_age_mod||"",onChange:e=>t("pow_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"pow_other_mod",name:"pow_other_mod",value:e.pow_other_mod||"",onChange:e=>t("pow_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"dex score-li",children:[(0,c.jsxs)("h3",{children:["DEX ",c.jsx(i,{ability:"dex",formula:"3D6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"dex_total",value:a.dex_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"dex_base",name:"dex_base",value:e.dex_base||"",onChange:e=>t("dex_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"dex_age_mod",name:"dex_age_mod",value:e.dex_age_mod||"",onChange:e=>t("dex_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"dex_other_mod",name:"dex_other_mod",value:e.dex_other_mod||"",onChange:e=>t("dex_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"app score-li",children:[(0,c.jsxs)("h3",{children:["APP ",c.jsx(i,{ability:"app",formula:"3D6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"app_total",value:a.app_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"app_base",name:"app_base",value:e.app_base||"",onChange:e=>t("app_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"app_age_mod",name:"app_age_mod",value:e.app_age_mod||"",onChange:e=>t("app_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"app_other_mod",name:"app_other_mod",value:e.app_other_mod||"",onChange:e=>t("app_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"siz score-li",children:[(0,c.jsxs)("h3",{children:["SIZ ",c.jsx(i,{ability:"siz",formula:"2D6+6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"siz_total",value:a.siz_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"siz_base",name:"siz_base",value:e.siz_base||"",onChange:e=>t("siz_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"siz_age_mod",name:"siz_age_mod",value:e.siz_age_mod||"",onChange:e=>t("siz_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"siz_other_mod",name:"siz_other_mod",value:e.siz_other_mod||"",onChange:e=>t("siz_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"int score-li",children:[(0,c.jsxs)("h3",{children:["INT ",c.jsx(i,{ability:"int",formula:"2D6+6"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"int_total",value:a.int_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"int_base",name:"int_base",value:e.int_base||"",onChange:e=>t("int_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"int_age_mod",name:"int_age_mod",value:e.int_age_mod||"",onChange:e=>t("int_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"int_other_mod",name:"int_other_mod",value:e.int_other_mod||"",onChange:e=>t("int_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"edu score-li",children:[(0,c.jsxs)("h3",{children:["EDU ",c.jsx(i,{ability:"edu",formula:"3D6+3"})]}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"edu_total",value:a.edu_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:(0,c.jsxs)("select",{className:"base-select",id:"edu_base",name:"edu_base",value:e.edu_base||"",onChange:e=>t("edu_base",parseInt(e.target.value)||0),children:[c.jsx("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>c.jsx("option",{value:e,children:e},e))]})}),c.jsx("li",{className:"ages",children:c.jsx("input",{type:"number",className:"_02",id:"edu_age_mod",name:"edu_age_mod",value:e.edu_age_mod||"",onChange:e=>t("edu_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"edu_other_mod",name:"edu_other_mod",value:e.edu_other_mod||"",onChange:e=>t("edu_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]})]}),(0,c.jsxs)("ul",{className:"calc-score d-flex ul-score",children:[(0,c.jsxs)("li",{className:"name sp-only",children:[c.jsx("div",{className:"score-sum"}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:"基礎能力"}),c.jsx("li",{className:"ages",children:"年齢修正"}),c.jsx("li",{children:"他増減"})]})]}),(0,c.jsxs)("li",{className:"san score-li",children:[c.jsx("h3",{children:"初期SAN"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"san_total",value:a.san_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"san_base_value",value:a.san_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"san_other_mod",name:"san_other_mod",value:e.san_other_mod||"",onChange:e=>t("san_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"hp score-li",children:[c.jsx("h3",{children:"HP"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"hp_total",value:a.hp_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"hp_base_value",value:a.hp_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"hp_other_mod",name:"hp_other_mod",value:e.hp_other_mod||"",onChange:e=>t("hp_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"mp score-li",children:[c.jsx("h3",{children:"MP"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"mp_total",value:a.mp_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"mp_base_value",value:a.mp_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"mp_other_mod",name:"mp_other_mod",value:e.mp_other_mod||"",onChange:e=>t("mp_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"idea score-li",children:[c.jsx("h3",{children:"アイデア"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"idea_total",value:a.idea_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"idea_base_value",value:a.idea_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"idea_other_mod",name:"idea_other_mod",value:e.idea_other_mod||"",onChange:e=>t("idea_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"luck score-li",children:[c.jsx("h3",{children:"幸運"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"luck_total",value:a.luck_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"luck_base_value",value:a.luck_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"luck_other_mod",name:"luck_other_mod",value:e.luck_other_mod||"",onChange:e=>t("luck_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"knowledge score-li",children:[c.jsx("h3",{children:"知識"}),c.jsx("div",{className:"score-sum",children:c.jsx("input",{type:"text",className:"readonly",id:"knowledge_total",value:a.knowledge_total||"",readOnly:!0})}),(0,c.jsxs)("ul",{className:"score-detail",children:[c.jsx("li",{children:c.jsx("input",{type:"text",className:"readonly _02",id:"knowledge_base_value",value:a.knowledge_base_value||"",readOnly:!0})}),c.jsx("li",{className:"ages",children:"-"}),c.jsx("li",{children:c.jsx("input",{type:"number",id:"knowledge_other_mod",name:"knowledge_other_mod",value:e.knowledge_other_mod||"",onChange:e=>t("knowledge_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]})]})]})]})}function A({characterData:e,handleInputChange:a,traits:t,addTrait:s,removeTrait:l}){let[n,i]=(0,u.useState)(!0),r=()=>`${Math.floor(6*Math.random())+1}-${Math.floor(10*Math.random())+1}`,o=e=>{a(`${e}_number`,r())},d=()=>Math.floor(6*Math.random())+1,h=e=>{a(`${e}_interest_bonus`,d())},p=e=>e&&e.startsWith("4-");return(0,c.jsxs)("div",{className:"traits-section character-section",children:[(0,c.jsxs)("div",{className:"section-header",onClick:()=>i(!n),children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-list-alt section-icon"}),"特徴表"]}),c.jsx("i",{className:`fas ${n?"fa-chevron-right":"fa-chevron-down"}`,style:{marginRight:"5px"}})]}),c.jsx("div",{className:`section-content ${n?"collapsed":""}`,style:{maxHeight:n?"0":"1000px"},children:(0,c.jsxs)("div",{className:"features",children:[c.jsx("ul",{children:t.map(t=>(0,c.jsxs)("li",{className:"d-flex f-list",children:[(0,c.jsxs)("div",{className:"f-label",children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px"},children:[c.jsx("span",{className:"num",children:(0,c.jsxs)("select",{name:`${t.id}_number`,value:e[`${t.id}_number`]||"",onChange:e=>a(`${t.id}_number`,e.target.value),style:{width:"11ch",border:"none",background:"#ddd",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",letterSpacing:"0.1em",fontFamily:"monospace",borderRadius:"5px",padding:"2px 5px"},children:[c.jsx("option",{value:"",children:"0-0"}),c.jsx("option",{value:"1-1",children:"1-1"}),c.jsx("option",{value:"1-2",children:"1-2"}),c.jsx("option",{value:"1-3",children:"1-3"}),c.jsx("option",{value:"1-4",children:"1-4"}),c.jsx("option",{value:"1-5",children:"1-5"}),c.jsx("option",{value:"1-6",children:"1-6"}),c.jsx("option",{value:"1-7",children:"1-7"}),c.jsx("option",{value:"1-8",children:"1-8"}),c.jsx("option",{value:"1-9",children:"1-9"}),c.jsx("option",{value:"1-10",children:"1-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"2-1",children:"2-1"}),c.jsx("option",{value:"2-2",children:"2-2"}),c.jsx("option",{value:"2-3",children:"2-3"}),c.jsx("option",{value:"2-4",children:"2-4"}),c.jsx("option",{value:"2-5",children:"2-5"}),c.jsx("option",{value:"2-6",children:"2-6"}),c.jsx("option",{value:"2-7",children:"2-7"}),c.jsx("option",{value:"2-8",children:"2-8"}),c.jsx("option",{value:"2-9",children:"2-9"}),c.jsx("option",{value:"2-10",children:"2-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"3-1",children:"3-1"}),c.jsx("option",{value:"3-2",children:"3-2"}),c.jsx("option",{value:"3-3",children:"3-3"}),c.jsx("option",{value:"3-4",children:"3-4"}),c.jsx("option",{value:"3-5",children:"3-5"}),c.jsx("option",{value:"3-6",children:"3-6"}),c.jsx("option",{value:"3-7",children:"3-7"}),c.jsx("option",{value:"3-8",children:"3-8"}),c.jsx("option",{value:"3-9",children:"3-9"}),c.jsx("option",{value:"3-10",children:"3-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"4-1",children:"4-1"}),c.jsx("option",{value:"4-2",children:"4-2"}),c.jsx("option",{value:"4-3",children:"4-3"}),c.jsx("option",{value:"4-4",children:"4-4"}),c.jsx("option",{value:"4-5",children:"4-5"}),c.jsx("option",{value:"4-6",children:"4-6"}),c.jsx("option",{value:"4-7",children:"4-7"}),c.jsx("option",{value:"4-8",children:"4-8"}),c.jsx("option",{value:"4-9",children:"4-9"}),c.jsx("option",{value:"4-10",children:"4-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"5-1",children:"5-1"}),c.jsx("option",{value:"5-2",children:"5-2"}),c.jsx("option",{value:"5-3",children:"5-3"}),c.jsx("option",{value:"5-4",children:"5-4"}),c.jsx("option",{value:"5-5",children:"5-5"}),c.jsx("option",{value:"5-6",children:"5-6"}),c.jsx("option",{value:"5-7",children:"5-7"}),c.jsx("option",{value:"5-8",children:"5-8"}),c.jsx("option",{value:"5-9",children:"5-9"}),c.jsx("option",{value:"5-10",children:"5-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"6-1",children:"6-1"}),c.jsx("option",{value:"6-2",children:"6-2"}),c.jsx("option",{value:"6-3",children:"6-3"}),c.jsx("option",{value:"6-4",children:"6-4"}),c.jsx("option",{value:"6-5",children:"6-5"}),c.jsx("option",{value:"6-6",children:"6-6"}),c.jsx("option",{value:"6-7",children:"6-7"}),c.jsx("option",{value:"6-8",children:"6-8"}),c.jsx("option",{value:"6-9",children:"6-9"}),c.jsx("option",{value:"6-10",children:"6-10"}),c.jsx("option",{value:"",children:"----------"}),c.jsx("option",{value:"original",children:"オリジナル"})]})}),c.jsx("button",{type:"button",onClick:()=>o(t.id),style:{background:"linear-gradient(135deg, var(--ui-theme-color), var(--ui-theme-color-hover))",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",transition:"all 0.2s ease",minWidth:"24px",height:"24px",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 2px 6px rgba(34, 198, 216, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"},title:"1D6+1D10でランダム決定",children:c.jsx("i",{className:"fas fa-dice"})})]}),c.jsx("span",{className:"name",children:c.jsx("input",{type:"text",name:`${t.id}_name`,style:{borderRadius:"5px",padding:"2px 5px"},value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"特徴名"})})]}),(0,c.jsxs)("div",{className:"contents",children:[c.jsx("textarea",{name:`${t.id}_description`,value:e[`${t.id}_description`]||"",onChange:e=>a(`${t.id}_description`,e.target.value),placeholder:"特徴表説明",style:{width:"100%",minHeight:"60px",resize:"vertical",padding:"8px",borderRadius:"5px",fontFamily:"inherit",fontSize:"inherit"}}),p(e[`${t.id}_number`])&&c.jsx("div",{style:{padding:"5px",backgroundColor:"var(--ui-theme-color-light)",borderRadius:"5px"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[c.jsx("label",{style:{fontSize:"0.8rem",fontWeight:"600",color:"var(--ui-theme-color)"},children:"追加P 1D6:"}),(0,c.jsxs)("select",{name:`${t.id}_interest_bonus`,value:e[`${t.id}_interest_bonus`]||"",onChange:e=>a(`${t.id}_interest_bonus`,e.target.value),style:{width:"60px",borderRadius:"4px",border:"none",textAlign:"center",fontSize:"0.9rem",background:"#fff"},children:[c.jsx("option",{value:"",children:"-"}),c.jsx("option",{value:"1",children:"1"}),c.jsx("option",{value:"2",children:"2"}),c.jsx("option",{value:"3",children:"3"}),c.jsx("option",{value:"4",children:"4"}),c.jsx("option",{value:"5",children:"5"}),c.jsx("option",{value:"6",children:"6"})]}),c.jsx("button",{type:"button",onClick:()=>h(t.id),style:{background:"linear-gradient(135deg, var(--ui-theme-color), var(--ui-theme-color-hover))",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",transition:"all 0.2s ease",minWidth:"24px",height:"24px",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 2px 6px rgba(34, 198, 216, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"},title:"1D6でランダム決定",children:c.jsx("i",{className:"fas fa-dice"})})]})})]}),c.jsx("div",{style:{display:"flex",alignItems:"center",padding:"10px"},children:c.jsx("button",{type:"button",onClick:()=>l(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:s,className:"add-btn",style:{margin:"0 0 10px auto"},children:[c.jsx("i",{className:"fas fa-plus"})," 特徴を追加"]})]})})]})}function T({characterData:e,handleInputChange:a}){let[t,s]=(0,u.useState)(!0);return(0,c.jsxs)("div",{className:"character-section",children:[(0,c.jsxs)("div",{className:"section-header",onClick:()=>s(!t),children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-briefcase section-icon"}),"ベース職業"]}),c.jsx("i",{className:`fas ${t?"fa-chevron-up":"fa-chevron-down"} section-toggle-icon`})]}),c.jsx("div",{className:`section-content ${t?"collapsed":""}`,style:{maxHeight:t?"0":"1000px"},children:(0,c.jsxs)("div",{className:"job-base-responsive",children:[(0,c.jsxs)("div",{children:[c.jsx("span",{children:"ベース職業"}),c.jsx("input",{type:"text",name:"base_job",style:{minHeight:"50px",borderRadius:"5px"},value:e.base_job||"",onChange:e=>a("base_job",e.target.value),placeholder:"職業名"})]}),(0,c.jsxs)("div",{children:[c.jsx("span",{children:"職業特記"}),c.jsx("textarea",{name:"special_notes",value:e.special_notes||"",onChange:e=>a("special_notes",e.target.value),placeholder:"特記事項",style:{width:"100%",minHeight:"50px",resize:"vertical",padding:"5px",borderRadius:"5px",fontFamily:"inherit",fontSize:"inherit",lineHeight:"1.4"}})]})]})})]})}function M({characterData:e,calculatedStats:a,handleInputChange:t,handleJobPointsFormulaChange:s,isSkillSectionCollapsed:l=!1,onSkillSectionToggle:n}){return(0,c.jsxs)("div",{className:"character-section",children:[(0,c.jsxs)("div",{className:"section-header",style:{marginBottom:"30px"},onClick:n,children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-cogs section-icon"}),"技能"]}),c.jsx("i",{className:`fas ${l?"fa-chevron-up":"fa-chevron-down"} section-toggle-icon`})]}),c.jsx("div",{className:`section-content ${l?"collapsed":""}`,style:{maxHeight:l?"0":"1000px"},children:(0,c.jsxs)("div",{className:"slots d-flex",children:[(0,c.jsxs)("div",{className:"now-san slot",children:[c.jsx("h3",{children:"現在SAN値"}),c.jsx("div",{className:"slot-txt",children:(0,c.jsxs)("span",{children:[c.jsx("input",{type:"number",className:"current_san",id:"current_san",name:"current_san",style:{color:"#57595d"},value:e.current_san||0,onChange:e=>t("current_san",""===e.target.value?"":parseInt(e.target.value)||0)}),c.jsx("span",{children:"/"}),c.jsx("input",{type:"number",id:"max_san",name:"max_san",className:"max_san readonly auto-resize _02",value:e.max_san||a.max_san_value||0,onChange:e=>t("max_san",""===e.target.value?"":parseInt(e.target.value)||0),style:{width:`${Math.max(2,String(e.max_san||a.max_san_value||0).length)}ch`,fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]})})]}),(0,c.jsxs)("div",{className:"db slot",children:[c.jsx("h3",{children:"ダメ―ジボーナス"}),c.jsx("div",{className:"slot-txt",children:c.jsx("input",{type:"text",className:"readonly _02",id:"damage_bonus",value:a.damage_bonus||"",readOnly:!0})})]}),(0,c.jsxs)("div",{className:"jobp slot",style:{backgroundColor:(e.job_points_used||0)>("manual"===e.job_points_formula?e.job_points_total||0:a.job_points_total||0)?"#ffe6e6":"inherit"},children:[c.jsx("h3",{children:"職業P"}),(0,c.jsxs)("div",{className:"slot-txt",children:[(0,c.jsxs)("span",{children:[c.jsx("input",{type:"text",id:"job_points_used",name:"job_points_used",className:"readonly auto-resize _02",value:e.job_points_used||0,readOnly:!0,style:{width:`${Math.max(2,String(e.job_points_used||0).length)}ch`,color:(e.job_points_used||0)>("manual"===e.job_points_formula?e.job_points_total||0:a.job_points_total||0)?"#d32f2f":"#57595d"}}),c.jsx("span",{children:"/"}),"manual"===e.job_points_formula?c.jsx("input",{type:"number",id:"job_points_total_manual",name:"job_points_total",className:"readonly auto-resize _02",value:e.job_points_total||0,onChange:e=>t("job_points_total",""===e.target.value?"":parseInt(e.target.value)||0),style:{width:`${Math.max(2,String(e.job_points_total||0).length)}ch`,fontSize:"0.8rem",fontWeight:"400",color:"#888"}}):c.jsx("input",{type:"text",className:"readonly auto-resize _02",id:"job_points_total",value:a.job_points_total||0,readOnly:!0,style:{width:`${Math.max(2,String(a.job_points_total||0).length)}ch`,fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]}),(0,c.jsxs)("select",{name:"job_points_formula",value:e.job_points_formula||"edu20",onChange:e=>s(e.target.value),className:"job-point",children:[c.jsx("option",{value:"edu20",children:"EDU\xd720"}),c.jsx("option",{value:"edu10_str10",children:"EDU\xd710+STR\xd710"}),c.jsx("option",{value:"edu10_con10",children:"EDU\xd710+CON\xd710"}),c.jsx("option",{value:"edu10_pow10",children:"EDU\xd710+POW\xd710"}),c.jsx("option",{value:"edu10_dex10",children:"EDU\xd710+DEX\xd710"}),c.jsx("option",{value:"edu10_app10",children:"EDU\xd710+APP\xd710"}),c.jsx("option",{value:"edu10_siz10",children:"EDU\xd710+SIZ\xd710"}),c.jsx("option",{value:"edu10_int10",children:"EDU\xd710+INT\xd710"}),c.jsx("option",{value:"manual",children:"手動入力"})]})]})]}),(0,c.jsxs)("div",{className:"intp slot",style:{backgroundColor:(e.interest_points_used||0)>(a.interest_points_total||0)?"#ffe6e6":"inherit"},children:[c.jsx("h3",{children:"興味P"}),(0,c.jsxs)("div",{className:"slot-txt",children:[(0,c.jsxs)("span",{children:[c.jsx("input",{type:"text",id:"interest_points_used",name:"interest_points_used",className:"readonly auto-resize _02",value:e.interest_points_used||0,readOnly:!0,style:{width:`${Math.max(2,String(e.interest_points_used||0).length)}ch`,color:(e.interest_points_used||0)>(a.interest_points_total||0)?"#d32f2f":"#57595d"}}),c.jsx("span",{children:"/"}),c.jsx("input",{type:"text",className:"readonly auto-resize _02",id:"interest_points_total",value:a.interest_points_total||0,readOnly:!0,style:{width:`${Math.max(2,String(a.interest_points_total||0).length)}ch`,fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]}),(0,c.jsxs)("span",{className:"interest-point",children:["追加分 ：",c.jsx("input",{type:"number",className:"nterest_points_extra",id:"interest_points_extra",name:"interest_points_extra",value:e.interest_points_extra||"",onChange:e=>t("interest_points_extra",""===e.target.value?"":parseInt(e.target.value)||0)})]})]})]})]})})]})}function P({characterData:e,calculatedStats:a,handleInputChange:t,handleJobPointsFormulaChange:s,traits:l,addTrait:n,removeTrait:i,hideInitialSkills:r,toggleSkillDisplay:o,isSkillSectionCollapsed:d=!1,onSkillSectionToggle:h}){return(0,c.jsxs)(c.Fragment,{children:[c.jsx(E,{characterData:e,calculatedStats:a,handleInputChange:t}),c.jsx(A,{characterData:e,handleInputChange:t,traits:l,addTrait:n,removeTrait:i}),c.jsx(T,{characterData:e,handleInputChange:t}),c.jsx(M,{characterData:e,calculatedStats:a,handleInputChange:t,handleJobPointsFormulaChange:s,isSkillSectionCollapsed:d,onSkillSectionToggle:h})]})}function B({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:l,additionalCombatSkills:n,addCombatSkill:i,removeCombatSkill:r}){return(0,c.jsxs)("div",{className:"skill-group",children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-fist-raised"})," 戦闘技能"]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{className:"d-flex skill-li skill-head",children:[c.jsx("div",{className:"growth",children:"成長"}),c.jsx("div",{className:"title",children:"技能名"}),(0,c.jsxs)("div",{className:"total",children:["合計",c.jsx("span",{className:"pc-only",children:"値"})]}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"pc-only",children:"初期値"}),c.jsx("span",{className:"sp-only",children:"初期"}),"|",c.jsx("span",{className:"pc-only",children:"職業P"}),c.jsx("span",{className:"sp-only",children:"職業"}),"|",c.jsx("span",{className:"pc-only",children:"興味P"}),c.jsx("span",{className:"sp-only",children:"興味"}),"|",c.jsx("span",{children:"成長"}),"|",c.jsx("span",{className:"pc-only",children:"その他"}),c.jsx("span",{className:"sp-only",children:"他"})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("dodge",a.dodge_initial||0)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"回避"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"dodge_total",className:"readonly _02",value:a.dodge_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"dodge_initial",className:"readonly _02",value:a.dodge_initial||0,readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"dodge_job",value:e.dodge_job||"",onChange:e=>t("dodge_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"dodge_interest",value:e.dodge_interest||"",onChange:e=>t("dodge_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"dodge_growth",value:e.dodge_growth||"",onChange:e=>t("dodge_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"dodge_other",value:e.dodge_other||"",onChange:e=>t("dodge_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("kick",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"キック"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"kick_total",className:"readonly _02",value:a.kick_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"kick_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"kick_job",value:e.kick_job||"",onChange:e=>t("kick_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"kick_interest",value:e.kick_interest||"",onChange:e=>t("kick_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"kick_growth",value:e.kick_growth||"",onChange:e=>t("kick_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"kick_other",value:e.kick_other||"",onChange:e=>t("kick_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("grapple",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"組み付き"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"grapple_total",className:"readonly _02",value:a.grapple_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"grapple_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"grapple_job",value:e.grapple_job||"",onChange:e=>t("grapple_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"grapple_interest",value:e.grapple_interest||"",onChange:e=>t("grapple_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"grapple_growth",value:e.grapple_growth||"",onChange:e=>t("grapple_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"grapple_other",value:e.grapple_other||"",onChange:e=>t("grapple_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("punch",50)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"こぶし"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"punch_total",className:"readonly _02",value:a.punch_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"punch_initial",className:"readonly _02",value:"50",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"punch_job",value:e.punch_job||"",onChange:e=>t("punch_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"punch_interest",value:e.punch_interest||"",onChange:e=>t("punch_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"punch_growth",value:e.punch_growth||"",onChange:e=>t("punch_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"punch_other",value:e.punch_other||"",onChange:e=>t("punch_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("headbutt",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"頭突き"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"headbutt_total",className:"readonly _02",value:a.headbutt_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"headbutt_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"headbutt_job",value:e.headbutt_job||"",onChange:e=>t("headbutt_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"headbutt_interest",value:e.headbutt_interest||"",onChange:e=>t("headbutt_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"headbutt_growth",value:e.headbutt_growth||"",onChange:e=>t("headbutt_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"headbutt_other",value:e.headbutt_other||"",onChange:e=>t("headbutt_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("throw",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"投擲"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"throw_total",className:"readonly _02",value:a.throw_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"throw_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"throw_job",value:e.throw_job||"",onChange:e=>t("throw_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"throw_interest",value:e.throw_interest||"",onChange:e=>t("throw_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"throw_growth",value:e.throw_growth||"",onChange:e=>t("throw_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"throw_other",value:e.throw_other||"",onChange:e=>t("throw_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("martial_arts",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"マーシャルアーツ"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"martial_arts_total",className:"readonly _02",value:a.martial_arts_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"martial_arts_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"martial_arts_job",value:e.martial_arts_job||"",onChange:e=>t("martial_arts_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"martial_arts_interest",value:e.martial_arts_interest||"",onChange:e=>t("martial_arts_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"martial_arts_growth",value:e.martial_arts_growth||"",onChange:e=>t("martial_arts_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"martial_arts_other",value:e.martial_arts_other||"",onChange:e=>t("martial_arts_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("handgun",20)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"拳銃"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"handgun_total",className:"readonly _02",value:a.handgun_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"handgun_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"handgun_job",value:e.handgun_job||"",onChange:e=>t("handgun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"handgun_interest",value:e.handgun_interest||"",onChange:e=>t("handgun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"handgun_growth",value:e.handgun_growth||"",onChange:e=>t("handgun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"handgun_other",value:e.handgun_other||"",onChange:e=>t("handgun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("submachine_gun",15)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"サブマシンガン"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"submachine_gun_total",className:"readonly _02",value:a.submachine_gun_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"submachine_gun_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"submachine_gun_job",value:e.submachine_gun_job||"",onChange:e=>t("submachine_gun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"submachine_gun_interest",value:e.submachine_gun_interest||"",onChange:e=>t("submachine_gun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"submachine_gun_growth",value:e.submachine_gun_growth||"",onChange:e=>t("submachine_gun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"submachine_gun_other",value:e.submachine_gun_other||"",onChange:e=>t("submachine_gun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("shotgun",30)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"ショットガン"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"shotgun_total",className:"readonly _02",value:a.shotgun_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"shotgun_initial",className:"readonly _02",value:"30",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"shotgun_job",value:e.shotgun_job||"",onChange:e=>t("shotgun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"shotgun_interest",value:e.shotgun_interest||"",onChange:e=>t("shotgun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"shotgun_growth",value:e.shotgun_growth||"",onChange:e=>t("shotgun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"shotgun_other",value:e.shotgun_other||"",onChange:e=>t("shotgun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("machine_gun",15)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"マシンガン"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"machine_gun_total",className:"readonly _02",value:a.machine_gun_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"machine_gun_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"machine_gun_job",value:e.machine_gun_job||"",onChange:e=>t("machine_gun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"machine_gun_interest",value:e.machine_gun_interest||"",onChange:e=>t("machine_gun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"machine_gun_growth",value:e.machine_gun_growth||"",onChange:e=>t("machine_gun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"machine_gun_other",value:e.machine_gun_other||"",onChange:e=>t("machine_gun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("rifle",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"ライフル"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"rifle_total",className:"readonly _02",value:a.rifle_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"rifle_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"rifle_job",value:e.rifle_job||"",onChange:e=>t("rifle_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"rifle_interest",value:e.rifle_interest||"",onChange:e=>t("rifle_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"rifle_growth",value:e.rifle_growth||"",onChange:e=>t("rifle_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"rifle_other",value:e.rifle_other||"",onChange:e=>t("rifle_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),n.map(a=>(0,c.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:[c.jsx("input",{type:"text",name:`${a.id}_name`,value:e[`${a.id}_name`]||"",onChange:e=>t(`${a.id}_name`,e.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),c.jsx("button",{type:"button",onClick:()=>r(a.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:`${a.id}_total`,className:"readonly _02",value:(parseInt(e[`${a.id}_initial`])||1)+(parseInt(e[`${a.id}_job`])||0)+(parseInt(e[`${a.id}_interest`])||0)+(parseInt(e[`${a.id}_growth`])||0)+(parseInt(e[`${a.id}_other`])||0),readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:`${a.id}_initial`,className:"_02",value:e[`${a.id}_initial`]||1,onChange:e=>t(`${a.id}_initial`,""===e.target.value?1:parseInt(e.target.value)||1)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_job`,value:e[`${a.id}_job`]||"",onChange:e=>t(`${a.id}_job`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_interest`,value:e[`${a.id}_interest`]||"",onChange:e=>t(`${a.id}_interest`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_growth`,value:e[`${a.id}_growth`]||"",onChange:e=>t(`${a.id}_growth`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_other`,value:e[`${a.id}_other`]||"",onChange:e=>t(`${a.id}_other`,""===e.target.value?"":parseInt(e.target.value)||0)})})]})]},a.id))]}),(0,c.jsxs)("button",{type:"button",onClick:i,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 戦闘技能を追加"]})]})}function q({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:l,additionalExplorationSkills:n,addExplorationSkill:i,removeExplorationSkill:r}){return(0,c.jsxs)("div",{className:"skill-group",children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-search"})," 探索技能"]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{className:"d-flex skill-li skill-head",children:[c.jsx("div",{className:"growth",children:"成長"}),c.jsx("div",{className:"title",children:"技能名"}),(0,c.jsxs)("div",{className:"total",children:["合計",c.jsx("span",{className:"pc-only",children:"値"})]}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"pc-only",children:"初期値"}),c.jsx("span",{className:"sp-only",children:"初期"}),"|",c.jsx("span",{className:"pc-only",children:"職業P"}),c.jsx("span",{className:"sp-only",children:"職業"}),"|",c.jsx("span",{className:"pc-only",children:"興味P"}),c.jsx("span",{className:"sp-only",children:"興味"}),"|",c.jsx("span",{children:"成長"}),"|",c.jsx("span",{className:"pc-only",children:"その他"}),c.jsx("span",{className:"sp-only",children:"他"})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("first_aid",30)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"応急手当"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"first_aid_total",className:"readonly _02",value:a.first_aid_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"first_aid_initial",className:"readonly _02",value:"30",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"first_aid_job",value:e.first_aid_job||"",onChange:e=>t("first_aid_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"first_aid_interest",value:e.first_aid_interest||"",onChange:e=>t("first_aid_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"first_aid_growth",value:e.first_aid_growth||"",onChange:e=>t("first_aid_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"first_aid_other",value:e.first_aid_other||"",onChange:e=>t("first_aid_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("locksmith",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"鍵開け"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"locksmith_total",className:"readonly _02",value:a.locksmith_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"locksmith_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"locksmith_job",value:e.locksmith_job||"",onChange:e=>t("locksmith_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"locksmith_interest",value:e.locksmith_interest||"",onChange:e=>t("locksmith_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"locksmith_growth",value:e.locksmith_growth||"",onChange:e=>t("locksmith_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"locksmith_other",value:e.locksmith_other||"",onChange:e=>t("locksmith_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("conceal",15)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"隠す"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"conceal_total",className:"readonly _02",value:a.conceal_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"conceal_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"conceal_job",value:e.conceal_job||"",onChange:e=>t("conceal_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"conceal_interest",value:e.conceal_interest||"",onChange:e=>t("conceal_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"conceal_growth",value:e.conceal_growth||"",onChange:e=>t("conceal_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"conceal_other",value:e.conceal_other||"",onChange:e=>t("conceal_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("hide",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"隠れる"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"hide_total",className:"readonly _02",value:a.hide_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"hide_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"hide_job",value:e.hide_job||"",onChange:e=>t("hide_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"hide_interest",value:e.hide_interest||"",onChange:e=>t("hide_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"hide_growth",value:e.hide_growth||"",onChange:e=>t("hide_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"hide_other",value:e.hide_other||"",onChange:e=>t("hide_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("listen",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"聞き耳"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"listen_total",className:"readonly _02",value:a.listen_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"listen_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"listen_job",value:e.listen_job||"",onChange:e=>t("listen_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"listen_interest",value:e.listen_interest||"",onChange:e=>t("listen_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"listen_growth",value:e.listen_growth||"",onChange:e=>t("listen_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"listen_other",value:e.listen_other||"",onChange:e=>t("listen_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("sneak",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"忍び歩き"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"sneak_total",className:"readonly _02",value:a.sneak_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"sneak_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"sneak_job",value:e.sneak_job||"",onChange:e=>t("sneak_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"sneak_interest",value:e.sneak_interest||"",onChange:e=>t("sneak_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"sneak_growth",value:e.sneak_growth||"",onChange:e=>t("sneak_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"sneak_other",value:e.sneak_other||"",onChange:e=>t("sneak_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("photography",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"写真術"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"photography_total",className:"readonly _02",value:a.photography_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"photography_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"photography_job",value:e.photography_job||"",onChange:e=>t("photography_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"photography_interest",value:e.photography_interest||"",onChange:e=>t("photography_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"photography_growth",value:e.photography_growth||"",onChange:e=>t("photography_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"photography_other",value:e.photography_other||"",onChange:e=>t("photography_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("psychoanalysis",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"精神分析"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"psychoanalysis_total",className:"readonly _02",value:a.psychoanalysis_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"psychoanalysis_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychoanalysis_job",value:e.psychoanalysis_job||"",onChange:e=>t("psychoanalysis_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychoanalysis_interest",value:e.psychoanalysis_interest||"",onChange:e=>t("psychoanalysis_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychoanalysis_growth",value:e.psychoanalysis_growth||"",onChange:e=>t("psychoanalysis_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychoanalysis_other",value:e.psychoanalysis_other||"",onChange:e=>t("psychoanalysis_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("track",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"追跡"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"track_total",className:"readonly _02",value:a.track_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"track_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"track_job",value:e.track_job||"",onChange:e=>t("track_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"track_interest",value:e.track_interest||"",onChange:e=>t("track_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"track_growth",value:e.track_growth||"",onChange:e=>t("track_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"track_other",value:e.track_other||"",onChange:e=>t("track_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("climb",40)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"登攀"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"climb_total",className:"readonly _02",value:a.climb_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"climb_initial",className:"readonly _02",value:"40",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"climb_job",value:e.climb_job||"",onChange:e=>t("climb_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"climb_interest",value:e.climb_interest||"",onChange:e=>t("climb_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"climb_growth",value:e.climb_growth||"",onChange:e=>t("climb_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"climb_other",value:e.climb_other||"",onChange:e=>t("climb_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("library_use",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"図書館"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"library_use_total",className:"readonly _02",value:a.library_use_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"library_use_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"library_use_job",value:e.library_use_job||"",onChange:e=>t("library_use_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"library_use_interest",value:e.library_use_interest||"",onChange:e=>t("library_use_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"library_use_growth",value:e.library_use_growth||"",onChange:e=>t("library_use_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"library_use_other",value:e.library_use_other||"",onChange:e=>t("library_use_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("spot_hidden",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"目星"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"spot_hidden_total",className:"readonly _02",value:a.spot_hidden_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"spot_hidden_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"spot_hidden_job",value:e.spot_hidden_job||"",onChange:e=>t("spot_hidden_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"spot_hidden_interest",value:e.spot_hidden_interest||"",onChange:e=>t("spot_hidden_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"spot_hidden_growth",value:e.spot_hidden_growth||"",onChange:e=>t("spot_hidden_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"spot_hidden_other",value:e.spot_hidden_other||"",onChange:e=>t("spot_hidden_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),n.map(a=>(0,c.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:[c.jsx("input",{type:"text",name:`${a.id}_name`,value:e[`${a.id}_name`]||"",onChange:e=>t(`${a.id}_name`,e.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),c.jsx("button",{type:"button",onClick:()=>r(a.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:`${a.id}_total`,className:"readonly _02",value:(parseInt(e[`${a.id}_initial`])||1)+(parseInt(e[`${a.id}_job`])||0)+(parseInt(e[`${a.id}_interest`])||0)+(parseInt(e[`${a.id}_growth`])||0)+(parseInt(e[`${a.id}_other`])||0),readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:`${a.id}_initial`,className:"_02",value:e[`${a.id}_initial`]||1,onChange:e=>t(`${a.id}_initial`,""===e.target.value?1:parseInt(e.target.value)||1)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_job`,value:e[`${a.id}_job`]||"",onChange:e=>t(`${a.id}_job`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_interest`,value:e[`${a.id}_interest`]||"",onChange:e=>t(`${a.id}_interest`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_growth`,value:e[`${a.id}_growth`]||"",onChange:e=>t(`${a.id}_growth`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_other`,value:e[`${a.id}_other`]||"",onChange:e=>t(`${a.id}_other`,""===e.target.value?"":parseInt(e.target.value)||0)})})]})]},a.id))]}),(0,c.jsxs)("button",{type:"button",onClick:i,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 探索技能を追加"]})]})}function U({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:l,additionalActionSkills:n,addActionSkill:i,removeActionSkill:r}){return(0,c.jsxs)("div",{className:"skill-group",children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-running"})," 行動技能"]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{className:"d-flex skill-li skill-head",children:[c.jsx("div",{className:"growth",children:"成長"}),c.jsx("div",{className:"title",children:"技能名"}),(0,c.jsxs)("div",{className:"total",children:["合計",c.jsx("span",{className:"pc-only",children:"値"})]}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"pc-only",children:"初期値"}),c.jsx("span",{className:"sp-only",children:"初期"}),"|",c.jsx("span",{className:"pc-only",children:"職業P"}),c.jsx("span",{className:"sp-only",children:"職業"}),"|",c.jsx("span",{className:"pc-only",children:"興味P"}),c.jsx("span",{className:"sp-only",children:"興味"}),"|",c.jsx("span",{children:"成長"}),"|",c.jsx("span",{className:"pc-only",children:"その他"}),c.jsx("span",{className:"sp-only",children:"他"})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("drive",20)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["運転 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"drive_specialty",value:e.drive_specialty||"",className:"free",onChange:e=>t("drive_specialty",e.target.value),placeholder:""})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"drive_total",className:"readonly _02",value:a.drive_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"drive_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"drive_job",value:e.drive_job||"",onChange:e=>t("drive_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"drive_interest",value:e.drive_interest||"",onChange:e=>t("drive_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"drive_growth",value:e.drive_growth||"",onChange:e=>t("drive_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"drive_other",value:e.drive_other||"",onChange:e=>t("drive_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("mechanical_repair",20)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"機械修理"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"mechanical_repair_total",className:"readonly _02",value:a.mechanical_repair_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"mechanical_repair_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mechanical_repair_job",value:e.mechanical_repair_job||"",onChange:e=>t("mechanical_repair_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mechanical_repair_interest",value:e.mechanical_repair_interest||"",onChange:e=>t("mechanical_repair_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mechanical_repair_growth",value:e.mechanical_repair_growth||"",onChange:e=>t("mechanical_repair_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mechanical_repair_other",value:e.mechanical_repair_other||"",onChange:e=>t("mechanical_repair_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("heavy_machinery",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"重機械操作"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"heavy_machinery_total",className:"readonly _02",value:a.heavy_machinery_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"heavy_machinery_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"heavy_machinery_job",value:e.heavy_machinery_job||"",onChange:e=>t("heavy_machinery_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"heavy_machinery_interest",value:e.heavy_machinery_interest||"",onChange:e=>t("heavy_machinery_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"heavy_machinery_growth",value:e.heavy_machinery_growth||"",onChange:e=>t("heavy_machinery_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"heavy_machinery_other",value:e.heavy_machinery_other||"",onChange:e=>t("heavy_machinery_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("ride",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"乗馬"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"ride_total",className:"readonly _02",value:a.ride_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"ride_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"ride_job",value:e.ride_job||"",onChange:e=>t("ride_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"ride_interest",value:e.ride_interest||"",onChange:e=>t("ride_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"ride_growth",value:e.ride_growth||"",onChange:e=>t("ride_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"ride_other",value:e.ride_other||"",onChange:e=>t("ride_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("swim",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"水泳"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"swim_total",className:"readonly _02",value:a.swim_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"swim_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"swim_job",value:e.swim_job||"",onChange:e=>t("swim_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"swim_interest",value:e.swim_interest||"",onChange:e=>t("swim_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"swim_growth",value:e.swim_growth||"",onChange:e=>t("swim_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"swim_other",value:e.swim_other||"",onChange:e=>t("swim_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("craft",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["製作 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"craft_specialty",value:e.craft_specialty||"",onChange:e=>t("craft_specialty",e.target.value),placeholder:"",className:"free"})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"craft_total",className:"readonly _02",value:a.craft_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"craft_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"craft_job",value:e.craft_job||"",onChange:e=>t("craft_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"craft_interest",value:e.craft_interest||"",onChange:e=>t("craft_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"craft_growth",value:e.craft_growth||"",onChange:e=>t("craft_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"craft_other",value:e.craft_other||"",onChange:e=>t("craft_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("pilot",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["操縦 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"pilot_specialty",value:e.pilot_specialty||"",onChange:e=>t("pilot_specialty",e.target.value),placeholder:"",className:"free"})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"pilot_total",className:"readonly _02",value:a.pilot_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"pilot_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pilot_job",value:e.pilot_job||"",onChange:e=>t("pilot_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pilot_interest",value:e.pilot_interest||"",onChange:e=>t("pilot_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pilot_growth",value:e.pilot_growth||"",onChange:e=>t("pilot_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pilot_other",value:e.pilot_other||"",onChange:e=>t("pilot_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("jump",25)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"跳躍"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"jump_total",className:"readonly _02",value:a.jump_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"jump_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"jump_job",value:e.jump_job||"",onChange:e=>t("jump_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"jump_interest",value:e.jump_interest||"",onChange:e=>t("jump_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"jump_growth",value:e.jump_growth||"",onChange:e=>t("jump_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"jump_other",value:e.jump_other||"",onChange:e=>t("jump_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("electrical_repair",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"電気修理"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"electrical_repair_total",className:"readonly _02",value:a.electrical_repair_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"electrical_repair_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electrical_repair_job",value:e.electrical_repair_job||"",onChange:e=>t("electrical_repair_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electrical_repair_interest",value:e.electrical_repair_interest||"",onChange:e=>t("electrical_repair_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electrical_repair_growth",value:e.electrical_repair_growth||"",onChange:e=>t("electrical_repair_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electrical_repair_other",value:e.electrical_repair_other||"",onChange:e=>t("electrical_repair_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("navigate",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"ナビゲート"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"navigate_total",className:"readonly _02",value:a.navigate_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"navigate_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"navigate_job",value:e.navigate_job||"",onChange:e=>t("navigate_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"navigate_interest",value:e.navigate_interest||"",onChange:e=>t("navigate_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"navigate_growth",value:e.navigate_growth||"",onChange:e=>t("navigate_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"navigate_other",value:e.navigate_other||"",onChange:e=>t("navigate_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("disguise",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"変装"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"disguise_total",className:"readonly _02",value:a.disguise_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"disguise_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"disguise_job",value:e.disguise_job||"",onChange:e=>t("disguise_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"disguise_interest",value:e.disguise_interest||"",onChange:e=>t("disguise_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"disguise_growth",value:e.disguise_growth||"",onChange:e=>t("disguise_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"disguise_other",value:e.disguise_other||"",onChange:e=>t("disguise_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),n.map(a=>(0,c.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:[c.jsx("input",{type:"text",name:`${a.id}_name`,value:e[`${a.id}_name`]||"",onChange:e=>t(`${a.id}_name`,e.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),c.jsx("button",{type:"button",onClick:()=>r(a.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:`${a.id}_total`,className:"readonly _02",value:(parseInt(e[`${a.id}_initial`])||1)+(parseInt(e[`${a.id}_job`])||0)+(parseInt(e[`${a.id}_interest`])||0)+(parseInt(e[`${a.id}_growth`])||0)+(parseInt(e[`${a.id}_other`])||0),readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:`${a.id}_initial`,className:"_02",value:e[`${a.id}_initial`]||1,onChange:e=>t(`${a.id}_initial`,""===e.target.value?1:parseInt(e.target.value)||1)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_job`,value:e[`${a.id}_job`]||"",onChange:e=>t(`${a.id}_job`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_interest`,value:e[`${a.id}_interest`]||"",onChange:e=>t(`${a.id}_interest`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_growth`,value:e[`${a.id}_growth`]||"",onChange:e=>t(`${a.id}_growth`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_other`,value:e[`${a.id}_other`]||"",onChange:e=>t(`${a.id}_other`,""===e.target.value?"":parseInt(e.target.value)||0)})})]})]},a.id))]}),(0,c.jsxs)("button",{type:"button",onClick:i,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 行動技能を追加"]})]})}function W({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:l,additionalNegotiationSkills:n,addNegotiationSkill:i,removeNegotiationSkill:r}){return(0,c.jsxs)("div",{className:"skill-group",children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-handshake"})," 交渉技能"]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{className:"d-flex skill-li skill-head",children:[c.jsx("div",{className:"growth",children:"成長"}),c.jsx("div",{className:"title",children:"技能名"}),(0,c.jsxs)("div",{className:"total",children:["合計",c.jsx("span",{className:"pc-only",children:"値"})]}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"pc-only",children:"初期値"}),c.jsx("span",{className:"sp-only",children:"初期"}),"|",c.jsx("span",{className:"pc-only",children:"職業P"}),c.jsx("span",{className:"sp-only",children:"職業"}),"|",c.jsx("span",{className:"pc-only",children:"興味P"}),c.jsx("span",{className:"sp-only",children:"興味"}),"|",c.jsx("span",{children:"成長"}),"|",c.jsx("span",{className:"pc-only",children:"その他"}),c.jsx("span",{className:"sp-only",children:"他"})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("fast_talk",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"言いくるめ"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"fast_talk_total",className:"readonly _02",value:a.fast_talk_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"fast_talk_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"fast_talk_job",value:e.fast_talk_job||"",onChange:e=>t("fast_talk_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"fast_talk_interest",value:e.fast_talk_interest||"",onChange:e=>t("fast_talk_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"fast_talk_growth",value:e.fast_talk_growth||"",onChange:e=>t("fast_talk_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"fast_talk_other",value:e.fast_talk_other||"",onChange:e=>t("fast_talk_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("persuade",15)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"説得"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"persuade_total",className:"readonly _02",value:a.persuade_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"persuade_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"persuade_job",value:e.persuade_job||"",onChange:e=>t("persuade_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"persuade_interest",value:e.persuade_interest||"",onChange:e=>t("persuade_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"persuade_growth",value:e.persuade_growth||"",onChange:e=>t("persuade_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"persuade_other",value:e.persuade_other||"",onChange:e=>t("persuade_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("credit_rating",15)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"信用"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"credit_rating_total",className:"readonly _02",value:a.credit_rating_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"credit_rating_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"credit_rating_job",value:e.credit_rating_job||"",onChange:e=>t("credit_rating_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"credit_rating_interest",value:e.credit_rating_interest||"",onChange:e=>t("credit_rating_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"credit_rating_growth",value:e.credit_rating_growth||"",onChange:e=>t("credit_rating_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"credit_rating_other",value:e.credit_rating_other||"",onChange:e=>t("credit_rating_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("bargain",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"値切り"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"bargain_total",className:"readonly _02",value:a.bargain_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"bargain_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"bargain_job",value:e.bargain_job||"",onChange:e=>t("bargain_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"bargain_interest",value:e.bargain_interest||"",onChange:e=>t("bargain_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"bargain_growth",value:e.bargain_growth||"",onChange:e=>t("bargain_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"bargain_other",value:e.bargain_other||"",onChange:e=>t("bargain_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("mother_tongue",a.mother_tongue_initial||0)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["母国語 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"mother_tongue_specialty",value:e.mother_tongue_specialty||"",onChange:e=>t("mother_tongue_specialty",e.target.value),className:"free",placeholder:""})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"mother_tongue_total",className:"readonly _02",value:a.mother_tongue_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"mother_tongue_initial",className:"readonly _02",value:a.mother_tongue_initial||0,readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mother_tongue_job",value:e.mother_tongue_job||"",onChange:e=>t("mother_tongue_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mother_tongue_interest",value:e.mother_tongue_interest||"",onChange:e=>t("mother_tongue_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mother_tongue_growth",value:e.mother_tongue_growth||"",onChange:e=>t("mother_tongue_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"mother_tongue_other",value:e.mother_tongue_other||"",onChange:e=>t("mother_tongue_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("language",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["他の言語 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"language_specialty",value:e.language_specialty||"",onChange:e=>t("language_specialty",e.target.value),placeholder:"",className:"free"})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"language_total",className:"readonly _02",value:a.language_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"language_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"language_job",value:e.language_job||"",onChange:e=>t("language_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"language_interest",value:e.language_interest||"",onChange:e=>t("language_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"language_growth",value:e.language_growth||"",onChange:e=>t("language_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"language_other",value:e.language_other||"",onChange:e=>t("language_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),n.map(a=>(0,c.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:[c.jsx("input",{type:"text",name:`${a.id}_name`,value:e[`${a.id}_name`]||"",onChange:e=>t(`${a.id}_name`,e.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),c.jsx("button",{type:"button",onClick:()=>r(a.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:`${a.id}_total`,className:"readonly _02",value:(parseInt(e[`${a.id}_initial`])||1)+(parseInt(e[`${a.id}_job`])||0)+(parseInt(e[`${a.id}_interest`])||0)+(parseInt(e[`${a.id}_growth`])||0)+(parseInt(e[`${a.id}_other`])||0),readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:`${a.id}_initial`,className:"_02",value:e[`${a.id}_initial`]||1,onChange:e=>t(`${a.id}_initial`,""===e.target.value?1:parseInt(e.target.value)||1)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_job`,value:e[`${a.id}_job`]||"",onChange:e=>t(`${a.id}_job`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_interest`,value:e[`${a.id}_interest`]||"",onChange:e=>t(`${a.id}_interest`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_growth`,value:e[`${a.id}_growth`]||"",onChange:e=>t(`${a.id}_growth`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_other`,value:e[`${a.id}_other`]||"",onChange:e=>t(`${a.id}_other`,""===e.target.value?"":parseInt(e.target.value)||0)})})]})]},a.id))]}),(0,c.jsxs)("button",{type:"button",onClick:i,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 交渉技能を追加"]})]})}function H({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:l,additionalKnowledgeSkills:n,addKnowledgeSkill:i,removeKnowledgeSkill:r}){return(0,c.jsxs)("div",{className:"skill-group",children:[(0,c.jsxs)("h3",{children:[c.jsx("i",{className:"fas fa-book"})," 知識技能"]}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{className:"d-flex skill-li skill-head",children:[c.jsx("div",{className:"growth",children:"成長"}),c.jsx("div",{className:"title",children:"技能名"}),(0,c.jsxs)("div",{className:"total",children:["合計",c.jsx("span",{className:"pc-only",children:"値"})]}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"pc-only",children:"初期値"}),c.jsx("span",{className:"sp-only",children:"初期"}),"|",c.jsx("span",{className:"pc-only",children:"職業P"}),c.jsx("span",{className:"sp-only",children:"職業"}),"|",c.jsx("span",{className:"pc-only",children:"興味P"}),c.jsx("span",{className:"sp-only",children:"興味"}),"|",c.jsx("span",{children:"成長"}),"|",c.jsx("span",{className:"pc-only",children:"その他"}),c.jsx("span",{className:"sp-only",children:"他"})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("medicine",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"医学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"medicine_total",className:"readonly _02",value:a.medicine_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"medicine_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"medicine_job",value:e.medicine_job||"",onChange:e=>t("medicine_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"medicine_interest",value:e.medicine_interest||"",onChange:e=>t("medicine_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"medicine_growth",value:e.medicine_growth||"",onChange:e=>t("medicine_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"medicine_other",value:e.medicine_other||"",onChange:e=>t("medicine_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("occult",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"オカルト"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"occult_total",className:"readonly _02",value:a.occult_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"occult_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"occult_job",value:e.occult_job||"",onChange:e=>t("occult_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"occult_interest",value:e.occult_interest||"",onChange:e=>t("occult_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"occult_growth",value:e.occult_growth||"",onChange:e=>t("occult_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"occult_other",value:e.occult_other||"",onChange:e=>t("occult_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("chemistry",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"化学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"chemistry_total",className:"readonly _02",value:a.chemistry_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"chemistry_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"chemistry_job",value:e.chemistry_job||"",onChange:e=>t("chemistry_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"chemistry_interest",value:e.chemistry_interest||"",onChange:e=>t("chemistry_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"chemistry_growth",value:e.chemistry_growth||"",onChange:e=>t("chemistry_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"chemistry_other",value:e.chemistry_other||"",onChange:e=>t("chemistry_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("cthulhu_mythos",0)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"クトゥルフ神話"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_total",className:"readonly _02",value:a.cthulhu_mythos_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_initial",className:"readonly _02",value:"0",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_job",value:e.cthulhu_mythos_job||"",onChange:e=>t("cthulhu_mythos_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_interest",value:e.cthulhu_mythos_interest||"",onChange:e=>t("cthulhu_mythos_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_growth",value:e.cthulhu_mythos_growth||"",onChange:e=>t("cthulhu_mythos_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"cthulhu_mythos_other",value:e.cthulhu_mythos_other||"",onChange:e=>t("cthulhu_mythos_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("art",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:["芸術 ",c.jsx("br",{className:"sp-only"}),c.jsx("input",{type:"text",name:"art_specialty",placeholder:"",className:"free",value:e.art_specialty||"",onChange:e=>t("art_specialty",e.target.value)})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"art_total",className:"readonly _02",value:a.art_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"art_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"art_job",value:e.art_job||"",onChange:e=>t("art_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"art_interest",value:e.art_interest||"",onChange:e=>t("art_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"art_growth",value:e.art_growth||"",onChange:e=>t("art_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"art_other",value:e.art_other||"",onChange:e=>t("art_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("accounting",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"経理"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"accounting_total",className:"readonly _02",value:a.accounting_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"accounting_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"accounting_job",value:e.accounting_job||"",onChange:e=>t("accounting_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"accounting_interest",value:e.accounting_interest||"",onChange:e=>t("accounting_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"accounting_growth",value:e.accounting_growth||"",onChange:e=>t("accounting_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"accounting_other",value:e.accounting_other||"",onChange:e=>t("accounting_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("archaeology",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"考古学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"archaeology_total",className:"readonly _02",value:a.archaeology_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"archaeology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"archaeology_job",value:e.archaeology_job||"",onChange:e=>t("archaeology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"archaeology_interest",value:e.archaeology_interest||"",onChange:e=>t("archaeology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"archaeology_growth",value:e.archaeology_growth||"",onChange:e=>t("archaeology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"archaeology_other",value:e.archaeology_other||"",onChange:e=>t("archaeology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("computer_use",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"コンピューター"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"computer_use_total",className:"readonly _02",value:a.computer_use_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"computer_use_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"computer_use_job",value:e.computer_use_job||"",onChange:e=>t("computer_use_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"computer_use_interest",value:e.computer_use_interest||"",onChange:e=>t("computer_use_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"computer_use_growth",value:e.computer_use_growth||"",onChange:e=>t("computer_use_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"computer_use_other",value:e.computer_use_other||"",onChange:e=>t("computer_use_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("psychology",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"心理学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"psychology_total",className:"readonly _02",value:a.psychology_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"psychology_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychology_job",value:e.psychology_job||"",onChange:e=>t("psychology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychology_interest",value:e.psychology_interest||"",onChange:e=>t("psychology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychology_growth",value:e.psychology_growth||"",onChange:e=>t("psychology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"psychology_other",value:e.psychology_other||"",onChange:e=>t("psychology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("anthropology",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"人類学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"anthropology_total",className:"readonly _02",value:a.anthropology_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"anthropology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"anthropology_job",value:e.anthropology_job||"",onChange:e=>t("anthropology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"anthropology_interest",value:e.anthropology_interest||"",onChange:e=>t("anthropology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"anthropology_growth",value:e.anthropology_growth||"",onChange:e=>t("anthropology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"anthropology_other",value:e.anthropology_other||"",onChange:e=>t("anthropology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("biology",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"生物学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"biology_total",className:"readonly _02",value:a.biology_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"biology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"biology_job",value:e.biology_job||"",onChange:e=>t("biology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"biology_interest",value:e.biology_interest||"",onChange:e=>t("biology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"biology_growth",value:e.biology_growth||"",onChange:e=>t("biology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"biology_other",value:e.biology_other||"",onChange:e=>t("biology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("geology",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"地質学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"geology_total",className:"readonly _02",value:a.geology_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"geology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"geology_job",value:e.geology_job||"",onChange:e=>t("geology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"geology_interest",value:e.geology_interest||"",onChange:e=>t("geology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"geology_growth",value:e.geology_growth||"",onChange:e=>t("geology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"geology_other",value:e.geology_other||"",onChange:e=>t("geology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("electronics",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"電子工学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"electronics_total",className:"readonly _02",value:a.electronics_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"electronics_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electronics_job",value:e.electronics_job||"",onChange:e=>t("electronics_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electronics_interest",value:e.electronics_interest||"",onChange:e=>t("electronics_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electronics_growth",value:e.electronics_growth||"",onChange:e=>t("electronics_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"electronics_other",value:e.electronics_other||"",onChange:e=>t("electronics_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("astronomy",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"天文学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"astronomy_total",className:"readonly _02",value:a.astronomy_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"astronomy_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"astronomy_job",value:e.astronomy_job||"",onChange:e=>t("astronomy_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"astronomy_interest",value:e.astronomy_interest||"",onChange:e=>t("astronomy_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"astronomy_growth",value:e.astronomy_growth||"",onChange:e=>t("astronomy_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"astronomy_other",value:e.astronomy_other||"",onChange:e=>t("astronomy_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("natural_history",10)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"博物学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"natural_history_total",className:"readonly _02",value:a.natural_history_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"natural_history_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"natural_history_job",value:e.natural_history_job||"",onChange:e=>t("natural_history_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"natural_history_interest",value:e.natural_history_interest||"",onChange:e=>t("natural_history_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"natural_history_growth",value:e.natural_history_growth||"",onChange:e=>t("natural_history_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"natural_history_other",value:e.natural_history_other||"",onChange:e=>t("natural_history_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("physics",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"物理学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"physics_total",className:"readonly _02",value:a.physics_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"physics_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"physics_job",value:e.physics_job||"",onChange:e=>t("physics_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"physics_interest",value:e.physics_interest||"",onChange:e=>t("physics_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"physics_growth",value:e.physics_growth||"",onChange:e=>t("physics_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"physics_other",value:e.physics_other||"",onChange:e=>t("physics_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("law",5)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"法律"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"law_total",className:"readonly _02",value:a.law_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"law_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"law_job",value:e.law_job||"",onChange:e=>t("law_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"law_interest",value:e.law_interest||"",onChange:e=>t("law_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"law_growth",value:e.law_growth||"",onChange:e=>t("law_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"law_other",value:e.law_other||"",onChange:e=>t("law_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("pharmacy",1)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"薬学"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"pharmacy_total",className:"readonly _02",value:a.pharmacy_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"pharmacy_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pharmacy_job",value:e.pharmacy_job||"",onChange:e=>t("pharmacy_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pharmacy_interest",value:e.pharmacy_interest||"",onChange:e=>t("pharmacy_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pharmacy_growth",value:e.pharmacy_growth||"",onChange:e=>t("pharmacy_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"pharmacy_other",value:e.pharmacy_other||"",onChange:e=>t("pharmacy_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,c.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:s&&l("history",20)?"none":"flex"},children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),c.jsx("div",{className:"title",children:"歴史"}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:"history_total",className:"readonly _02",value:a.history_total||0,readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:"history_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"history_job",value:e.history_job||"",onChange:e=>t("history_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"history_interest",value:e.history_interest||"",onChange:e=>t("history_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"history_growth",value:e.history_growth||"",onChange:e=>t("history_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:"history_other",value:e.history_other||"",onChange:e=>t("history_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),n.map(a=>(0,c.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[c.jsx("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,c.jsxs)("div",{className:"title",children:[c.jsx("input",{type:"text",name:`${a.id}_name`,value:e[`${a.id}_name`]||"",onChange:e=>t(`${a.id}_name`,e.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),c.jsx("button",{type:"button",onClick:()=>r(a.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})]}),c.jsx("div",{className:"total",children:c.jsx("input",{type:"number",name:`${a.id}_total`,className:"readonly _02",value:(parseInt(e[`${a.id}_initial`])||1)+(parseInt(e[`${a.id}_job`])||0)+(parseInt(e[`${a.id}_interest`])||0)+(parseInt(e[`${a.id}_growth`])||0)+(parseInt(e[`${a.id}_other`])||0),readOnly:!0})}),(0,c.jsxs)("div",{className:"breakdown",children:[c.jsx("span",{className:"initial",children:c.jsx("input",{type:"number",name:`${a.id}_initial`,className:"_02",value:e[`${a.id}_initial`]||1,onChange:e=>t(`${a.id}_initial`,""===e.target.value?1:parseInt(e.target.value)||1)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_job`,value:e[`${a.id}_job`]||"",onChange:e=>t(`${a.id}_job`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_interest`,value:e[`${a.id}_interest`]||"",onChange:e=>t(`${a.id}_interest`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_growth`,value:e[`${a.id}_growth`]||"",onChange:e=>t(`${a.id}_growth`,""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",c.jsx("span",{className:"atai",children:c.jsx("input",{type:"number",name:`${a.id}_other`,value:e[`${a.id}_other`]||"",onChange:e=>t(`${a.id}_other`,""===e.target.value?"":parseInt(e.target.value)||0)})})]})]},a.id))]}),(0,c.jsxs)("button",{type:"button",onClick:i,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 知識技能を追加"]})]})}function L({characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,toggleSkillDisplay:l,isSkillInitialOnly:n,isSkillSectionCollapsed:i=!1,additionalCombatSkills:r,addCombatSkill:o,removeCombatSkill:d,additionalExplorationSkills:h,addExplorationSkill:u,removeExplorationSkill:p,additionalActionSkills:m,addActionSkill:x,removeActionSkill:g,additionalNegotiationSkills:_,addNegotiationSkill:j,removeNegotiationSkill:v,additionalKnowledgeSkills:y,addKnowledgeSkill:b,removeKnowledgeSkill:N,jobPointsUsed:f,jobPointsTotal:k,interestPointsUsed:w,interestPointsTotal:C}){return i?null:(0,c.jsxs)(c.Fragment,{children:[c.jsx("div",{className:"skill-toggle-container",style:{textAlign:"right",marginBottom:"10px"},children:(0,c.jsxs)("div",{className:"segmented-toggle",children:[c.jsx("button",{type:"button",className:s?"":"active",onClick:l,children:"全表示"}),c.jsx("button",{type:"button",className:s?"active":"",onClick:l,children:"初期値の技能を隠す"})]})}),(0,c.jsxs)("div",{className:"skill",style:{backgroundColor:f>k||w>C?"#ffe6e6":"inherit",transition:"background-color 0.3s ease"},children:[c.jsx(B,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:n,additionalCombatSkills:r,addCombatSkill:o,removeCombatSkill:d}),c.jsx(q,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:n,additionalExplorationSkills:h,addExplorationSkill:u,removeExplorationSkill:p}),c.jsx(U,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:n,additionalActionSkills:m,addActionSkill:x,removeActionSkill:g}),c.jsx(W,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:n,additionalNegotiationSkills:_,addNegotiationSkill:j,removeNegotiationSkill:v}),c.jsx(H,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:s,isSkillInitialOnly:n,additionalKnowledgeSkills:y,addKnowledgeSkill:b,removeKnowledgeSkill:N})]})]})}function J({characterData:e,handleInputChange:a,equipmentSections:t,toggleEquipmentSection:s,weapons:l,addWeapon:n,removeWeapon:i,items:r,addItem:o,removeItem:d,disorders:h,addDisorder:u,removeDisorder:p,books:m,addBook:x,removeBook:g,spells:_,addSpell:j,removeSpell:v,artifacts:y,addArtifact:b,removeArtifact:N,entities:f,addEntity:k,removeEntity:w}){return c.jsx(c.Fragment,{children:(0,c.jsxs)("div",{id:"equipment-section",children:[(0,c.jsxs)("div",{className:"data-wrap buki",children:[(0,c.jsxs)("h3",{onClick:()=>s("weapons"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.weapons?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fa-solid fa-gun"})," 武器"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.weapons?"":"collapsed"}`,children:[c.jsx("ul",{children:l.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,c.jsxs)("div",{className:"title",style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},children:[c.jsx("span",{className:"label",children:"武器名"}),c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"ginou kazu",children:[c.jsx("span",{className:"label",children:"成功"}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[c.jsx("input",{type:"text",name:`${t.id}_success`,value:e[`${t.id}_success`]||"",onChange:e=>a(`${t.id}_success`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}}),c.jsx("span",{children:"%"})]})]}),(0,c.jsxs)("div",{className:"damage",children:[c.jsx("span",{className:"label",children:"ダメ―ジ"}),c.jsx("input",{type:"text",name:`${t.id}_damage`,value:e[`${t.id}_damage`]||"",onChange:e=>a(`${t.id}_damage`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"syatei kazu",children:[c.jsx("span",{className:"label",children:"射程"}),c.jsx("input",{type:"text",name:`${t.id}_range`,value:e[`${t.id}_range`]||"",onChange:e=>a(`${t.id}_range`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"kougekikaisu kazu",children:[c.jsx("span",{className:"label",children:"回数"}),c.jsx("input",{type:"text",name:`${t.id}_attacks`,value:e[`${t.id}_attacks`]||"",onChange:e=>a(`${t.id}_attacks`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"soudansuu kazu",children:[c.jsx("span",{className:"label",children:"装弾"}),c.jsx("input",{type:"text",name:`${t.id}_capacity`,value:e[`${t.id}_capacity`]||"",onChange:e=>a(`${t.id}_capacity`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"kosyou kazu",children:[c.jsx("span",{className:"label",children:"故障"}),c.jsx("input",{type:"text",name:`${t.id}_malfunction`,value:e[`${t.id}_malfunction`]||"",onChange:e=>a(`${t.id}_malfunction`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"taikyu kazu",children:[c.jsx("span",{className:"label",children:"耐久"}),c.jsx("input",{type:"text",name:`${t.id}_durability`,value:e[`${t.id}_durability`]||"",onChange:e=>a(`${t.id}_durability`,e.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,c.jsxs)("div",{className:"memo",children:[c.jsx("span",{className:"label",children:"詳細"}),c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"--",style:{width:"100%",resize:"vertical",minHeight:"15px",marginTop:"5px",padding:"3px 5px"}})]}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>i(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:n,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 武器を追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap item",children:[(0,c.jsxs)("h3",{onClick:()=>s("items"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.items?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fas fa-suitcase"})," 所持品"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.items?"":"collapsed"}`,children:[c.jsx("ul",{children:r.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"品名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"kosu",children:c.jsx("input",{type:"text",name:`${t.id}_quantity`,value:e[`${t.id}_quantity`]||"",onChange:e=>a(`${t.id}_quantity`,e.target.value),placeholder:"個数",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>d(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 所持品を追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap hutei",children:[(0,c.jsxs)("h3",{onClick:()=>s("disorders"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.disorders?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fas fa-bed"})," 不定・後遺症"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.disorders?"":"collapsed"}`,children:[c.jsx("ul",{children:h.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"症状名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"term",children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[c.jsx("input",{type:"date",name:`${t.id}_period_start`,value:e[`${t.id}_period`]?.split("～")[0]||"",onChange:s=>{let l=e[`${t.id}_period`]?.split("～")[1]||"",n=s.target.value+(l?"～"+l:"");a(`${t.id}_period`,n)},style:{width:"45%",border:"none",background:"transparent",textAlign:"center",fontSize:"inherit",fontFamily:"inherit"}}),c.jsx("span",{children:"～"}),c.jsx("input",{type:"date",name:`${t.id}_period_end`,value:e[`${t.id}_period`]?.split("～")[1]||"",onChange:s=>{let l=(e[`${t.id}_period`]?.split("～")[0]||"")+"～"+s.target.value;a(`${t.id}_period`,l)},style:{width:"45%",border:"none",background:"transparent",textAlign:"center",fontSize:"inherit",fontFamily:"inherit"}})]})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>p(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:u,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 不定・後遺症を追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap book",children:[(0,c.jsxs)("h3",{onClick:()=>s("books"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.books?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fas fa-book-dead"})," 読んだ魔導書"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.books?"":"collapsed"}`,children:[c.jsx("ul",{children:m.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"魔導書名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"詳細・効果",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>g(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:x,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 魔導書を追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap jumon",children:[(0,c.jsxs)("h3",{onClick:()=>s("spells"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.spells?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fa-solid fa-hand-sparkles"})," 覚えた呪文"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.spells?"":"collapsed"}`,children:[c.jsx("ul",{children:_.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"呪文名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"効果・詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>v(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:j,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 呪文を追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap af",children:[(0,c.jsxs)("h3",{onClick:()=>s("artifacts"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.artifacts?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fa-solid fa-star-of-david"})," 所持AF"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.artifacts?"":"collapsed"}`,children:[c.jsx("ul",{children:y.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"AF名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"効果・詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>N(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:b,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," AFを追加"]})]})]}),(0,c.jsxs)("div",{className:"data-wrap cthulhu",children:[(0,c.jsxs)("h3",{onClick:()=>s("entities"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t.entities?"fa-chevron-down":"fa-chevron-right"}`,style:{transition:"all 0.3s",marginRight:"10px"}}),c.jsx("i",{className:"fa-brands fa-octopus-deploy"})," 遭遇した超自然の存在"]}),(0,c.jsxs)("div",{className:`equipment-content ${t.entities?"":"collapsed"}`,children:[c.jsx("ul",{children:f.map(t=>(0,c.jsxs)("li",{className:"d-flex data-li skill-body",children:[c.jsx("div",{className:"title",children:c.jsx("input",{type:"text",name:`${t.id}_name`,value:e[`${t.id}_name`]||"",onChange:e=>a(`${t.id}_name`,e.target.value),placeholder:"存在名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),c.jsx("div",{className:"content",children:c.jsx("textarea",{name:`${t.id}_details`,value:e[`${t.id}_details`]||"",onChange:e=>a(`${t.id}_details`,e.target.value),placeholder:"詳細・状況",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),c.jsx("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:c.jsx("button",{type:"button",onClick:()=>w(t.id),className:"remove-btn",children:c.jsx("i",{className:"fas fa-minus"})})})]},t.id))}),(0,c.jsxs)("button",{type:"button",onClick:k,className:"add-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 遭遇した存在を追加"]})]})]})]})})}function K({characterData:e,handleInputChange:a,showMemoSection:t,toggleMemoSection:s,secretMemos:l,addSecretMemo:n,removeSecretMemo:i,memoOrder:r,reorderMemos:o}){let[d,h]=(0,u.useState)({}),[p,m]=(0,u.useState)(null),[,x]=(0,u.useState)(null),[g,_]=(0,u.useState)([]),[j,v]=(0,u.useState)(!1),y=e=>{h(a=>{let t=!a[e];return t||requestAnimationFrame(()=>{let a=document.querySelector(`textarea[name="${e}_content"]`);a&&b(a)}),{...a,[e]:t}})},b=e=>{let a=e.style.transition;e.style.transition="none",e.style.height="auto";let t=Math.max(e.scrollHeight,60);e.style.height=`${t}px`,requestAnimationFrame(()=>{e.style.transition=a})},N=(e,t,s)=>{a(`${e}_content`,t),b(s.target)},f=(e,t)=>{a("default_memo",e),b(t.target)},k=(e,t)=>{a(`${e}_password_protected`,t),t&&a(`${e}_open_by_default`,!1)},w=(e,a)=>{m(a),v(!1),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",a);let t=e.currentTarget,s=t.cloneNode(!0);s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.width=t.offsetWidth+"px",s.style.backgroundColor="white",s.style.borderRadius="6px",s.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",s.style.opacity="0.95",s.style.pointerEvents="none",document.body.appendChild(s),e.dataTransfer.setDragImage(s,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.removeChild(s)},0)},C=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},I=(e,a)=>{if(e.preventDefault(),x(a),p&&p!==a){let e=[...g],t=e.indexOf(p),s=e.indexOf(a);-1!==t&&-1!==s&&(e.splice(t,1),e.splice(s,0,p),_(e))}},$=e=>{e.currentTarget.contains(e.relatedTarget)||x(null)},S=(e,a)=>{e.preventDefault(),p&&(o([...g]),v(!0)),m(null),x(null)},O=()=>{j||_([...r]),m(null),x(null),v(!1)};return c.jsx("div",{className:"memo-section",style:{marginTop:"30px"},children:(0,c.jsxs)("div",{className:"data-wrap",children:[(0,c.jsxs)("h3",{className:"memo-title",onClick:s,style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[c.jsx("i",{className:`fas ${t?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"8px"}}),c.jsx("i",{className:"fa-solid fa-receipt",style:{marginRight:"5px"}})," メモ"]}),t&&(0,c.jsxs)("div",{className:"equipment-content",style:{padding:"10px 0"},children:[c.jsx("div",{children:c.jsx("textarea",{name:"default_memo",value:e.default_memo||"",onChange:e=>f(e.target.value,e),placeholder:"キャラクターに関する基本的なメモを記入してください...",style:{width:"100%",padding:"10px",borderRadius:"5px",textAlign:"left",resize:"none",fontSize:"14px",fontFamily:"inherit",minHeight:"80px",overflow:"hidden"},onInput:e=>b(e.target)})}),(0,c.jsxs)("div",{style:{paddingTop:"5px"},children:[c.jsx("ul",{style:{listStyle:"none",padding:"0",minHeight:p?"100px":"auto",transition:"min-height 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:(p?g:r).map(t=>{let s=l.find(e=>e.id===t);if(!s)return null;let n=d[s.id],r=p===s.id;return(0,c.jsxs)("li",{className:"memo-item",draggable:!0,onDragStart:e=>w(e,s.id),onDragOver:C,onDragEnter:e=>I(e,s.id),onDragLeave:$,onDrop:e=>S(e,s.id),onDragEnd:O,style:{display:"block",marginBottom:"5px",padding:"15px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",borderRadius:"4px",opacity:r?.3:1,backgroundColor:"transparent",border:"2px solid transparent",cursor:r?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:r?1e3:1,position:"relative"},children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:n?"0":"5px"},children:[c.jsx("i",{className:"fas fa-grip-vertical",style:{marginRight:"6px",fontSize:"12px",color:r?"var(--ui-theme-color)":"#999",cursor:r?"grabbing":"grab",userSelect:"none",position:"relative",zIndex:10,transition:"color 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},title:"ドラッグして並べ替え"}),c.jsx("i",{className:`fas ${n?"fa-chevron-right":"fa-chevron-down"}`,style:{marginRight:"0",padding:"0 4px 0 5px",fontSize:"12px",color:"#666",cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},onClick:()=>y(s.id)}),c.jsx("input",{type:"text",name:`${s.id}_title`,value:e[`${s.id}_title`]||"",onChange:e=>a(`${s.id}_title`,e.target.value),placeholder:"項目名",style:{flex:"1",padding:"4px 6px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"none",textAlign:"left"},onBlur:e=>e.target.style.background="transparent"}),c.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),i(s.id)},className:"remove-btn",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:"削除"})]}),!n&&(0,c.jsxs)("div",{children:[c.jsx("textarea",{name:`${s.id}_content`,value:e[`${s.id}_content`]||"",onChange:e=>N(s.id,e.target.value,e),placeholder:"メモの内容...",style:{width:"100%",padding:"10px 8px",resize:"none",fontSize:"14px",fontFamily:"inherit",boxShadow:"none",borderBottom:"1px solid #ccc",borderTop:"1px solid #ccc",textAlign:"left",marginBottom:"0",borderRadius:"0",minHeight:"80px",overflow:"hidden"},onInput:e=>b(e.target),onFocus:e=>b(e.target),ref:e=>{e&&requestAnimationFrame(()=>b(e))}}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"13px"},children:[(0,c.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[c.jsx("input",{type:"checkbox",name:`${s.id}_open_by_default`,checked:e[`${s.id}_open_by_default`]||!1,onChange:e=>a(`${s.id}_open_by_default`,e.target.checked),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px"}}),"開いておく"]}),(0,c.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[c.jsx("input",{type:"checkbox",name:`${s.id}_password_protected`,checked:e[`${s.id}_password_protected`]||!1,onChange:e=>k(s.id,e.target.checked),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px"}}),"パスワード保護"]}),e[`${s.id}_password_protected`]&&c.jsx("input",{type:"password",name:`${s.id}_password`,value:e[`${s.id}_password`]||"",onChange:e=>a(`${s.id}_password`,e.target.value),placeholder:"パスワード",style:{padding:"4px 6px",borderRadius:"3px",fontSize:"13px",width:"150px"}})]})]})]},s.id)})}),(0,c.jsxs)("button",{type:"button",onClick:n,className:"add-memo-btn",children:[c.jsx("i",{className:"fas fa-plus"}),"新しいメモを追加"]})]})]})]})})}function G({characterData:e,calculatedStats:a,handleInputChange:t,handleJobPointsFormulaChange:s,traits:l,addTrait:n,removeTrait:i,hideInitialSkills:r,toggleSkillDisplay:o,isSkillInitialOnly:d,isSkillSectionCollapsed:h,onSkillSectionToggle:p,additionalCombatSkills:m,addCombatSkill:x,removeCombatSkill:g,additionalExplorationSkills:_,addExplorationSkill:j,removeExplorationSkill:v,additionalActionSkills:y,addActionSkill:b,removeActionSkill:N,additionalNegotiationSkills:f,addNegotiationSkill:k,removeNegotiationSkill:w,additionalKnowledgeSkills:C,addKnowledgeSkill:I,removeKnowledgeSkill:$,equipmentSections:S,toggleEquipmentSection:O,weapons:D,addWeapon:z,removeWeapon:F,items:R,addItem:E,removeItem:A,disorders:T,addDisorder:M,removeDisorder:B,books:q,addBook:U,removeBook:W,spells:H,addSpell:G,removeSpell:X,artifacts:V,addArtifact:Z,removeArtifact:Y,entities:Q,addEntity:ee,removeEntity:ea,showMemoSection:et,toggleMemoSection:es,secretMemos:el,addSecretMemo:en,removeSecretMemo:ei,memoOrder:er,reorderMemos:eo}){let[ec,ed]=(0,u.useState)(()=>!1);return(0,c.jsxs)("div",{className:"character-name-section",children:[(0,c.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!ec;ed(e),localStorage.setItem("playsheetCollapsed",JSON.stringify(e))},children:[(0,c.jsxs)("h2",{children:[c.jsx("i",{className:"fas fa-scroll section-icon"}),"プレイシート"]}),c.jsx("i",{className:`fas ${ec?"fa-chevron-right":"fa-chevron-down"}`,style:{marginRight:"5px"}})]}),(0,c.jsxs)("div",{className:`section-content ${ec?"collapsed":""}`,style:{maxHeight:ec?"0":"none",overflow:"hidden",transition:"max-height 0.3s ease"},children:[c.jsx(P,{characterData:e,calculatedStats:a,handleInputChange:t,handleJobPointsFormulaChange:s,traits:l,addTrait:n,removeTrait:i,hideInitialSkills:r,toggleSkillDisplay:o,isSkillSectionCollapsed:h,onSkillSectionToggle:p}),c.jsx(L,{characterData:e,calculatedStats:a,handleInputChange:t,hideInitialSkills:r,toggleSkillDisplay:o,isSkillInitialOnly:d,isSkillSectionCollapsed:h,additionalCombatSkills:m,addCombatSkill:x,removeCombatSkill:g,additionalExplorationSkills:_,addExplorationSkill:j,removeExplorationSkill:v,additionalActionSkills:y,addActionSkill:b,removeActionSkill:N,additionalNegotiationSkills:f,addNegotiationSkill:k,removeNegotiationSkill:w,additionalKnowledgeSkills:C,addKnowledgeSkill:I,removeKnowledgeSkill:$,jobPointsUsed:Number(e.job_points_used)||0,jobPointsTotal:Number("manual"===e.job_points_formula?e.job_points_total||0:a.job_points_total||0),interestPointsUsed:Number(e.interest_points_used)||0,interestPointsTotal:Number(a.interest_points_total)||0}),c.jsx(J,{characterData:e,handleInputChange:t,equipmentSections:S,toggleEquipmentSection:O,weapons:D,addWeapon:z,removeWeapon:F,items:R,addItem:E,removeItem:A,disorders:T,addDisorder:M,removeDisorder:B,books:q,addBook:U,removeBook:W,spells:H,addSpell:G,removeSpell:X,artifacts:V,addArtifact:Z,removeArtifact:Y,entities:Q,addEntity:ee,removeEntity:ea}),c.jsx(K,{characterData:e,handleInputChange:t,showMemoSection:et,toggleMemoSection:es,secretMemos:el,addSecretMemo:en,removeSecretMemo:ei,memoOrder:er,reorderMemos:eo})]})]})}var X=t(3320);let V=({characterData:e,setCharacterData:a})=>{let[t,s]=(0,u.useState)(!1),[l,n]=(0,u.useState)(null),[i,r]=(0,u.useState)(null);(0,u.useEffect)(()=>{let e=localStorage.getItem("recordSectionOpen");null!==e&&s(JSON.parse(e))},[]);let o=e=>{a(a=>({...a,record_sections:(a.record_sections||[]).filter(a=>a.id!==e)}))},d=(e,t)=>{a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,section_title:t}:a)}))},h=e=>{a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,is_open:!a.is_open}:a)}))},p=e=>{let t={id:`field_${Date.now()}`,title:"",content:""};a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,fields:[...a.fields,t]}:a)}))},m=(e,t)=>{a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,fields:a.fields.filter(e=>e.id!==t)}:a)}))},x=(e,t,s,l)=>{a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,fields:a.fields.map(e=>e.id===t?{...e,[s]:l}:e)}:a)}))},g=(e,t,s)=>{a(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,fields:a.fields.map(e=>e.id===t?{...e,password_protected:s,open_by_default:!s&&e.open_by_default}:e)}:a)}))},_=(e,a)=>{n(a);let t=e.currentTarget,s=t.cloneNode(!0);s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.width=t.offsetWidth+"px",s.style.backgroundColor="white",s.style.borderRadius="6px",s.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",s.style.opacity="0.95",s.style.pointerEvents="none",document.body.appendChild(s),e.dataTransfer.setDragImage(s,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},0)},j=e=>{e.preventDefault()},v=()=>{n(null)},y=()=>{r(null)},b=e=>{l&&l!==e&&(a(a=>{let t=[...a.record_sections||[]],s=t.findIndex(e=>e.id===l),n=t.findIndex(a=>a.id===e);if(-1===s||-1===n)return a;let[i]=t.splice(s,1);return t.splice(n,0,i),{...a,record_sections:t}}),n(null))},N=(e,a,t)=>{r({sectionId:a,fieldId:t});let s=e.currentTarget,l=s.cloneNode(!0);l.style.position="absolute",l.style.top="-9999px",l.style.left="-9999px",l.style.width=s.offsetWidth+"px",l.style.backgroundColor="white",l.style.borderRadius="6px",l.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",l.style.opacity="0.95",l.style.pointerEvents="none",l.style.border="2px solid var(--ui-theme-color)",document.body.appendChild(l),e.dataTransfer.setDragImage(l,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.contains(l)&&document.body.removeChild(l)},0)},f=(e,t)=>{i&&(i.sectionId!==e||i.fieldId!==t)&&(a(a=>{let s=[...a.record_sections||[]];if(i.sectionId===e){let l=s.findIndex(a=>a.id===e);if(-1===l)return a;let n=[...s[l].fields],r=n.findIndex(e=>e.id===i.fieldId),o=n.findIndex(e=>e.id===t);if(-1===r||-1===o)return a;let[c]=n.splice(r,1);n.splice(o,0,c),s[l]={...s[l],fields:n}}else{let l=s.findIndex(e=>e.id===i.sectionId),n=s.findIndex(a=>a.id===e);if(-1===l||-1===n)return a;let r=[...s[l].fields],o=[...s[n].fields],c=r.findIndex(e=>e.id===i.fieldId),d=o.findIndex(e=>e.id===t);if(-1===c)return a;let[h]=r.splice(c,1),u=-1===d?o.length:d;o.splice(u,0,h),s[l]={...s[l],fields:r},s[n]={...s[n],fields:o}}return{...a,record_sections:s}}),r(null))};return(0,c.jsxs)("section",{className:"record-section",children:[(0,c.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!t;s(e),localStorage.setItem("recordSectionOpen",JSON.stringify(e))},children:[(0,c.jsxs)("h2",{children:[c.jsx("i",{className:"fas fa-clipboard section-icon"})," 記録"]}),c.jsx("i",{className:`fas ${t?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"5px"}})]}),t&&(0,c.jsxs)("div",{className:"record-section-content",children:[e.record_sections&&e.record_sections.map(e=>(0,c.jsxs)("div",{className:"memo-item",draggable:!0,onDragStart:a=>_(a,e.id),onDragOver:j,onDragEnd:v,onDrop:()=>b(e.id),style:{display:"block",marginBottom:"5px",padding:"15px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",borderRadius:"4px",opacity:l===e.id?.3:1,backgroundColor:"transparent",border:"2px solid transparent",cursor:l===e.id?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:l===e.id?1e3:1,position:"relative"},children:[(0,c.jsxs)("div",{className:"memo-header",style:{display:"flex",alignItems:"center"},children:[c.jsx("i",{className:"fas fa-grip-vertical",style:{marginRight:"6px",fontSize:"12px",color:l===e.id?"var(--ui-theme-color)":"#999",cursor:l===e.id?"grabbing":"grab",userSelect:"none",position:"relative",zIndex:10,transition:"color 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},title:"ドラッグして並べ替え"}),c.jsx("button",{type:"button",onClick:()=>h(e.id),className:"toggle-btn",title:"セクションを開閉",children:c.jsx("i",{className:`fas ${e.is_open?"fa-chevron-down":"fa-chevron-right"}`})}),c.jsx("input",{type:"text",value:e.section_title,onChange:a=>d(e.id,a.target.value),placeholder:"記録セクション名を入力（例：第1話、探索記録など）",style:{flex:"1",padding:"4px 6px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"none",textAlign:"left"}}),c.jsx("button",{type:"button",onClick:()=>o(e.id),className:"remove-btn",title:"このセクションを削除",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:"削除"})]}),e.is_open&&(0,c.jsxs)("div",{children:[e.fields.map(a=>(0,c.jsxs)("div",{className:"o-memos form-item",draggable:!0,onDragStart:t=>N(t,e.id,a.id),onDragOver:j,onDragEnd:y,onDrop:()=>f(e.id,a.id),style:{display:"block",marginBottom:"8px",padding:"8px",boxShadow:"0 0 1px rgba(0, 0, 0, 0.3) inset",borderRadius:"4px",opacity:i?.fieldId===a.id?.3:1,backgroundColor:"transparent",border:"1px solid #eee",cursor:i?.fieldId===a.id?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:i?.fieldId===a.id?1e3:1,position:"relative"},children:[(0,c.jsxs)("div",{className:"field-header",style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[c.jsx("input",{type:"text",value:a.title,onChange:t=>x(e.id,a.id,"title",t.target.value),placeholder:"項目名を入力",style:{width:"100%",padding:"15px 12px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"0 0 2px rgba(0,0,0,0.5) inset",textAlign:"left"}}),c.jsx("button",{type:"button",onClick:()=>m(e.id,a.id),title:"この項目を削除",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:c.jsx("i",{className:"fas fa-times"})})]}),c.jsx(X._R,{value:a.content,onChange:t=>x(e.id,a.id,"content",t),placeholder:"内容を入力",minRows:3}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"13px",marginTop:"8px"},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:[(0,c.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:a.open_by_default||!1,onChange:t=>{t.stopPropagation(),x(e.id,a.id,"open_by_default",t.target.checked)},onClick:e=>e.stopPropagation(),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px",cursor:"pointer"}}),"開いておく"]}),(0,c.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:a.password_protected||!1,onChange:t=>{t.stopPropagation(),g(e.id,a.id,t.target.checked)},onClick:e=>e.stopPropagation(),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px",cursor:"pointer"}}),"パスワード保護"]}),a.password_protected&&c.jsx("input",{type:"password",value:a.password||"",onChange:t=>{t.stopPropagation(),x(e.id,a.id,"password",t.target.value)},onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),placeholder:"パスワード",style:{padding:"4px 6px",borderRadius:"3px",fontSize:"13px",width:"150px"}})]})]},a.id)),(0,c.jsxs)("button",{type:"button",onClick:()=>p(e.id),className:"add-memo-btn",children:[c.jsx("i",{className:"fas fa-plus"})," 新しいメモを追加"]})]})]},e.id)),c.jsx("div",{className:"add-record-section",style:{marginTop:"16px"},children:(0,c.jsxs)("button",{type:"button",onClick:()=>{let e={id:`record_${Date.now()}`,section_title:"",is_open:!0,fields:[]};a(a=>({...a,record_sections:[...a.record_sections||[],e]}))},className:"add-section-btn large",children:[c.jsx("i",{className:"fas fa-plus"})," 新しい記録セクションを追加"]})})]})]})},Z=({characterData:e,setCharacterData:a})=>{let[t,s]=(0,u.useState)(!1),[l,n]=(0,u.useState)(!0),[i,r]=(0,u.useState)(!0),[o,d]=(0,u.useState)(!0);(0,u.useEffect)(()=>{let e=localStorage.getItem("personalDataSectionOpen");null!==e&&s(JSON.parse(e));let a=localStorage.getItem("speechSectionOpen");null!==a&&n(JSON.parse(a));let t=localStorage.getItem("preferencesSectionOpen");null!==t&&r(JSON.parse(t));let l=localStorage.getItem("imageSectionOpen");null!==l&&d(JSON.parse(l))},[]);let h=(e,t)=>{a(a=>({...a,[e]:t}))},p=e=>{a(a=>({...a,other_sections:(a.other_sections||[]).filter(a=>a.id!==e)}))},m=(e,t,s)=>{a(a=>({...a,other_sections:(a.other_sections||[]).map(a=>a.id===e?{...a,[t]:s}:a)}))},x=e=>{a(a=>({...a,custom_sections:(a.custom_sections||[]).filter(a=>a.id!==e)}))},g=(e,t)=>{a(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,section_title:t}:a)}))},_=e=>{a(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,is_open:!a.is_open}:a)}))},j=e=>{let t={id:`field_${Date.now()}`,title:"",content:""};a(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,fields:[...a.fields,t]}:a)}))},v=(e,t)=>{a(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,fields:a.fields.filter(e=>e.id!==t)}:a)}))},y=(e,t,s,l)=>{a(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,fields:a.fields.map(e=>e.id===t?{...e,[s]:l}:e)}:a)}))};return(0,c.jsxs)("section",{className:"personal-data-section",children:[(0,c.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!t;s(e),localStorage.setItem("personalDataSectionOpen",JSON.stringify(e))},children:[(0,c.jsxs)("h2",{children:[c.jsx("i",{className:"fas fa-user section-icon"})," キャラクター詳細",c.jsx("i",{className:"fas fa-info-circle info-icon",title:"[テキスト](URL)形式でテキストリンクが作成できます 例: [この動画](https://youtube.com/watch?v=abc)"})]}),c.jsx("i",{className:`fas ${t?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"5px"}})]}),t&&(0,c.jsxs)("div",{className:"personal-data-content",children:[(0,c.jsxs)("div",{className:"form-group-section",children:[(0,c.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!l;n(e),localStorage.setItem("speechSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[c.jsx("i",{className:`fas ${l?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"5px",fontSize:"12px"}}),c.jsx("i",{className:"fas fa-comments"})," 話し方"]}),l&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"first_person",children:"一人称"}),c.jsx("input",{type:"text",id:"first_person",value:e.first_person||"",onChange:e=>h("first_person",e.target.value),placeholder:"私、僕、俺など"})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"second_person",children:"二人称"}),c.jsx("input",{type:"text",id:"second_person",value:e.second_person||"",onChange:e=>h("second_person",e.target.value),placeholder:"あなた、君、お前など"})]})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"speech_style",children:"口調"}),c.jsx(X._R,{id:"speech_style",value:e.speech_style||"",onChange:e=>h("speech_style",e),placeholder:"丁寧語、タメ語、方言など、話し方の特徴やサンプル台詞など",minRows:2})]})]})]}),(0,c.jsxs)("div",{className:"form-group-section",children:[(0,c.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!i;r(e),localStorage.setItem("preferencesSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[c.jsx("i",{className:`fas ${i?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"5px",fontSize:"12px"}}),c.jsx("i",{className:"fas fa-heart"})," 嗜好"]}),i&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"likes",children:"好き"}),c.jsx(X._R,{id:"likes",value:e.likes||"",onChange:e=>h("likes",e),placeholder:"好きな食べ物、活動、場所など",minRows:3})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"dislikes",children:"嫌い"}),c.jsx(X._R,{id:"dislikes",value:e.dislikes||"",onChange:e=>h("dislikes",e),placeholder:"嫌いな食べ物、苦手なこと、避けたいものなど",minRows:3})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"hobbies",children:"趣味"}),c.jsx(X._R,{id:"hobbies",value:e.hobbies||"",onChange:e=>h("hobbies",e),placeholder:"余暇の過ごし方、興味のある活動など",minRows:3})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"special_skills",children:"得意"}),c.jsx(X._R,{id:"special_skills",value:e.special_skills||"",onChange:e=>h("special_skills",e),placeholder:"得意なこと、人より優れている能力など",minRows:3})]})]})]}),(0,c.jsxs)("div",{className:"form-group-section",children:[(0,c.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!o;d(e),localStorage.setItem("imageSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[c.jsx("i",{className:`fas ${o?"fa-chevron-down":"fa-chevron-right"}`,style:{marginRight:"5px",fontSize:"12px"}}),c.jsx("i",{className:"fas fa-palette"})," イメージ"]}),o&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"theme_song",children:"曲"}),c.jsx(X._R,{id:"theme_song",value:e.theme_song||"",onChange:e=>h("theme_song",e),placeholder:"テーマソング、イメージソングなど",minRows:3})]}),(0,c.jsxs)("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"motif",children:"モチーフ"}),c.jsx(X._R,{id:"motif",value:e.motif||"",onChange:e=>h("motif",e),placeholder:"キャラクターデザインの元ネタ、モチーフなど",minRows:3})]}),e.other_sections&&e.other_sections.map(e=>(0,c.jsxs)("div",{className:"form-group dynamic-section",children:[(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group inline",children:[c.jsx("label",{children:"項目名"}),c.jsx("input",{type:"text",value:e.title,onChange:a=>m(e.id,"title",a.target.value),placeholder:"項目名を入力"})]}),c.jsx("button",{type:"button",onClick:()=>p(e.id),className:"remove-btn",title:"この項目を削除",children:c.jsx("i",{className:"fas fa-times"})})]}),c.jsx(X._R,{value:e.content,onChange:a=>m(e.id,"content",a),placeholder:"内容を入力",minRows:3})]},e.id)),(0,c.jsxs)("button",{type:"button",onClick:()=>{let e={id:`other_${Date.now()}`,title:"",content:""};a(a=>({...a,other_sections:[...a.other_sections||[],e]}))},className:"add-section-btn",children:[c.jsx("i",{className:"fas fa-plus"})," その他項目を追加"]})]})]}),e.custom_sections&&e.custom_sections.map(e=>(0,c.jsxs)("div",{className:"form-group-section",children:[(0,c.jsxs)("div",{className:"section-header-with-controls",children:[c.jsx("button",{type:"button",onClick:()=>_(e.id),className:"toggle-btn",title:"セクションを開閉",children:c.jsx("i",{className:`fas ${e.is_open?"fa-chevron-down":"fa-chevron-right"}`})}),c.jsx("div",{className:"section-title-input",children:c.jsx("input",{type:"text",value:e.section_title,onChange:a=>g(e.id,a.target.value),placeholder:"セクション名を入力（例：経歴、人間関係など）",className:"section-title-field"})}),c.jsx("div",{className:"section-controls",children:c.jsx("button",{type:"button",onClick:()=>x(e.id),className:"remove-btn",title:"このセクションを削除",children:c.jsx("i",{className:"fas fa-times"})})})]}),e.is_open&&(0,c.jsxs)(c.Fragment,{children:[e.fields.map(a=>(0,c.jsxs)("div",{className:"form-group dynamic-section",children:[(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group inline",children:[c.jsx("label",{children:"項目名"}),c.jsx("input",{type:"text",value:a.title,onChange:t=>y(e.id,a.id,"title",t.target.value),placeholder:"項目名を入力"})]}),c.jsx("button",{type:"button",onClick:()=>v(e.id,a.id),className:"remove-btn",title:"この項目を削除",children:c.jsx("i",{className:"fas fa-times"})})]}),c.jsx(X._R,{value:a.content,onChange:t=>y(e.id,a.id,"content",t),placeholder:"内容を入力",minRows:3})]},a.id)),(0,c.jsxs)("button",{type:"button",onClick:()=>j(e.id),className:"add-section-btn",children:[c.jsx("i",{className:"fas fa-plus"})," この項目を追加"]})]})]},e.id)),c.jsx("div",{className:"add-custom-section",children:(0,c.jsxs)("button",{type:"button",onClick:()=>{let e={id:`section_${Date.now()}`,section_title:"",is_open:!0,fields:[]};a(a=>({...a,custom_sections:[...a.custom_sections||[],e]}))},className:"add-section-btn large",children:[c.jsx("i",{className:"fas fa-plus"})," 新しいセクションを追加"]})})]})]})};function Y(){let{user:e}=(0,_.a)(),[a,t]=(0,u.useState)(!1),[s,l]=(0,u.useState)({}),[n,i]=(0,u.useState)({}),[r,o]=(0,u.useState)(!1),[d,b]=(0,u.useState)(!1),[N,f]=(0,u.useState)(!1),[k,w]=(0,u.useState)({}),[C,I]=(0,u.useState)([]),[$,S]=(0,u.useState)(0),[O,z]=(0,u.useState)([]),[F,R]=(0,u.useState)(0),[E,A]=(0,u.useState)([]),[T,M]=(0,u.useState)(0),[P,B]=(0,u.useState)([]),[q,U]=(0,u.useState)(0),[W,H]=(0,u.useState)([]),[L,J]=(0,u.useState)(0),[K,X]=(0,u.useState)([]),[Y,Q]=(0,u.useState)(0),[ee,ea]=(0,u.useState)([]),[et,es]=(0,u.useState)(0),[el,en]=(0,u.useState)([]),[ei,er]=(0,u.useState)(0),[eo,ec]=(0,u.useState)([]),[ed,eh]=(0,u.useState)(0),[eu,ep]=(0,u.useState)([]),[em,ex]=(0,u.useState)(0),[eg,e_]=(0,u.useState)([]),[ej,ev]=(0,u.useState)(0),[ey,eb]=(0,u.useState)([]),[eN,ef]=(0,u.useState)(0),[ek,ew]=(0,u.useState)([]),[eC,eI]=(0,u.useState)(0),[e$,eS]=(0,u.useState)([]),[eO,eD]=(0,u.useState)(0),[ez,eF]=(0,u.useState)([]),[eR,eE]=(0,u.useState)(new Set),[eA,eT]=(0,u.useState)(!1),[eM,eP]=(0,u.useState)(!1),[eB,eq]=(0,u.useState)({weapons:!0,items:!0,disorders:!0,books:!0,spells:!0,artifacts:!0,entities:!0}),[eU,eW]=(0,u.useState)(!0),eH=(0,p.useRouter)(),{edit:eL}=eH.query,eJ=!!eL,eK=e=>[/^weapon_\d+_/,/^item_\d+_/,/^disorder_\d+_/,/^book_\d+_/,/^spell_\d+_/,/^artifact_\d+_/,/^entity_\d+_/,/^trait_\d+_/,/^memo_\d+_/,/^additional_combat_\d+_/,/^additional_exploration_\d+_/,/^additional_action_\d+_/,/^additional_negotiation_\d+_/,/^additional_knowledge_\d+_/].some(a=>a.test(e));(0,u.useCallback)(()=>{i((0,g.G$)(s))},[s]);let eG=e=>{let a=0;["dodge","kick","grapple","punch","headbutt","throw","first_aid","locksmith","conceal","hide","listen","sneak","photography","psychoanalysis","climb","jump","swim","throw_skill","fast_talk","credit_rating","disguise","dodge_skill","intimidate","persuade","psychology","accounting","anthropology","archeology","art","astronomy","biology","chemistry","computer_use","craft","demolitions","economics","electrical_repair","electronics","engineering","forensics","geology","history","law","library_use","linguistics","locksmith_skill","mathematics","mechanical_repair","medicine","natural_world","navigate","occult","operate_heavy_machinery","pharmacy","physics","pilot","psychotherapy","ride","spot_hidden","survival","track"].forEach(t=>{let s=e[`${t}_job`];s&&!isNaN(Number(s))&&(a+=Number(s))});for(let t=1;t<=50;t++)["additional_combat","additional_exploration","additional_action","additional_negotiation","additional_knowledge"].forEach(s=>{let l=e[`${s}_${t}_job`];l&&!isNaN(Number(l))&&(a+=Number(l))});return a},eX=e=>{let a=0;["dodge","kick","grapple","punch","headbutt","throw","first_aid","locksmith","conceal","hide","listen","sneak","photography","psychoanalysis","climb","jump","swim","throw_skill","fast_talk","credit_rating","disguise","dodge_skill","intimidate","persuade","psychology","accounting","anthropology","archeology","art","astronomy","biology","chemistry","computer_use","craft","demolitions","economics","electrical_repair","electronics","engineering","forensics","geology","history","law","library_use","linguistics","locksmith_skill","mathematics","mechanical_repair","medicine","natural_world","navigate","occult","operate_heavy_machinery","pharmacy","physics","pilot","psychotherapy","ride","spot_hidden","survival","track"].forEach(t=>{let s=e[`${t}_interest`];s&&!isNaN(Number(s))&&(a+=Number(s))});for(let t=1;t<=50;t++)["additional_combat","additional_exploration","additional_action","additional_negotiation","additional_knowledge"].forEach(s=>{let l=e[`${s}_${t}_interest`];l&&!isNaN(Number(l))&&(a+=Number(l))});return a},eV=(e,a)=>{l(t=>{let s={...t,[e]:a};return(e.includes("_job")||e.includes("_interest"))&&(s.job_points_used=eG(s),s.interest_points_used=eX(s)),s})},eZ=async a=>{if(a.preventDefault(),!x.db){alert("Firebase接続エラーです");return}if(!e){alert("ログインが必要です"),eH.push("/auth/login");return}o(!0);try{if(eJ&&eL){if(k.userId&&k.userId!==e.uid){alert("このキャラクターを編集する権限がありません"),eH.push("/list");return}let a={...s,...n,updatedAt:new Date},t=new Set;Object.keys(s).forEach(e=>{eK(e)&&t.add(e)});let l={};eR.forEach(e=>{t.has(e)||(l[e]=null)});let i={...a,...l},r=(0,m.doc)(x.db,"characters",eL);await (0,m.updateDoc)(r,i),alert("キャラクターが更新されました！"),eH.push(`/character/${eL}`)}else{let a={...s,...n,userId:e.uid,createdAt:new Date,updatedAt:new Date},t=await (0,m.addDoc)((0,m.collection)(x.db,"characters"),a);alert("キャラクターが保存されました！"),eH.push(`/character/${t.id}`)}}catch(e){console.error("保存エラー:",e),alert("保存に失敗しました")}finally{o(!1)}},eY=async()=>{if(!eJ||!eL)return;let e=s.character_name||"無名のキャラクター";if(confirm(`本当に「${e}」を削除しますか？
この操作は取り消せません。`)){b(!0);try{let e=await fetch(`/api/characters/${eL}/delete`,{method:"DELETE"});if(e.ok)alert("キャラクターを削除しました"),eH.push("/list");else{let a=await e.json();alert(`削除に失敗しました: ${a.error||"不明なエラー"}`)}}catch(e){console.error("削除エラー:",e),alert("削除中にエラーが発生しました")}finally{b(!1)}}};return(0,c.jsxs)(j.Z,{children:[(0,c.jsxs)(h(),{children:[c.jsx("title",{children:"キャラクター作成 - クトゥルフ神話TRPG第6版"}),c.jsx("meta",{name:"description",content:"クトゥルフ神話TRPG第6版のキャラクターシート作成フォーム"}),c.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),c.jsx(v.Z,{showBackButton:!0,customBackUrl:"/list",actionButtons:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{type:"button",className:"nav-link",style:{background:"none",border:"none",cursor:"pointer"},onClick:()=>{if(!n.character_name){alert("キャラクター名を入力してください");return}localStorage.setItem("tempCharacter",JSON.stringify({...s,...n,...eJ&&eL?{id:eL}:{}})),window.open("/character/preview","_blank")},children:[c.jsx("i",{className:"fas fa-eye"}),c.jsx("span",{className:"nav-text",children:"プレビュー"})]}),(0,c.jsxs)("button",{type:"submit",form:"chara-form",className:"nav-link",style:{background:!eJ||N?"#74cdc3":"",border:"none",cursor:"pointer"},disabled:r,onMouseEnter:e=>{let a=e.currentTarget;(!eJ||N)&&(a.style.background="#5fb5aa")},onMouseLeave:e=>{let a=e.currentTarget;(!eJ||N)&&(a.style.background="#74cdc3")},children:[c.jsx("i",{className:"fas fa-save"}),c.jsx("span",{className:"nav-text",children:r?"保存中...":eJ?"更新":"保存"})]})]})}),c.jsx("div",{id:"content",className:"character-input page-with-header",children:c.jsx("div",{className:"wrap",children:c.jsx("main",{id:"main",children:c.jsx("article",{className:"character-input",children:c.jsx("form",{id:"chara-form",className:"pc-data",onSubmit:eZ,children:(0,c.jsxs)("section",{className:"chara-seet",children:[c.jsx(D,{characterData:s,handleInputChange:eV}),c.jsx(G,{characterData:s,calculatedStats:n,handleInputChange:eV,handleJobPointsFormulaChange:e=>{l(a=>({...a,job_points_formula:e}))},traits:ek,addTrait:()=>{let e=eC+1,a=`trait_${e}`;eI(e),ew(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_number`]:"",[`${a}_name`]:"",[`${a}_description`]:""}))},removeTrait:e=>{ew(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_number`],delete t[`${e}_name`],delete t[`${e}_description`],t})},hideInitialSkills:eA,toggleSkillDisplay:()=>{eT(!eA)},isSkillInitialOnly:(e,a=1)=>{let t=parseInt(s[`${e}_job`])||0,l=parseInt(s[`${e}_interest`])||0,n=parseInt(s[`${e}_growth`])||0,i=parseInt(s[`${e}_other`])||0;return 0===t&&0===l&&0===n&&0===i},isSkillSectionCollapsed:eM,onSkillSectionToggle:()=>eP(!eM),additionalCombatSkills:C,addCombatSkill:()=>{let e=$+1,a=`additional_combat_${e}`;S(e),I(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_initial`]:1,[`${a}_job`]:"",[`${a}_interest`]:"",[`${a}_growth`]:"",[`${a}_other`]:"",[`${a}_total`]:1}))},removeCombatSkill:e=>{I(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_initial`],delete t[`${e}_job`],delete t[`${e}_interest`],delete t[`${e}_growth`],delete t[`${e}_other`],delete t[`${e}_total`],t})},additionalExplorationSkills:O,addExplorationSkill:()=>{let e=F+1,a=`additional_exploration_${e}`;R(e),z(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_initial`]:1,[`${a}_job`]:"",[`${a}_interest`]:"",[`${a}_growth`]:"",[`${a}_other`]:"",[`${a}_total`]:1}))},removeExplorationSkill:e=>{z(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_initial`],delete t[`${e}_job`],delete t[`${e}_interest`],delete t[`${e}_growth`],delete t[`${e}_other`],delete t[`${e}_total`],t})},additionalActionSkills:E,addActionSkill:()=>{let e=T+1,a=`additional_action_${e}`;M(e),A(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_initial`]:1,[`${a}_job`]:"",[`${a}_interest`]:"",[`${a}_growth`]:"",[`${a}_other`]:"",[`${a}_total`]:1}))},removeActionSkill:e=>{A(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_initial`],delete t[`${e}_job`],delete t[`${e}_interest`],delete t[`${e}_growth`],delete t[`${e}_other`],delete t[`${e}_total`],t})},additionalNegotiationSkills:P,addNegotiationSkill:()=>{let e=q+1,a=`additional_negotiation_${e}`;U(e),B(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_initial`]:1,[`${a}_job`]:"",[`${a}_interest`]:"",[`${a}_growth`]:"",[`${a}_other`]:"",[`${a}_total`]:1}))},removeNegotiationSkill:e=>{B(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_initial`],delete t[`${e}_job`],delete t[`${e}_interest`],delete t[`${e}_growth`],delete t[`${e}_other`],delete t[`${e}_total`],t})},additionalKnowledgeSkills:W,addKnowledgeSkill:()=>{let e=L+1,a=`additional_knowledge_${e}`;J(e),H(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_initial`]:1,[`${a}_job`]:"",[`${a}_interest`]:"",[`${a}_growth`]:"",[`${a}_other`]:"",[`${a}_total`]:1}))},removeKnowledgeSkill:e=>{H(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_initial`],delete t[`${e}_job`],delete t[`${e}_interest`],delete t[`${e}_growth`],delete t[`${e}_other`],delete t[`${e}_total`],t})},equipmentSections:eB,toggleEquipmentSection:e=>{eq(a=>({...a,[e]:!a[e]}))},weapons:K,addWeapon:()=>{let e=Y+1,a=`weapon_${e}`;Q(e),X(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_success`]:"",[`${a}_damage`]:"",[`${a}_range`]:"",[`${a}_attacks`]:"",[`${a}_capacity`]:"",[`${a}_malfunction`]:"",[`${a}_durability`]:"",[`${a}_details`]:""}))},removeWeapon:e=>{X(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_success`],delete t[`${e}_damage`],delete t[`${e}_range`],delete t[`${e}_attacks`],delete t[`${e}_capacity`],delete t[`${e}_malfunction`],delete t[`${e}_durability`],delete t[`${e}_details`],t})},items:ee,addItem:()=>{let e=et+1,a=`item_${e}`;es(e),ea(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_quantity`]:"",[`${a}_details`]:""}))},removeItem:e=>{ea(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_quantity`],delete t[`${e}_details`],t})},disorders:el,addDisorder:()=>{let e=ei+1,a=`disorder_${e}`;er(e),en(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_period`]:"",[`${a}_details`]:""}))},removeDisorder:e=>{en(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_period`],delete t[`${e}_details`],t})},books:eo,addBook:()=>{let e=ed+1,a=`book_${e}`;eh(e),ec(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_details`]:""}))},removeBook:e=>{ec(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_details`],t})},spells:eu,addSpell:()=>{let e=em+1,a=`spell_${e}`;ex(e),ep(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_details`]:""}))},removeSpell:e=>{ep(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_details`],t})},artifacts:eg,addArtifact:()=>{let e=ej+1,a=`artifact_${e}`;ev(e),e_(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_details`]:""}))},removeArtifact:e=>{e_(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_details`],t})},entities:ey,addEntity:()=>{let e=eN+1,a=`entity_${e}`;ef(e),eb(t=>[...t,{id:a,counter:e}]),l(e=>({...e,[`${a}_name`]:"",[`${a}_details`]:""}))},removeEntity:e=>{eb(a=>a.filter(a=>a.id!==e)),l(a=>{let t={...a};return delete t[`${e}_name`],delete t[`${e}_details`],t})},showMemoSection:eU,toggleMemoSection:()=>{eW(e=>!e)},secretMemos:e$,addSecretMemo:()=>{let e=eO+1,a=`memo_${e}`;eD(e),eS(t=>[...t,{id:a,counter:e}]),eF(e=>[...e,a]),l(e=>({...e,[`${a}_title`]:"",[`${a}_content`]:"",[`${a}_hidden`]:!1,[`${a}_password_protected`]:!1,[`${a}_password`]:""})),setTimeout(()=>{let e=document.querySelector(`[name="${a}_title"]`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())},100)},removeSecretMemo:e=>{eS(a=>a.filter(a=>a.id!==e)),eF(a=>a.filter(a=>a!==e)),l(a=>{let t={...a};return delete t[`${e}_title`],delete t[`${e}_content`],delete t[`${e}_hidden`],delete t[`${e}_password_protected`],delete t[`${e}_password`],t})},memoOrder:ez,reorderMemos:e=>{eF(e)}}),c.jsx(Z,{characterData:s,setCharacterData:e=>{if("function"==typeof e){let a=e(s);Object.keys(a).forEach(e=>{a[e]!==s[e]&&eV(e,a[e])})}}}),c.jsx(V,{characterData:s,setCharacterData:e=>{if("function"==typeof e){let a=e(s);Object.keys(a).forEach(e=>{a[e]!==s[e]&&eV(e,a[e])})}}}),(0,c.jsxs)("div",{style:{textAlign:"center",margin:"20px 0",paddingTop:"10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px"},children:[eJ&&(0,c.jsxs)("button",{type:"button",onClick:eY,className:"btn delete-btn",style:{padding:"10px 30px",backgroundColor:"transparent",color:"#666",border:"1px solid #666",borderRadius:"50px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s ease",minWidth:"120px"},disabled:d,onMouseEnter:e=>{d||(e.target.style.backgroundColor="#666",e.target.style.color="white")},onMouseLeave:e=>{d||(e.target.style.backgroundColor="transparent",e.target.style.color="#666")},children:[c.jsx("i",{className:"fas fa-trash"})," ",d?"削除中...":"削除"]}),(0,c.jsxs)("button",{type:"submit",className:"btn save-btn",style:{padding:"10px 30px",backgroundColor:"#74cdc3",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"120px"},disabled:r,children:[c.jsx("i",{className:"fas fa-save"})," ",r?"保存中...":eJ?"更新":"保存"]})]})]})})})})})}),c.jsx(y.Z,{})]})}let Q=async()=>({props:{}}),ee=(0,i.l)(s,"default"),ea=(0,i.l)(s,"getStaticProps"),et=(0,i.l)(s,"getStaticPaths"),es=(0,i.l)(s,"getServerSideProps"),el=(0,i.l)(s,"config"),en=(0,i.l)(s,"reportWebVitals"),ei=(0,i.l)(s,"unstable_getStaticProps"),er=(0,i.l)(s,"unstable_getStaticPaths"),eo=(0,i.l)(s,"unstable_getStaticParams"),ec=(0,i.l)(s,"unstable_getServerProps"),ed=(0,i.l)(s,"unstable_getServerSideProps"),eh=new l.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/create",pathname:"/create",bundlePath:"",filename:""},components:{App:o.default,Document:r.default},userland:s})},3320:(e,a,t)=>{"use strict";t.d(a,{Bc:()=>i,_R:()=>r});var s=t(6689),l=t.n(s);let n=e=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`},i=e=>{let a;if(!e)return e;let t=[],s=0,n=/\[([^\]]+)\]\(([^)]+)\)/g,i=/(https?:\/\/[^\s]+|www\.[^\s]+)/g,r=[];for(;null!==(a=n.exec(e));){let[n,i,o]=a,c=a.index,d=c+n.length;c>s&&t.push(e.substring(s,c));let h=o.trim();h.startsWith("www.")&&(h=`https://${h}`),t.push(l().createElement("a",{key:`markdown-${c}`,href:h,target:"_blank",rel:"noopener noreferrer"},i)),r.push({start:c,end:d}),s=d}s<e.length&&t.push(e.substring(s));let o=[];return t.forEach((e,a)=>{"string"==typeof e?e.split(i).forEach((e,t)=>{if(i.test(e)){let s=e;e.startsWith("www.")&&(s=`https://${e}`),o.push(l().createElement("a",{key:`url-${a}-${t}`,href:s,target:"_blank",rel:"noopener noreferrer"},e))}else e&&o.push(e)}):o.push(e)}),o},r=({value:e,onChange:a,placeholder:t,id:s,minRows:i=3,maxRows:r=10})=>{let o=l().useRef(null);return l().useEffect(()=>{o.current&&n(o.current)},[e]),l().createElement("textarea",{ref:o,id:s,value:e,onChange:e=>{a(e.target.value),n(e.target)},placeholder:t,className:"auto-resize-textarea",style:{minHeight:`${20*i}px`,maxHeight:`${20*r}px`,overflowY:e.split("\n").length>r?"auto":"hidden"}})}},2782:()=>{},4324:e=>{"use strict";e.exports=require("firebase/app")},4610:e=>{"use strict";e.exports=require("firebase/auth")},6058:e=>{"use strict";e.exports=require("firebase/firestore")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9816:e=>{"use strict";e.exports=require("styled-jsx/style")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[859,342,664,280,554],()=>t(2884));module.exports=s})();