(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{7532:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return t(7409)}])},9210:function(e,a,t){"use strict";t.d(a,{Bc:function(){return l},_R:function(){return i}});var s=t(7294);let n=e=>{e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},l=e=>{let a;if(!e)return e;let t=[],n=0,l=/\[([^\]]+)\]\(([^)]+)\)/g,i=/(https?:\/\/[^\s]+|www\.[^\s]+)/g,r=[];for(;null!==(a=l.exec(e));){let[l,i,o]=a,c=a.index,d=c+l.length;c>n&&t.push(e.substring(n,c));let u=o.trim();u.startsWith("www.")&&(u="https://".concat(u)),t.push(s.createElement("a",{key:"markdown-".concat(c),href:u,target:"_blank",rel:"noopener noreferrer"},i)),r.push({start:c,end:d}),n=d}n<e.length&&t.push(e.substring(n));let o=[];return t.forEach((e,a)=>{"string"==typeof e?e.split(i).forEach((e,t)=>{if(i.test(e)){let n=e;e.startsWith("www.")&&(n="https://".concat(e)),o.push(s.createElement("a",{key:"url-".concat(a,"-").concat(t),href:n,target:"_blank",rel:"noopener noreferrer"},e))}else e&&o.push(e)}):o.push(e)}),o},i=e=>{let{value:a,onChange:t,placeholder:l,id:i,minRows:r=3,maxRows:o=10}=e,c=s.useRef(null);return s.useEffect(()=>{c.current&&n(c.current)},[a]),s.createElement("textarea",{ref:c,id:i,value:a,onChange:e=>{t(e.target.value),n(e.target)},placeholder:l,className:"auto-resize-textarea",style:{minHeight:"".concat(20*r,"px"),maxHeight:"".concat(20*o,"px"),overflowY:a.split("\n").length>o?"auto":"hidden"}})}},7409:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return G},default:function(){return X}});var s=t(5893),n=t(9008),l=t.n(n),i=t(7294),r=t(1163),o=t(109),c=t(7865),d=t(9836),u=t(5770),h=t(5930),m=t(6875),p=t(2210),x=t(6650);let g=(0,t(3977).ZF)({apiKey:"AIzaSyDtwR0-ZkF_FSV6ffDTBj7KAvihhR9S-8c",authDomain:"hatake-ffb62.firebaseapp.com",projectId:"hatake-ffb62",storageBucket:"hatake-ffb62.firebasestorage.app",messagingSenderId:"883954002398",appId:"1:883954002398:web:91c3ae34dda9b94f5e154f"}),_=(0,x.cF)(g),j=async(e,a)=>{try{let t=Date.now(),s=Math.random().toString(36).substring(2,15),n=e.name.split(".").pop(),l="character_images/".concat(t,"_").concat(s,".").concat(n),i=(0,x.iH)(_,l),r=(0,x.B0)(i,e);return new Promise((e,t)=>{r.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;a&&a({progress:Math.round(t),isUploading:!0})},e=>{console.error("Upload failed:",e),a&&a({progress:0,isUploading:!1,error:"アップロードに失敗しました"}),t(e)},async()=>{try{let t=await (0,x.Jt)(r.snapshot.ref);a&&a({progress:100,isUploading:!1}),e({url:t,path:l})}catch(e){t(e)}})})}catch(e){throw console.error("Upload initialization failed:",e),e}},v=async e=>{try{let a=(0,x.iH)(_,e);await (0,x.oq)(a),console.log("Image deleted successfully:",e)}catch(e){console.error("Failed to delete image:",e)}},y=e=>{try{let a=new URL(e);if(console.log("URL hostname:",a.hostname),a.hostname.includes("firebasestorage.googleapis.com")){let a=e.match(/o\/(.+?)\?/);if(console.log("Path match result:",a),a){let e=decodeURIComponent(a[1]);return console.log("Decoded path:",e),e}}return null}catch(e){return console.error("Error parsing URL:",e),null}};var b=t(2084);t(6571);var N=e=>{let{isOpen:a,onClose:t,sourceImageUrl:n,onCropComplete:l,characterName:r="キャラクター"}=e,[o,c]=(0,i.useState)({unit:"%",width:50,height:50,x:25,y:25}),[d,u]=(0,i.useState)(),[h,m]=(0,i.useState)(!1),[p,x]=(0,i.useState)(""),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(n&&a)return(async()=>{try{if(n.includes("firebasestorage.googleapis.com")){let e="/api/image-proxy?url=".concat(encodeURIComponent(n));x(e)}else x(n)}catch(e){console.warn("Failed to process image URL:",e),x(n)}})(),()=>{p&&p.startsWith("blob:")&&URL.revokeObjectURL(p)}},[n,a]);let _=(0,i.useCallback)(e=>{let{naturalWidth:a,naturalHeight:t}=e.currentTarget,s=Math.min(a,t);c({unit:"px",width:.6*s,height:.6*s,x:(a-s)/2+.2*s,y:(t-s)/2+.2*s})},[]),j=(0,i.useCallback)(async()=>{if(d&&g.current){m(!0);try{let e=g.current,a=document.createElement("canvas"),s=a.getContext("2d");if(!s)throw Error("Canvas context not available");a.width=256,a.height=256,s.imageSmoothingEnabled=!0,s.imageSmoothingQuality="high";let n=e.naturalWidth/e.clientWidth,i=e.naturalHeight/e.clientHeight,r=d.x*n,o=d.y*i,c=d.width*n,u=d.height*i;console.log("Crop info:",{completedCrop:d,scale:{scaleX:n,scaleY:i},source:{x:r,y:o,width:c,height:u},imageSize:{natural:{width:e.naturalWidth,height:e.naturalHeight},display:{width:e.clientWidth,height:e.clientHeight}}}),s.fillStyle="#FFFFFF",s.fillRect(0,0,256,256),s.drawImage(e,r,o,c,u,0,0,256,256);let h=a.toDataURL("image/png");if(!h||"data:,"===h)throw Error("Failed to generate cropped image data");let p=await fetch(h),x=await p.blob(),_=URL.createObjectURL(x);l(_),m(!1),t()}catch(e){console.error("Crop generation error:",e),m(!1),alert("画像の処理に失敗しました: "+(e instanceof Error?e.message:"不明なエラー"))}}},[d,l,t]);return a?(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:[(0,s.jsxs)("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",color:"#333",textAlign:"center"},children:[(0,s.jsx)("i",{className:"fas fa-crop",style:{marginRight:"8px"}}),r,"の顔画像をクロップ"]}),(0,s.jsxs)("div",{style:{marginBottom:"20px",textAlign:"center"},children:[(0,s.jsx)("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#666"},children:"顔部分をドラッグして選択してください"}),(0,s.jsx)("div",{style:{maxWidth:"500px",maxHeight:"500px",margin:"0 auto",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:(0,s.jsx)(b.ZP,{crop:o,onChange:e=>c(e),onComplete:e=>u(e),aspect:1,minWidth:50,minHeight:50,children:(0,s.jsx)("img",{ref:g,src:p||n,alt:"クロップ対象画像",onLoad:_,style:{maxWidth:"100%",maxHeight:"500px",display:"block"}})})})]}),d&&(0,s.jsx)("div",{style:{textAlign:"center",marginBottom:"20px"},children:(0,s.jsxs)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:["選択範囲: ",Math.round(d.width)," \xd7 ",Math.round(d.height),"px",(0,s.jsx)("br",{}),"最終サイズ: 256 \xd7 256px（高品質）"]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,s.jsx)("button",{onClick:t,style:{padding:"10px 20px",backgroundColor:"#f0f0f0",color:"#666",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"キャンセル"}),(0,s.jsx)("button",{onClick:j,disabled:!d||h,style:{padding:"10px 20px",backgroundColor:h?"#ccc":"#74cdc3",color:"white",border:"none",borderRadius:"4px",cursor:h?"not-allowed":"pointer",fontSize:"14px"},children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fas fa-spinner fa-spin",style:{marginRight:"6px"}}),"処理中..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("i",{className:"fas fa-check",style:{marginRight:"6px"}}),"顔画像を設定"]})})]})]})}):null};function f(e){let{characterData:a,handleInputChange:t}=e,[n,l]=(0,i.useState)({progress:0,isUploading:!1}),[r,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),u=(e,a)=>{let t=e.replace("#",""),s=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),l=parseInt(t.substring(4,6),16),i=e=>Math.round(e).toString(16).padStart(2,"0");return"#".concat(i(Math.max(0,Math.min(255,s+s*a/100)))).concat(i(Math.max(0,Math.min(255,n+n*a/100)))).concat(i(Math.max(0,Math.min(255,l+l*a/100))))},h=(e,a)=>{let t=e.replace("#",""),s=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),l=parseInt(t.substring(4,6),16);return"rgba(".concat(s,", ").concat(n,", ").concat(l,", ").concat(a,")")},[m,p]=(0,i.useState)(()=>{{let e=localStorage.getItem("accordion-portrait-color");return!!e&&JSON.parse(e)}}),[x,g]=(0,i.useState)(()=>{{let e=localStorage.getItem("accordion-basic-data");return!e||JSON.parse(e)}}),[_,b]=(0,i.useState)(()=>{{let e=localStorage.getItem("accordion-description");return!!e&&JSON.parse(e)}}),[f,k]=(0,i.useState)(null),[w,C]=(0,i.useState)(null),[I,S]=(0,i.useState)({});(0,i.useEffect)(()=>{if(a.ui_theme_color){let e=a.ui_theme_color,t=u(e,-20),s=h(e,.15),n=h(e,.4),l=h(e,.7);document.documentElement.style.setProperty("--ui-theme-color",e),document.documentElement.style.setProperty("--ui-theme-color-hover",t),document.documentElement.style.setProperty("--ui-theme-color-light",s),document.documentElement.style.setProperty("--ui-theme-color-medium",n),document.documentElement.style.setProperty("--ui-theme-color-dark",l)}},[a.ui_theme_color]),(0,i.useEffect)(()=>{localStorage.setItem("accordion-portrait-color",JSON.stringify(m))},[m]),(0,i.useEffect)(()=>{localStorage.setItem("accordion-basic-data",JSON.stringify(x))},[x]),(0,i.useEffect)(()=>{localStorage.setItem("accordion-description",JSON.stringify(_))},[_]),(0,i.useEffect)(()=>()=>{Object.values(I).forEach(e=>{clearTimeout(e)})},[I]);let O=(e,a)=>{let t=document.activeElement;if(t&&"true"===t.getAttribute("contenteditable")){t.focus();let s=window.getSelection(),n=null;s&&s.rangeCount>0&&(n=s.getRangeAt(0).cloneRange()),["bold","italic","underline","strikeThrough","foreColor"].includes(e)&&n&&!n.collapsed?(t.style.userSelect="none",document.execCommand(e,!1,a),requestAnimationFrame(()=>{try{n&&s&&(s.removeAllRanges(),s.addRange(n))}catch(e){}t.style.userSelect=""})):document.execCommand(e,!1,a)}},E=e=>{let a=w||document.activeElement;if(a&&"true"===a.getAttribute("contenteditable")){a.focus(),document.execCommand("styleWithCSS",!1,"true");let t=window.getSelection();if(!t)return;if(t.rangeCount>0){let a=t.getRangeAt(0);if(a.collapsed){let s=a.startContainer,n=s.nodeType===Node.TEXT_NODE?s.parentElement:s;if(n&&"SPAN"===n.tagName&&n.style.fontSize)n.style.fontSize="".concat(e,"pt");else{let s=document.createElement("span");s.style.fontSize="".concat(e,"pt"),s.textContent=" ",a.insertNode(s);let n=document.createRange();n.setStart(s,1),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}}else{let s=a.extractContents(),n=document.createElement("div");n.appendChild(s),n.querySelectorAll('span[style*="font-size"]').forEach(e=>{let a=e.parentNode;if(a){for(;e.firstChild;)a.insertBefore(e.firstChild,e);a.removeChild(e)}});let l=document.createElement("span");for(l.style.fontSize="".concat(e,"pt");n.firstChild;)l.appendChild(n.firstChild);a.insertNode(l);let i=document.createRange();i.selectNodeContents(l),t.removeAllRanges(),t.addRange(i)}}}},D=e=>{let a=document.activeElement;if(a&&"true"===a.getAttribute("contenteditable")){a.focus();let t=window.getSelection(),s=null;t&&t.rangeCount>0&&(s=t.getRangeAt(0).cloneRange()),s&&!s.collapsed?(a.style.userSelect="none",document.execCommand("foreColor",!1,e),k(null),requestAnimationFrame(()=>{try{s&&t&&(t.removeAllRanges(),t.addRange(s))}catch(e){}a.style.userSelect=""})):(document.execCommand("foreColor",!1,e),k(null))}},F=["#000000","#7F1D1D","#EA580C","#CA8A04","#166534","#0C7489","#1E40AF","#581C87","#BE185D","#1F2937","#991B1B","#F97316","#EAB308","#16A34A","#0891B2","#2563EB","#7C3AED","#C2185B","#374151","#DC2626","#FB923C","#FACC15","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#DB2777","#6B7280","#EF4444","#FDBA74","#FDE047","#4ADE80","#22D3EE","#60A5FA","#A78BFA","#EC4899","#9CA3AF","#F87171","#FED7AA","#FEF08A","#86EFAC","#7DD3FC","#93C5FD","#C4B5FD","#F472B6","#E5E7EB","#FECACA","#FEE2E2","#FEFCE8","#BBF7D0","#CFFAFE","#DBEAFE","#DDD6FE","#FBCFE8"],z=[{label:"極小",size:"8pt",value:8},{label:"小",size:"9pt",value:9},{label:"標準",size:"10pt",value:10},{label:"中",size:"12pt",value:12},{label:"大",size:"14pt",value:14},{label:"特大",size:"16pt",value:16},{label:"巨大",size:"20pt",value:20},{label:"超巨大",size:"24pt",value:24}],R=(0,i.useRef)(null),M=(0,i.useRef)(null),A=(e,a)=>{let s=a.innerHTML,n=window.getSelection(),l=null,i=0,r=null;if(n&&n.rangeCount>0){let e=n.getRangeAt(0);l=e.cloneRange(),i=e.startOffset,r=e.startContainer}I[e]&&clearTimeout(I[e]);let o=setTimeout(()=>{let o=(a.textContent||"").trim(),c=s.replace(/<\/?[^>]+(>|$)/g,"").trim();""===o||""===c?(t(e,""),a.innerHTML=""):t(e,s),l&&n&&r&&setTimeout(()=>{try{if(a.contains(r)||a===r){var e,t;let s=document.createRange(),o=r.nodeType===Node.TEXT_NODE?(null===(e=r.textContent)||void 0===e?void 0:e.length)||0:r.childNodes.length;if(s.setStart(r,Math.min(i,o)),l.collapsed)s.collapse(!0);else{let e=l.endOffset,n=l.endContainer;if(a.contains(n)||a===n){let a=n.nodeType===Node.TEXT_NODE?(null===(t=n.textContent)||void 0===t?void 0:t.length)||0:n.childNodes.length;s.setEnd(n,Math.min(e,a))}else s.collapse(!0)}n.removeAllRanges(),n.addRange(s)}else{let e=document.createRange();e.selectNodeContents(a),e.collapse(!1),n.removeAllRanges(),n.addRange(e)}}catch(e){try{let e=document.createRange();e.selectNodeContents(a),e.collapse(!1),n.removeAllRanges(),n.addRange(e)}catch(e){}}},0)},300);S(a=>({...a,[e]:o}))},T=(e,a)=>{I[e]&&(clearTimeout(I[e]),S(a=>{let t={...a};return delete t[e],t})),t(e,a.innerHTML)};(0,i.useEffect)(()=>{R.current&&!R.current.innerHTML&&(R.current.innerHTML=a.introduction||"")},[]),(0,i.useEffect)(()=>{M.current&&!M.current.innerHTML&&(M.current.innerHTML=a.secret_information||"")},[]),(0,i.useEffect)(()=>{if(R.current){let e=R.current.innerHTML,t=a.introduction||"";e!==t&&document.activeElement!==R.current&&(R.current.innerHTML=t)}},[a.introduction]),(0,i.useEffect)(()=>{if(M.current){let e=M.current.innerHTML,t=a.secret_information||"";e!==t&&document.activeElement!==M.current&&(M.current.innerHTML=t)}},[a.secret_information]);let P=e=>{let a=e.naturalWidth/e.naturalHeight;return a>1.2?"landscape":a<.8?"portrait":"square"},B=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5242880;return new Promise((t,s)=>{let n=document.createElement("canvas"),l=n.getContext("2d"),i=new Image;i.onload=()=>{let{width:r,height:o}=i;if(r>o?r>1920&&(o=1920*o/r,r=1920):o>1920&&(r=1920*r/o,o=1920),n.width=r,n.height=o,!l){s(Error("Canvas context not available"));return}let c="image/png"===e.type;c||(l.fillStyle="#FFFFFF",l.fillRect(0,0,r,o)),l.drawImage(i,0,0,r,o);let d=.9,u=()=>{c?n.toBlob(a=>{if(!a){s(Error("Failed to compress image"));return}t(new File([a],e.name,{type:"image/png",lastModified:Date.now()}))},"image/png"):n.toBlob(n=>{if(!n){s(Error("Failed to compress image"));return}n.size<=a||d<=.1?t(new File([n],e.name,{type:"image/jpeg",lastModified:Date.now()})):(d-=.1,u())},"image/jpeg",d)};u()},i.onerror=()=>s(Error("Failed to load image")),i.src=URL.createObjectURL(e)})},U=async e=>{var s;let n=null===(s=e.target.files)||void 0===s?void 0:s[0];if(n){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type)){alert("JPEG、PNG、GIF、WebP形式の画像をアップロードしてください");return}try{let s=n;n.size>5242880&&(console.log("画像サイズが".concat((n.size/1024/1024).toFixed(2),"MBのため、圧縮します...")),s=await B(n,5242880),console.log("圧縮後のサイズ: ".concat((s.size/1024/1024).toFixed(2),"MB")));let i=a.character_image_url,r=i?y(i):null,o=await j(s,l),c=new Image;c.onload=()=>{let e=P(c);t("character_image_url",o.url),t("image_aspect_ratio",e)},c.src=o.url,r&&await v(r),console.log("Image uploaded successfully:",o.url),e.target.value=""}catch(e){console.error("Upload error:",e),alert("画像のアップロードに失敗しました: ".concat(e instanceof Error?e.message:"Unknown error")),l({progress:0,isUploading:!1})}}},H=async()=>{let e=a.character_image_url;if(!e){console.log("No image URL to delete");return}console.log("Attempting to delete image:",e);try{let s=y(e);if(console.log("Extracted image path:",s),s?(await v(s),console.log("Image deletion completed")):console.log("Could not extract image path from URL"),t("character_image_url",""),a.face_image_url){let e=y(a.face_image_url);e&&await v(e),t("face_image_url",""),t("face_image_crop_data",null)}}catch(e){console.error("Failed to delete image:",e),t("character_image_url",""),t("face_image_url",""),t("face_image_crop_data",null)}},W=async e=>{d(!0);try{let s=await fetch(e),n=await s.blob(),l="face_".concat(Date.now(),".png"),i=new File([n],l,{type:"image/png"});if(a.face_image_url){let e=y(a.face_image_url);e&&await v(e)}let r=await j(i,void 0);t("face_image_url",r.url),URL.revokeObjectURL(e),console.log("Face image uploaded successfully:",r.url)}catch(e){console.error("Failed to upload face image:",e),alert("顔画像のアップロードに失敗しました")}finally{d(!1)}},J=()=>{if(!a.character_image_url){alert("まず先にキャラクター画像をアップロードしてください");return}o(!0)},L=async()=>{if(a.face_image_url)try{let e=y(a.face_image_url);e&&await v(e),t("face_image_url",""),t("face_image_crop_data",null)}catch(e){console.error("Failed to delete face image:",e),t("face_image_url",""),t("face_image_crop_data",null)}};return(0,s.jsxs)("div",{className:"character-info",children:[(0,s.jsxs)("div",{className:"character-lost-toggle-header",children:[(0,s.jsxs)("label",{htmlFor:"is_lost",children:[(0,s.jsx)("i",{className:"fas fa-skull-crossbones"})," ロスト"]}),(0,s.jsxs)("div",{className:"toggle-wrapper",children:[(0,s.jsx)("input",{type:"checkbox",id:"is_lost",name:"is_lost",checked:a.is_lost||!1,onChange:e=>t("is_lost",e.target.checked),className:"toggle-checkbox"}),(0,s.jsxs)("label",{htmlFor:"is_lost",className:"toggle-label",children:[(0,s.jsx)("span",{className:"toggle-inner"}),(0,s.jsx)("span",{className:"toggle-switch"})]})]})]}),(0,s.jsx)("div",{className:"character-name-input",style:{marginTop:"10px"},children:(0,s.jsx)("input",{type:"text",id:"character_name",name:"character_name",value:a.character_name||"",onChange:e=>t("character_name",e.target.value),placeholder:"キャラクターの名前を入力"})}),(0,s.jsxs)("div",{className:"password-protection-setting",style:{marginTop:"15px"},children:[(0,s.jsxs)("div",{className:"password-protection-toggle",children:[(0,s.jsxs)("label",{className:"toggle-switch",children:[(0,s.jsx)("input",{type:"checkbox",checked:a.page_password_enabled||!1,onChange:e=>t("page_password_enabled",e.target.checked)}),(0,s.jsx)("span",{className:"toggle-slider"})]}),(0,s.jsx)("span",{className:"toggle-label",children:a.page_password_enabled?"パスワード保護ON":"パスワード保護OFF"})]}),a.page_password_enabled&&(0,s.jsxs)("div",{className:"password-input-group",style:{marginTop:"10px"},children:[(0,s.jsxs)("label",{htmlFor:"page_password",children:[(0,s.jsx)("i",{className:"fas fa-key"})," パスワード"]}),(0,s.jsx)("input",{type:"password",id:"page_password",name:"page_password",placeholder:"パスワードを入力してください",value:a.page_password||"",onChange:e=>t("page_password",e.target.value),className:"password-input"})]})]}),(0,s.jsx)("div",{className:"accordion-toggle",children:(0,s.jsxs)("button",{type:"button",onClick:()=>p(!m),className:"accordion-toggle-btn",children:[(0,s.jsxs)("div",{className:"title-text",children:[(0,s.jsx)("i",{className:"fas fa-palette"}),"立ち絵/カラー設定"]}),(0,s.jsx)("i",{className:"fas chevron ".concat(m?"fa-chevron-down":"fa-chevron-right")})]})}),(0,s.jsxs)("div",{className:"character-main-info ".concat(m?"accordion-open":"accordion-closed"),children:[(0,s.jsx)("div",{className:"character-left-column",children:(0,s.jsxs)("div",{className:"character-image-section",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("i",{className:"fas fa-image"})," キャラクター画像"]}),a.character_image_url&&(0,s.jsxs)("div",{className:"image-preview-container",children:[(0,s.jsxs)("div",{className:"image-preview",children:[(0,s.jsx)("img",{src:a.character_image_url,alt:"キャラクター画像プレビュー",onError:e=>{console.log("Image load error"),e.currentTarget.style.display="none"}}),(0,s.jsx)("button",{type:"button",className:"remove-image-btn",onClick:H,title:"画像を削除",children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsxs)("div",{className:"face-image-section",children:[(0,s.jsx)("div",{className:"face-image-header",children:(0,s.jsxs)("h4",{children:[(0,s.jsx)("i",{className:"fas fa-user-circle"}),"リスト用顔画像"]})}),(0,s.jsx)("div",{className:"face-image-controls",children:a.face_image_url?(0,s.jsxs)("div",{className:"face-image-preview",children:[(0,s.jsx)("img",{src:a.face_image_url,alt:"顔画像プレビュー",className:"face-preview-img"}),(0,s.jsxs)("div",{className:"face-image-actions",children:[(0,s.jsxs)("button",{type:"button",className:"btn-face-crop",onClick:J,disabled:c,children:[(0,s.jsx)("i",{className:"fas fa-crop"}),(0,s.jsx)("span",{children:"再設定"})]}),(0,s.jsxs)("button",{type:"button",className:"btn-face-remove",onClick:L,disabled:c,children:[(0,s.jsx)("i",{className:"fas fa-trash"}),(0,s.jsx)("span",{children:"削除"})]})]})]}):(0,s.jsx)("div",{className:"face-image-setup",children:(0,s.jsxs)("button",{type:"button",className:"btn-face-crop",onClick:J,disabled:c,children:[(0,s.jsx)("i",{className:c?"fas fa-spinner fa-spin":"fas fa-crop"}),(0,s.jsx)("span",{children:c?"処理中...":"顔画像を設定"})]})})})]})]}),(0,s.jsxs)("div",{className:"image-upload-area",children:[(0,s.jsx)("div",{className:"upload-options",children:(0,s.jsxs)("div",{className:"upload-option",children:[(0,s.jsxs)("label",{htmlFor:"character_image_upload",className:"upload-btn",children:[(0,s.jsx)("i",{className:n.isUploading?"fas fa-spinner fa-spin":"fas fa-upload"}),n.isUploading?"アップロード中... ".concat(n.progress,"%"):"画像をアップロード"]}),(0,s.jsx)("input",{type:"file",id:"character_image_upload",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:U,disabled:n.isUploading,style:{display:"none"}}),n.isUploading&&(0,s.jsx)("div",{className:"upload-progress",children:(0,s.jsx)("div",{className:"upload-progress-bar",style:{width:"".concat(n.progress,"%")}})})]})}),(0,s.jsx)("div",{className:"upload-info",children:(0,s.jsxs)("small",{children:[(0,s.jsx)("i",{className:"fas fa-info-circle"}),"JPEG、PNG、GIF、WebP形式対応 (最大5MB)"]})})]})]})}),(0,s.jsxs)("div",{className:"character-right-column",children:[(0,s.jsxs)("div",{className:"character-kana-input",children:[(0,s.jsxs)("label",{htmlFor:"character_name_kana",children:[(0,s.jsx)("i",{className:"fas fa-font"})," フリガナ"]}),(0,s.jsx)("input",{type:"text",id:"character_name_kana",name:"character_name_kana",value:a.character_name_kana||"",onChange:e=>t("character_name_kana",e.target.value),placeholder:"カタカナで入力"})]}),(0,s.jsxs)("div",{className:"ui-color-setting",children:[(0,s.jsxs)("label",{htmlFor:"ui_theme_color",children:[(0,s.jsx)("i",{className:"fas fa-paint-brush"})," UIテーマカラー"]}),(0,s.jsxs)("div",{className:"ui-color-description",children:[(0,s.jsx)("i",{className:"fas fa-info-circle"}),"表示ページの見出しに使用されます。"]}),(0,s.jsxs)("div",{className:"color-input-group",children:[(0,s.jsx)("input",{type:"color",id:"ui_theme_color_picker",value:a.ui_theme_color||"#74cdc3",onChange:e=>t("ui_theme_color",e.target.value),className:"color-picker"}),(0,s.jsx)("input",{type:"text",id:"ui_theme_color",name:"ui_theme_color",placeholder:"#74cdc3",value:a.ui_theme_color||"",onChange:e=>t("ui_theme_color",e.target.value),className:"color-text-input"})]})]}),(0,s.jsxs)("div",{className:"appearance-color-setting",children:[(0,s.jsxs)("h4",{className:"appearance-title",children:[(0,s.jsx)("i",{className:"fas fa-palette"})," 外見・カラー"]}),(0,s.jsxs)("div",{className:"appearance-grid",children:[(0,s.jsxs)("div",{className:"color-pair",children:[(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"character_color",children:[(0,s.jsx)("i",{className:"fas fa-circle",style:{color:a.character_color_code||"#74cdc3"}})," イメージカラー"]}),(0,s.jsx)("input",{type:"text",id:"character_color",name:"character_color",placeholder:"ベビーブルーなど",value:a.character_color||"",onChange:e=>t("character_color",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item color-code",children:[(0,s.jsx)("label",{htmlFor:"character_color_code",children:"カラーコード"}),(0,s.jsxs)("div",{className:"color-input-group",children:[(0,s.jsx)("input",{type:"color",id:"character_color_picker",value:a.character_color_code||"#74cdc3",onChange:e=>t("character_color_code",e.target.value),className:"color-picker"}),(0,s.jsx)("input",{type:"text",id:"character_color_code",name:"character_color_code",placeholder:"#abe5ed",value:a.character_color_code||"",onChange:e=>t("character_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,s.jsxs)("div",{className:"color-pair",children:[(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"hair_color",children:[(0,s.jsx)("i",{className:"fas fa-circle",style:{color:a.hair_color_code||"#8B4513"}})," 髪の色"]}),(0,s.jsx)("input",{type:"text",id:"hair_color",name:"hair_color",placeholder:"白髪など",value:a.hair_color||"",onChange:e=>t("hair_color",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item color-code",children:[(0,s.jsx)("label",{htmlFor:"hair_color_code",children:"カラーコード"}),(0,s.jsxs)("div",{className:"color-input-group",children:[(0,s.jsx)("input",{type:"color",id:"hair_color_picker",value:a.hair_color_code||"#8B4513",onChange:e=>t("hair_color_code",e.target.value),className:"color-picker"}),(0,s.jsx)("input",{type:"text",id:"hair_color_code",name:"hair_color_code",placeholder:"#ffffff",value:a.hair_color_code||"",onChange:e=>t("hair_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,s.jsxs)("div",{className:"color-pair",children:[(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"eye_color",children:[(0,s.jsx)("i",{className:"fas fa-circle",style:{color:a.eye_color_code||"#4169E1"}})," 目の色"]}),(0,s.jsx)("input",{type:"text",id:"eye_color",name:"eye_color",placeholder:"スカイブルーなど",value:a.eye_color||"",onChange:e=>t("eye_color",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item color-code",children:[(0,s.jsx)("label",{htmlFor:"eye_color_code",children:"カラーコード"}),(0,s.jsxs)("div",{className:"color-input-group",children:[(0,s.jsx)("input",{type:"color",id:"eye_color_picker",value:a.eye_color_code||"#4169E1",onChange:e=>t("eye_color_code",e.target.value),className:"color-picker"}),(0,s.jsx)("input",{type:"text",id:"eye_color_code",name:"eye_color_code",placeholder:"#a0d8ef",value:a.eye_color_code||"",onChange:e=>t("eye_color_code",e.target.value),className:"color-text-input"})]})]})]}),(0,s.jsxs)("div",{className:"color-pair",children:[(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"skin_color",children:[(0,s.jsx)("i",{className:"fas fa-circle",style:{color:a.skin_color_code||"#FDBCB4"}})," 肌の色"]}),(0,s.jsx)("input",{type:"text",id:"skin_color",name:"skin_color",placeholder:"小麦色など",value:a.skin_color||"",onChange:e=>t("skin_color",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item color-code",children:[(0,s.jsx)("label",{htmlFor:"skin_color_code",children:"カラーコード"}),(0,s.jsxs)("div",{className:"color-input-group",children:[(0,s.jsx)("input",{type:"color",id:"skin_color_picker",value:a.skin_color_code||"#FDBCB4",onChange:e=>t("skin_color_code",e.target.value),className:"color-picker"}),(0,s.jsx)("input",{type:"text",id:"skin_color_code",name:"skin_color_code",placeholder:"#f4c2a1",value:a.skin_color_code||"",onChange:e=>t("skin_color_code",e.target.value),className:"color-text-input"})]})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"accordion-toggle",children:(0,s.jsxs)("button",{type:"button",onClick:()=>g(!x),className:"accordion-toggle-btn",children:[(0,s.jsxs)("div",{className:"title-text",children:[(0,s.jsx)("i",{className:"fas fa-id-card"}),"基本データ"]}),(0,s.jsx)("i",{className:"fas chevron ".concat(x?"fa-chevron-down":"fa-chevron-right")})]})}),(0,s.jsx)("div",{className:"accordion-content ".concat(x?"accordion-open":"accordion-closed"),children:(0,s.jsxs)("div",{className:"info-grid basic-info",children:[(0,s.jsxs)("div",{className:"info-item compact",children:[(0,s.jsxs)("label",{htmlFor:"gender",children:[(0,s.jsx)("i",{className:"fas fa-venus-mars"})," 性別"]}),"その他"===a.gender?(0,s.jsxs)("div",{style:{display:"flex",gap:"3px",width:"100%"},children:[(0,s.jsxs)("select",{id:"gender",name:"gender",value:a.gender||"",onChange:e=>t("gender",e.target.value),style:{flex:"0 0 auto",width:"80px"},children:[(0,s.jsx)("option",{value:"",children:"-"}),(0,s.jsx)("option",{value:"男",children:"男"}),(0,s.jsx)("option",{value:"女",children:"女"}),(0,s.jsx)("option",{value:"その他",children:"その他"})]}),(0,s.jsx)("input",{type:"text",name:"gender_custom",value:a.gender_custom||"",onChange:e=>t("gender_custom",e.target.value),placeholder:"自由入力",style:{flex:"1 0 calc(100% - 90px)",padding:"8px 10px",fontSize:"1em",textAlign:"left",boxSizing:"border-box",borderRadius:"5px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",height:"auto",border:"none",background:"transparent"}})]}):(0,s.jsxs)("select",{id:"gender",name:"gender",value:a.gender||"",onChange:e=>t("gender",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"選択してください"}),(0,s.jsx)("option",{value:"男",children:"男"}),(0,s.jsx)("option",{value:"女",children:"女"}),(0,s.jsx)("option",{value:"その他",children:"その他"})]})]}),(0,s.jsxs)("div",{className:"info-item compact",children:[(0,s.jsxs)("label",{htmlFor:"age",children:[(0,s.jsx)("i",{className:"fas fa-calendar-alt"})," 年齢"]}),(0,s.jsx)("input",{type:"text",id:"age",name:"age",value:a.age||"",onChange:e=>t("age",e.target.value),placeholder:"20歳"})]}),(0,s.jsxs)("div",{className:"info-item compact",children:[(0,s.jsxs)("label",{htmlFor:"height",children:[(0,s.jsx)("i",{className:"fas fa-ruler-vertical"})," 身長"]}),(0,s.jsx)("input",{type:"text",id:"height",name:"height",placeholder:"160cm",value:a.height||"",onChange:e=>t("height",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item compact",children:[(0,s.jsxs)("label",{htmlFor:"weight",children:[(0,s.jsx)("i",{className:"fas fa-weight"})," 体重"]}),(0,s.jsx)("input",{type:"text",id:"weight",name:"weight",placeholder:"50kg",value:a.weight||"",onChange:e=>t("weight",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"occupation",children:[(0,s.jsx)("i",{className:"fas fa-briefcase"})," 職業"]}),(0,s.jsx)("input",{type:"text",id:"occupation",name:"occupation",value:a.occupation||"",onChange:e=>t("occupation",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"birthplace",children:[(0,s.jsx)("i",{className:"fas fa-map-marker-alt"})," 出身地"]}),(0,s.jsx)("input",{type:"text",id:"birthplace",name:"birthplace",value:a.birthplace||"",onChange:e=>t("birthplace",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"birthday",children:[(0,s.jsx)("i",{className:"fas fa-birthday-cake"})," 誕生日"]}),(0,s.jsx)("input",{type:"text",id:"birthday",name:"birthday",placeholder:"",value:a.birthday||"",onChange:e=>t("birthday",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"zodiac_sign",children:[(0,s.jsx)("i",{className:"fas fa-star"})," 星座"]}),(0,s.jsx)("input",{type:"text",id:"zodiac_sign",name:"zodiac_sign",placeholder:"",value:a.zodiac_sign||"",onChange:e=>t("zodiac_sign",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"blood_type",children:[(0,s.jsx)("i",{className:"fas fa-tint"})," 血液型"]}),(0,s.jsx)("input",{type:"text",id:"blood_type",name:"blood_type",placeholder:"",value:a.blood_type||"",onChange:e=>t("blood_type",e.target.value)})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsxs)("label",{htmlFor:"era",children:[(0,s.jsx)("i",{className:"fas fa-history"})," 時代"]}),(0,s.jsx)("input",{type:"text",id:"era",name:"era",placeholder:"1920年代、現代など",value:a.era||"",onChange:e=>t("era",e.target.value)})]})]})}),(0,s.jsx)("div",{className:"accordion-toggle",children:(0,s.jsxs)("button",{type:"button",onClick:()=>b(!_),className:"accordion-toggle-btn",children:[(0,s.jsxs)("div",{className:"title-text",children:[(0,s.jsx)("i",{className:"fas fa-file-alt"}),"キャラクター紹介"]}),(0,s.jsx)("i",{className:"fas chevron ".concat(_?"fa-chevron-down":"fa-chevron-right")})]})}),(0,s.jsx)("div",{className:"accordion-content ".concat(_?"accordion-open":"accordion-closed"),children:(0,s.jsxs)("div",{className:"info-grid description-info",children:[(0,s.jsxs)("div",{className:"info-item full-width",children:[(0,s.jsxs)("label",{htmlFor:"catchphrase",children:[(0,s.jsx)("i",{className:"fas fa-quote-left"})," キャッチフレーズ"]}),(0,s.jsx)("textarea",{id:"catchphrase",name:"catchphrase",placeholder:"キャラクターを表す一言",value:a.catchphrase||"",onChange:e=>t("catchphrase",e.target.value),rows:2})]}),(0,s.jsxs)("div",{className:"info-item full-width",children:[(0,s.jsxs)("label",{htmlFor:"introduction",children:[(0,s.jsx)("i",{className:"fas fa-user-edit"})," 紹介文",(0,s.jsx)("span",{className:"label-hint",children:"立ち絵画像の横に表示されます"})]}),(0,s.jsxs)("div",{className:"wysiwyg-container",children:[(0,s.jsxs)("div",{className:"wysiwyg-toolbar",children:[(0,s.jsxs)("div",{className:"toolbar-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("undo"),title:"元に戻す",children:(0,s.jsx)("i",{className:"fas fa-undo"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("redo"),title:"進む",children:(0,s.jsx)("i",{className:"fas fa-redo"})})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsxs)("div",{className:"toolbar-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("bold"),title:"太字",children:(0,s.jsx)("i",{className:"fas fa-bold"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("italic"),title:"斜体",children:(0,s.jsx)("i",{className:"fas fa-italic"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("underline"),title:"下線",children:(0,s.jsx)("i",{className:"fas fa-underline"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("strikeThrough"),title:"打ち消し線",children:(0,s.jsx)("i",{className:"fas fa-strikethrough"})})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsxs)("div",{className:"toolbar-group color-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>k("introduction"===f?null:"introduction"),title:"文字色",children:(0,s.jsx)("i",{className:"fas fa-palette"})}),"introduction"===f&&(0,s.jsx)("div",{className:"color-palette",children:F.map((e,a)=>(0,s.jsx)("button",{type:"button",className:"color-swatch",style:{backgroundColor:e},onMouseDown:e=>e.preventDefault(),onClick:()=>D(e),title:e},a))})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsx)("div",{className:"toolbar-group font-size-group",children:(0,s.jsxs)("select",{className:"font-size-select",onChange:e=>{let a=parseInt(e.target.value);a&&E(a),e.target.value=""},defaultValue:"",title:"フォントサイズ",children:[(0,s.jsxs)("option",{value:"",disabled:!0,children:[(0,s.jsx)("i",{className:"fas fa-text-height"})," サイズ"]}),z.map((e,a)=>(0,s.jsxs)("option",{value:e.value,children:[e.label," (",e.size,")"]},a))]})})]}),(0,s.jsx)("div",{ref:R,className:"preview-content editable",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"ここに入力してください...",onFocus:e=>C(e.currentTarget),onInput:e=>A("introduction",e.currentTarget),onBlur:e=>T("introduction",e.currentTarget)})]})]}),(0,s.jsxs)("div",{className:"info-item full-width secret-info",children:[(0,s.jsxs)("label",{htmlFor:"secret_information",children:[(0,s.jsx)("i",{className:"fas fa-lock"})," 秘匿情報",(0,s.jsx)("span",{className:"label-hint",children:"立ち絵画像の横に表示されます"})]}),(0,s.jsxs)("div",{className:"wysiwyg-container",children:[(0,s.jsxs)("div",{className:"wysiwyg-toolbar",children:[(0,s.jsxs)("div",{className:"toolbar-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("undo"),title:"元に戻す",children:(0,s.jsx)("i",{className:"fas fa-undo"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("redo"),title:"進む",children:(0,s.jsx)("i",{className:"fas fa-redo"})})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsxs)("div",{className:"toolbar-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("bold"),title:"太字",children:(0,s.jsx)("i",{className:"fas fa-bold"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("italic"),title:"斜体",children:(0,s.jsx)("i",{className:"fas fa-italic"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("underline"),title:"下線",children:(0,s.jsx)("i",{className:"fas fa-underline"})}),(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>O("strikeThrough"),title:"打ち消し線",children:(0,s.jsx)("i",{className:"fas fa-strikethrough"})})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsxs)("div",{className:"toolbar-group color-group",children:[(0,s.jsx)("button",{type:"button",onMouseDown:e=>e.preventDefault(),onClick:()=>k("secret"===f?null:"secret"),title:"文字色",children:(0,s.jsx)("i",{className:"fas fa-palette"})}),"secret"===f&&(0,s.jsx)("div",{className:"color-palette",children:F.map((e,a)=>(0,s.jsx)("button",{type:"button",className:"color-swatch",style:{backgroundColor:e},onMouseDown:e=>e.preventDefault(),onClick:()=>D(e),title:e},a))})]}),(0,s.jsx)("div",{className:"toolbar-separator"}),(0,s.jsx)("div",{className:"toolbar-group font-size-group",children:(0,s.jsxs)("select",{className:"font-size-select",onChange:e=>{let a=parseInt(e.target.value);a&&E(a),e.target.value=""},defaultValue:"",title:"フォントサイズ",children:[(0,s.jsxs)("option",{value:"",disabled:!0,children:[(0,s.jsx)("i",{className:"fas fa-text-height"})," サイズ"]}),z.map((e,a)=>(0,s.jsxs)("option",{value:e.value,children:[e.label," (",e.size,")"]},a))]})})]}),(0,s.jsx)("div",{ref:M,className:"preview-content editable",contentEditable:!0,suppressContentEditableWarning:!0,"data-placeholder":"表示ページでは折りたたまれます",onFocus:e=>C(e.currentTarget),onInput:e=>A("secret_information",e.currentTarget),onBlur:e=>T("secret_information",e.currentTarget)})]})]})]})}),(0,s.jsx)(N,{isOpen:r,onClose:()=>o(!1),sourceImageUrl:a.character_image_url||"",onCropComplete:W,characterName:a.character_name})]})}function k(e){let{characterData:a,handleInputChange:t}=e;return(0,s.jsxs)("div",{className:"profile-sheet-section",children:[(0,s.jsx)("div",{className:"playsheet-header",children:(0,s.jsxs)("h2",{children:[(0,s.jsx)("i",{className:"fas fa-user-circle section-icon"}),"プロフィールシート"]})}),(0,s.jsx)("div",{className:"section-content",children:(0,s.jsx)(f,{characterData:a,handleInputChange:t})})]})}function w(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0);return{rolls:e,total:a,formula:"3D6"}}function C(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0)+6;return{rolls:e,total:a,formula:"2D6+6"}}function I(){let e=[Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1],a=e.reduce((e,a)=>e+a,0)+3;return{rolls:e,total:a,formula:"3D6+3"}}function S(e){let{characterData:a,calculatedStats:t,handleInputChange:n}=e,[l,r]=(0,i.useState)(null),o=e=>{let a=function(e){switch(e){case"str":case"con":case"pow":case"dex":case"app":default:return w();case"siz":case"int":return C();case"edu":return I()}}(e);n("".concat(e,"_base"),a.total),r(t=>({...t,[e]:a}))},c=e=>{let{ability:a,formula:t}=e;return(0,s.jsx)("button",{type:"button",onClick:()=>o(a),style:{padding:"2px 6px",fontSize:"10px",backgroundColor:"var(--ui-theme-color)",border:"1px solid var(--ui-theme-color)",borderRadius:"3px",cursor:"pointer",color:"white"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color-hover)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color)",title:"".concat(t,"で振り直し"),children:(0,s.jsx)("i",{className:"fas fa-dice"})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"section-header",style:{marginTop:"20px"},children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-dumbbell section-icon"}),"能力値"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e={str:w(),con:w(),pow:w(),dex:w(),app:w(),siz:C(),int:C(),edu:I()};r(e),n("str_base",e.str.total),n("con_base",e.con.total),n("pow_base",e.pow.total),n("dex_base",e.dex.total),n("app_base",e.app.total),n("siz_base",e.siz.total),n("int_base",e.int.total),n("edu_base",e.edu.total)},style:{padding:"8px 16px",backgroundColor:"var(--ui-theme-color)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color-hover)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--ui-theme-color)",children:[(0,s.jsx)("i",{className:"fas fa-dice"})," ALL"]})]}),(0,s.jsxs)("div",{className:"scores d-flex",children:[(0,s.jsxs)("ul",{className:"basic-score d-flex ul-score",children:[(0,s.jsxs)("li",{className:"name",children:[(0,s.jsx)("h3",{children:"TOTAL"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",value:["str_total","con_total","pow_total","dex_total","app_total","siz_total","int_total","edu_total"].reduce((e,a)=>{let s=t[a];return e+(s&&!isNaN(s)?parseInt(s):0)},0),readOnly:!0,style:{fontWeight:"bold",textAlign:"center",fontSize:"12px",width:"20px"},title:"能力値合計"})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:"基礎能力"}),(0,s.jsx)("li",{className:"ages",children:"年齢修正"}),(0,s.jsx)("li",{children:"他増減"})]})]}),(0,s.jsxs)("li",{className:"str score-li",children:[(0,s.jsxs)("h3",{children:["STR ",(0,s.jsx)(c,{ability:"str",formula:"3D6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"str_total",value:t.str_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"str_base",name:"str_base",value:a.str_base||"",onChange:e=>n("str_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"str_age_mod",name:"str_age_mod",value:a.str_age_mod||"",onChange:e=>n("str_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"str_other_mod",name:"str_other_mod",value:a.str_other_mod||"",onChange:e=>n("str_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"con score-li",children:[(0,s.jsxs)("h3",{children:["CON ",(0,s.jsx)(c,{ability:"con",formula:"3D6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"con_total",value:t.con_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"con_base",name:"con_base",value:a.con_base||"",onChange:e=>n("con_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"con_age_mod",name:"con_age_mod",value:a.con_age_mod||"",onChange:e=>n("con_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"con_other_mod",name:"con_other_mod",value:a.con_other_mod||"",onChange:e=>n("con_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"pow score-li",children:[(0,s.jsxs)("h3",{children:["POW ",(0,s.jsx)(c,{ability:"pow",formula:"3D6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"pow_total",value:t.pow_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"pow_base",name:"pow_base",value:a.pow_base||"",onChange:e=>n("pow_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"pow_age_mod",name:"pow_age_mod",value:a.pow_age_mod||"",onChange:e=>n("pow_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"pow_other_mod",name:"pow_other_mod",value:a.pow_other_mod||"",onChange:e=>n("pow_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"dex score-li",children:[(0,s.jsxs)("h3",{children:["DEX ",(0,s.jsx)(c,{ability:"dex",formula:"3D6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"dex_total",value:t.dex_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"dex_base",name:"dex_base",value:a.dex_base||"",onChange:e=>n("dex_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"dex_age_mod",name:"dex_age_mod",value:a.dex_age_mod||"",onChange:e=>n("dex_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"dex_other_mod",name:"dex_other_mod",value:a.dex_other_mod||"",onChange:e=>n("dex_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"app score-li",children:[(0,s.jsxs)("h3",{children:["APP ",(0,s.jsx)(c,{ability:"app",formula:"3D6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"app_total",value:t.app_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"app_base",name:"app_base",value:a.app_base||"",onChange:e=>n("app_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"app_age_mod",name:"app_age_mod",value:a.app_age_mod||"",onChange:e=>n("app_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"app_other_mod",name:"app_other_mod",value:a.app_other_mod||"",onChange:e=>n("app_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"siz score-li",children:[(0,s.jsxs)("h3",{children:["SIZ ",(0,s.jsx)(c,{ability:"siz",formula:"2D6+6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"siz_total",value:t.siz_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"siz_base",name:"siz_base",value:a.siz_base||"",onChange:e=>n("siz_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"siz_age_mod",name:"siz_age_mod",value:a.siz_age_mod||"",onChange:e=>n("siz_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"siz_other_mod",name:"siz_other_mod",value:a.siz_other_mod||"",onChange:e=>n("siz_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"int score-li",children:[(0,s.jsxs)("h3",{children:["INT ",(0,s.jsx)(c,{ability:"int",formula:"2D6+6"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"int_total",value:t.int_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"int_base",name:"int_base",value:a.int_base||"",onChange:e=>n("int_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"int_age_mod",name:"int_age_mod",value:a.int_age_mod||"",onChange:e=>n("int_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"int_other_mod",name:"int_other_mod",value:a.int_other_mod||"",onChange:e=>n("int_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"edu score-li",children:[(0,s.jsxs)("h3",{children:["EDU ",(0,s.jsx)(c,{ability:"edu",formula:"3D6+3"})]}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"edu_total",value:t.edu_total||"",readOnly:!0,style:{color:"#57595d"}})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("select",{className:"base-select",id:"edu_base",name:"edu_base",value:a.edu_base||"",onChange:e=>n("edu_base",parseInt(e.target.value)||0),children:[(0,s.jsx)("option",{value:"",children:"-"}),Array.from({length:16},(e,a)=>a+3).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})}),(0,s.jsx)("li",{className:"ages",children:(0,s.jsx)("input",{type:"number",className:"_02",id:"edu_age_mod",name:"edu_age_mod",value:a.edu_age_mod||"",onChange:e=>n("edu_age_mod",""===e.target.value?"":parseInt(e.target.value)||0)})}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"edu_other_mod",name:"edu_other_mod",value:a.edu_other_mod||"",onChange:e=>n("edu_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]})]}),(0,s.jsxs)("ul",{className:"calc-score d-flex ul-score",children:[(0,s.jsxs)("li",{className:"name sp-only",children:[(0,s.jsx)("div",{className:"score-sum"}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:"基礎能力"}),(0,s.jsx)("li",{className:"ages",children:"年齢修正"}),(0,s.jsx)("li",{children:"他増減"})]})]}),(0,s.jsxs)("li",{className:"san score-li",children:[(0,s.jsx)("h3",{children:"初期SAN"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"san_total",value:t.san_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"san_base_value",value:t.san_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"san_other_mod",name:"san_other_mod",value:a.san_other_mod||"",onChange:e=>n("san_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"hp score-li",children:[(0,s.jsx)("h3",{children:"HP"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"hp_total",value:t.hp_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"hp_base_value",value:t.hp_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"hp_other_mod",name:"hp_other_mod",value:a.hp_other_mod||"",onChange:e=>n("hp_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"mp score-li",children:[(0,s.jsx)("h3",{children:"MP"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"mp_total",value:t.mp_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"mp_base_value",value:t.mp_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"mp_other_mod",name:"mp_other_mod",value:a.mp_other_mod||"",onChange:e=>n("mp_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"idea score-li",children:[(0,s.jsx)("h3",{children:"アイデア"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"idea_total",value:t.idea_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"idea_base_value",value:t.idea_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"idea_other_mod",name:"idea_other_mod",value:a.idea_other_mod||"",onChange:e=>n("idea_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"luck score-li",children:[(0,s.jsx)("h3",{children:"幸運"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"luck_total",value:t.luck_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"luck_base_value",value:t.luck_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"luck_other_mod",name:"luck_other_mod",value:a.luck_other_mod||"",onChange:e=>n("luck_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"knowledge score-li",children:[(0,s.jsx)("h3",{children:"知識"}),(0,s.jsx)("div",{className:"score-sum",children:(0,s.jsx)("input",{type:"text",className:"readonly",id:"knowledge_total",value:t.knowledge_total||"",readOnly:!0})}),(0,s.jsxs)("ul",{className:"score-detail",children:[(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"knowledge_base_value",value:t.knowledge_base_value||"",readOnly:!0})}),(0,s.jsx)("li",{className:"ages",children:"-"}),(0,s.jsx)("li",{children:(0,s.jsx)("input",{type:"number",id:"knowledge_other_mod",name:"knowledge_other_mod",value:a.knowledge_other_mod||"",onChange:e=>n("knowledge_other_mod",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]})]})]})]})}function O(e){let{characterData:a,handleInputChange:t,traits:n,addTrait:l,removeTrait:r}=e,[o,c]=(0,i.useState)(!0),d=()=>"".concat(Math.floor(6*Math.random())+1,"-").concat(Math.floor(10*Math.random())+1),u=e=>{let a=d();t("".concat(e,"_number"),a)},h=()=>Math.floor(6*Math.random())+1,m=e=>{let a=h();t("".concat(e,"_interest_bonus"),a)},p=e=>e&&e.startsWith("4-");return(0,s.jsxs)("div",{className:"traits-section character-section",children:[(0,s.jsxs)("div",{className:"section-header",onClick:()=>c(!o),children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-list-alt section-icon"}),"特徴表"]}),(0,s.jsx)("i",{className:"fas ".concat(o?"fa-chevron-right":"fa-chevron-down"),style:{marginRight:"5px"}})]}),(0,s.jsx)("div",{className:"section-content ".concat(o?"collapsed":""),style:{maxHeight:o?"0":"1000px"},children:(0,s.jsxs)("div",{className:"features",children:[(0,s.jsx)("ul",{children:n.map(e=>(0,s.jsxs)("li",{className:"d-flex f-list",children:[(0,s.jsxs)("div",{className:"f-label",children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginBottom:"5px"},children:[(0,s.jsx)("span",{className:"num",children:(0,s.jsxs)("select",{name:"".concat(e.id,"_number"),value:a["".concat(e.id,"_number")]||"",onChange:a=>t("".concat(e.id,"_number"),a.target.value),style:{width:"11ch",border:"none",background:"#ddd",textAlign:"center",fontSize:"0.8rem",fontWeight:"bold",letterSpacing:"0.1em",fontFamily:"monospace",borderRadius:"5px",padding:"2px 5px"},children:[(0,s.jsx)("option",{value:"",children:"0-0"}),(0,s.jsx)("option",{value:"1-1",children:"1-1"}),(0,s.jsx)("option",{value:"1-2",children:"1-2"}),(0,s.jsx)("option",{value:"1-3",children:"1-3"}),(0,s.jsx)("option",{value:"1-4",children:"1-4"}),(0,s.jsx)("option",{value:"1-5",children:"1-5"}),(0,s.jsx)("option",{value:"1-6",children:"1-6"}),(0,s.jsx)("option",{value:"1-7",children:"1-7"}),(0,s.jsx)("option",{value:"1-8",children:"1-8"}),(0,s.jsx)("option",{value:"1-9",children:"1-9"}),(0,s.jsx)("option",{value:"1-10",children:"1-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"2-1",children:"2-1"}),(0,s.jsx)("option",{value:"2-2",children:"2-2"}),(0,s.jsx)("option",{value:"2-3",children:"2-3"}),(0,s.jsx)("option",{value:"2-4",children:"2-4"}),(0,s.jsx)("option",{value:"2-5",children:"2-5"}),(0,s.jsx)("option",{value:"2-6",children:"2-6"}),(0,s.jsx)("option",{value:"2-7",children:"2-7"}),(0,s.jsx)("option",{value:"2-8",children:"2-8"}),(0,s.jsx)("option",{value:"2-9",children:"2-9"}),(0,s.jsx)("option",{value:"2-10",children:"2-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"3-1",children:"3-1"}),(0,s.jsx)("option",{value:"3-2",children:"3-2"}),(0,s.jsx)("option",{value:"3-3",children:"3-3"}),(0,s.jsx)("option",{value:"3-4",children:"3-4"}),(0,s.jsx)("option",{value:"3-5",children:"3-5"}),(0,s.jsx)("option",{value:"3-6",children:"3-6"}),(0,s.jsx)("option",{value:"3-7",children:"3-7"}),(0,s.jsx)("option",{value:"3-8",children:"3-8"}),(0,s.jsx)("option",{value:"3-9",children:"3-9"}),(0,s.jsx)("option",{value:"3-10",children:"3-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"4-1",children:"4-1"}),(0,s.jsx)("option",{value:"4-2",children:"4-2"}),(0,s.jsx)("option",{value:"4-3",children:"4-3"}),(0,s.jsx)("option",{value:"4-4",children:"4-4"}),(0,s.jsx)("option",{value:"4-5",children:"4-5"}),(0,s.jsx)("option",{value:"4-6",children:"4-6"}),(0,s.jsx)("option",{value:"4-7",children:"4-7"}),(0,s.jsx)("option",{value:"4-8",children:"4-8"}),(0,s.jsx)("option",{value:"4-9",children:"4-9"}),(0,s.jsx)("option",{value:"4-10",children:"4-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"5-1",children:"5-1"}),(0,s.jsx)("option",{value:"5-2",children:"5-2"}),(0,s.jsx)("option",{value:"5-3",children:"5-3"}),(0,s.jsx)("option",{value:"5-4",children:"5-4"}),(0,s.jsx)("option",{value:"5-5",children:"5-5"}),(0,s.jsx)("option",{value:"5-6",children:"5-6"}),(0,s.jsx)("option",{value:"5-7",children:"5-7"}),(0,s.jsx)("option",{value:"5-8",children:"5-8"}),(0,s.jsx)("option",{value:"5-9",children:"5-9"}),(0,s.jsx)("option",{value:"5-10",children:"5-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"6-1",children:"6-1"}),(0,s.jsx)("option",{value:"6-2",children:"6-2"}),(0,s.jsx)("option",{value:"6-3",children:"6-3"}),(0,s.jsx)("option",{value:"6-4",children:"6-4"}),(0,s.jsx)("option",{value:"6-5",children:"6-5"}),(0,s.jsx)("option",{value:"6-6",children:"6-6"}),(0,s.jsx)("option",{value:"6-7",children:"6-7"}),(0,s.jsx)("option",{value:"6-8",children:"6-8"}),(0,s.jsx)("option",{value:"6-9",children:"6-9"}),(0,s.jsx)("option",{value:"6-10",children:"6-10"}),(0,s.jsx)("option",{value:"",children:"----------"}),(0,s.jsx)("option",{value:"original",children:"オリジナル"})]})}),(0,s.jsx)("button",{type:"button",onClick:()=>u(e.id),style:{background:"linear-gradient(135deg, var(--ui-theme-color), var(--ui-theme-color-hover))",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",transition:"all 0.2s ease",minWidth:"24px",height:"24px",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 2px 6px rgba(34, 198, 216, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"},title:"1D6+1D10でランダム決定",children:(0,s.jsx)("i",{className:"fas fa-dice"})})]}),(0,s.jsx)("span",{className:"name",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),style:{borderRadius:"5px",padding:"2px 5px"},value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"特徴名"})})]}),(0,s.jsxs)("div",{className:"contents",children:[(0,s.jsx)("textarea",{name:"".concat(e.id,"_description"),value:a["".concat(e.id,"_description")]||"",onChange:a=>t("".concat(e.id,"_description"),a.target.value),placeholder:"特徴表説明",style:{width:"100%",minHeight:"60px",resize:"vertical",padding:"8px",borderRadius:"5px",fontFamily:"inherit",fontSize:"inherit"}}),p(a["".concat(e.id,"_number")])&&(0,s.jsx)("div",{style:{padding:"5px",backgroundColor:"var(--ui-theme-color-light)",borderRadius:"5px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)("label",{style:{fontSize:"0.8rem",fontWeight:"600",color:"var(--ui-theme-color)"},children:"追加P 1D6:"}),(0,s.jsxs)("select",{name:"".concat(e.id,"_interest_bonus"),value:a["".concat(e.id,"_interest_bonus")]||"",onChange:a=>t("".concat(e.id,"_interest_bonus"),a.target.value),style:{width:"60px",borderRadius:"4px",border:"none",textAlign:"center",fontSize:"0.9rem",background:"#fff"},children:[(0,s.jsx)("option",{value:"",children:"-"}),(0,s.jsx)("option",{value:"1",children:"1"}),(0,s.jsx)("option",{value:"2",children:"2"}),(0,s.jsx)("option",{value:"3",children:"3"}),(0,s.jsx)("option",{value:"4",children:"4"}),(0,s.jsx)("option",{value:"5",children:"5"}),(0,s.jsx)("option",{value:"6",children:"6"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>m(e.id),style:{background:"linear-gradient(135deg, var(--ui-theme-color), var(--ui-theme-color-hover))",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",transition:"all 0.2s ease",minWidth:"24px",height:"24px",justifyContent:"center"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 2px 6px rgba(34, 198, 216, 0.3)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"},title:"1D6でランダム決定",children:(0,s.jsx)("i",{className:"fas fa-dice"})})]})})]}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",padding:"10px"},children:(0,s.jsx)("button",{type:"button",onClick:()=>r(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:l,className:"add-btn",style:{margin:"0 0 10px auto"},children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 特徴を追加"]})]})})]})}function E(e){let{characterData:a,handleInputChange:t}=e,[n,l]=(0,i.useState)(!0);return(0,s.jsxs)("div",{className:"character-section",children:[(0,s.jsxs)("div",{className:"section-header",onClick:()=>l(!n),children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-briefcase section-icon"}),"ベース職業"]}),(0,s.jsx)("i",{className:"fas ".concat(n?"fa-chevron-up":"fa-chevron-down"," section-toggle-icon")})]}),(0,s.jsx)("div",{className:"section-content ".concat(n?"collapsed":""),style:{maxHeight:n?"0":"1000px"},children:(0,s.jsxs)("div",{className:"job-base-responsive",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"ベース職業"}),(0,s.jsx)("input",{type:"text",name:"base_job",style:{minHeight:"50px",borderRadius:"5px"},value:a.base_job||"",onChange:e=>t("base_job",e.target.value),placeholder:"職業名"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"職業特記"}),(0,s.jsx)("textarea",{name:"special_notes",value:a.special_notes||"",onChange:e=>t("special_notes",e.target.value),placeholder:"特記事項",style:{width:"100%",minHeight:"50px",resize:"vertical",padding:"5px",borderRadius:"5px",fontFamily:"inherit",fontSize:"inherit",lineHeight:"1.4"}})]})]})})]})}function D(e){let{characterData:a,calculatedStats:t,handleInputChange:n,handleJobPointsFormulaChange:l,isSkillSectionCollapsed:i=!1,onSkillSectionToggle:r}=e;return(0,s.jsxs)("div",{className:"character-section",children:[(0,s.jsxs)("div",{className:"section-header",style:{marginBottom:"30px"},onClick:r,children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-cogs section-icon"}),"技能"]}),(0,s.jsx)("i",{className:"fas ".concat(i?"fa-chevron-up":"fa-chevron-down"," section-toggle-icon")})]}),(0,s.jsx)("div",{className:"section-content ".concat(i?"collapsed":""),style:{maxHeight:i?"0":"1000px"},children:(0,s.jsxs)("div",{className:"slots d-flex",children:[(0,s.jsxs)("div",{className:"now-san slot",children:[(0,s.jsx)("h3",{children:"現在SAN値"}),(0,s.jsx)("div",{className:"slot-txt",children:(0,s.jsxs)("span",{children:[(0,s.jsx)("input",{type:"number",className:"current_san",id:"current_san",name:"current_san",style:{color:"#57595d"},value:a.current_san||0,onChange:e=>n("current_san",""===e.target.value?"":parseInt(e.target.value)||0)}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("input",{type:"number",id:"max_san",name:"max_san",className:"max_san readonly auto-resize _02",value:a.max_san||t.max_san_value||0,onChange:e=>n("max_san",""===e.target.value?"":parseInt(e.target.value)||0),style:{width:"".concat(Math.max(2,String(a.max_san||t.max_san_value||0).length),"ch"),fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]})})]}),(0,s.jsxs)("div",{className:"db slot",children:[(0,s.jsx)("h3",{children:"ダメ―ジボーナス"}),(0,s.jsx)("div",{className:"slot-txt",children:(0,s.jsx)("input",{type:"text",className:"readonly _02",id:"damage_bonus",value:t.damage_bonus||"",readOnly:!0})})]}),(0,s.jsxs)("div",{className:"jobp slot",style:{backgroundColor:(a.job_points_used||0)>("manual"===a.job_points_formula?a.job_points_total||0:t.job_points_total||0)?"#ffe6e6":"inherit"},children:[(0,s.jsx)("h3",{children:"職業P"}),(0,s.jsxs)("div",{className:"slot-txt",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("input",{type:"text",id:"job_points_used",name:"job_points_used",className:"readonly auto-resize _02",value:a.job_points_used||0,readOnly:!0,style:{width:"".concat(Math.max(2,String(a.job_points_used||0).length),"ch"),color:(a.job_points_used||0)>("manual"===a.job_points_formula?a.job_points_total||0:t.job_points_total||0)?"#d32f2f":"#57595d"}}),(0,s.jsx)("span",{children:"/"}),"manual"===a.job_points_formula?(0,s.jsx)("input",{type:"number",id:"job_points_total_manual",name:"job_points_total",className:"readonly auto-resize _02",value:a.job_points_total||0,onChange:e=>n("job_points_total",""===e.target.value?"":parseInt(e.target.value)||0),style:{width:"".concat(Math.max(2,String(a.job_points_total||0).length),"ch"),fontSize:"0.8rem",fontWeight:"400",color:"#888"}}):(0,s.jsx)("input",{type:"text",className:"readonly auto-resize _02",id:"job_points_total",value:t.job_points_total||0,readOnly:!0,style:{width:"".concat(Math.max(2,String(t.job_points_total||0).length),"ch"),fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]}),(0,s.jsxs)("select",{name:"job_points_formula",value:a.job_points_formula||"edu20",onChange:e=>l(e.target.value),className:"job-point",children:[(0,s.jsx)("option",{value:"edu20",children:"EDU\xd720"}),(0,s.jsx)("option",{value:"edu10_str10",children:"EDU\xd710+STR\xd710"}),(0,s.jsx)("option",{value:"edu10_con10",children:"EDU\xd710+CON\xd710"}),(0,s.jsx)("option",{value:"edu10_pow10",children:"EDU\xd710+POW\xd710"}),(0,s.jsx)("option",{value:"edu10_dex10",children:"EDU\xd710+DEX\xd710"}),(0,s.jsx)("option",{value:"edu10_app10",children:"EDU\xd710+APP\xd710"}),(0,s.jsx)("option",{value:"edu10_siz10",children:"EDU\xd710+SIZ\xd710"}),(0,s.jsx)("option",{value:"edu10_int10",children:"EDU\xd710+INT\xd710"}),(0,s.jsx)("option",{value:"manual",children:"手動入力"})]})]})]}),(0,s.jsxs)("div",{className:"intp slot",style:{backgroundColor:(a.interest_points_used||0)>(t.interest_points_total||0)?"#ffe6e6":"inherit"},children:[(0,s.jsx)("h3",{children:"興味P"}),(0,s.jsxs)("div",{className:"slot-txt",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("input",{type:"text",id:"interest_points_used",name:"interest_points_used",className:"readonly auto-resize _02",value:a.interest_points_used||0,readOnly:!0,style:{width:"".concat(Math.max(2,String(a.interest_points_used||0).length),"ch"),color:(a.interest_points_used||0)>(t.interest_points_total||0)?"#d32f2f":"#57595d"}}),(0,s.jsx)("span",{children:"/"}),(0,s.jsx)("input",{type:"text",className:"readonly auto-resize _02",id:"interest_points_total",value:t.interest_points_total||0,readOnly:!0,style:{width:"".concat(Math.max(2,String(t.interest_points_total||0).length),"ch"),fontSize:"0.8rem",fontWeight:"400",color:"#888"}})]}),(0,s.jsxs)("span",{className:"interest-point",children:["追加分 ：",(0,s.jsx)("input",{type:"number",className:"nterest_points_extra",id:"interest_points_extra",name:"interest_points_extra",value:a.interest_points_extra||"",onChange:e=>n("interest_points_extra",""===e.target.value?"":parseInt(e.target.value)||0)})]})]})]})]})})]})}function F(e){let{characterData:a,calculatedStats:t,handleInputChange:n,handleJobPointsFormulaChange:l,traits:i,addTrait:r,removeTrait:o,hideInitialSkills:c,toggleSkillDisplay:d,isSkillSectionCollapsed:u=!1,onSkillSectionToggle:h}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S,{characterData:a,calculatedStats:t,handleInputChange:n}),(0,s.jsx)(O,{characterData:a,handleInputChange:n,traits:i,addTrait:r,removeTrait:o}),(0,s.jsx)(E,{characterData:a,handleInputChange:n}),(0,s.jsx)(D,{characterData:a,calculatedStats:t,handleInputChange:n,handleJobPointsFormulaChange:l,isSkillSectionCollapsed:u,onSkillSectionToggle:h})]})}function z(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:i,additionalCombatSkills:r,addCombatSkill:o,removeCombatSkill:c}=e;return(0,s.jsxs)("div",{className:"skill-group",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-fist-raised"})," 戦闘技能"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"d-flex skill-li skill-head",children:[(0,s.jsx)("div",{className:"growth",children:"成長"}),(0,s.jsx)("div",{className:"title",children:"技能名"}),(0,s.jsxs)("div",{className:"total",children:["合計",(0,s.jsx)("span",{className:"pc-only",children:"値"})]}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"pc-only",children:"初期値"}),(0,s.jsx)("span",{className:"sp-only",children:"初期"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"職業P"}),(0,s.jsx)("span",{className:"sp-only",children:"職業"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"興味P"}),(0,s.jsx)("span",{className:"sp-only",children:"興味"}),"|",(0,s.jsx)("span",{children:"成長"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"その他"}),(0,s.jsx)("span",{className:"sp-only",children:"他"})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("dodge",t.dodge_initial||0)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"回避"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"dodge_total",className:"readonly _02",value:t.dodge_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"dodge_initial",className:"readonly _02",value:t.dodge_initial||0,readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"dodge_job",value:a.dodge_job||"",onChange:e=>n("dodge_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"dodge_interest",value:a.dodge_interest||"",onChange:e=>n("dodge_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"dodge_growth",value:a.dodge_growth||"",onChange:e=>n("dodge_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"dodge_other",value:a.dodge_other||"",onChange:e=>n("dodge_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("kick",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"キック"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"kick_total",className:"readonly _02",value:t.kick_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"kick_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"kick_job",value:a.kick_job||"",onChange:e=>n("kick_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"kick_interest",value:a.kick_interest||"",onChange:e=>n("kick_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"kick_growth",value:a.kick_growth||"",onChange:e=>n("kick_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"kick_other",value:a.kick_other||"",onChange:e=>n("kick_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("grapple",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"組み付き"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"grapple_total",className:"readonly _02",value:t.grapple_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"grapple_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"grapple_job",value:a.grapple_job||"",onChange:e=>n("grapple_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"grapple_interest",value:a.grapple_interest||"",onChange:e=>n("grapple_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"grapple_growth",value:a.grapple_growth||"",onChange:e=>n("grapple_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"grapple_other",value:a.grapple_other||"",onChange:e=>n("grapple_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("punch",50)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"こぶし"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"punch_total",className:"readonly _02",value:t.punch_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"punch_initial",className:"readonly _02",value:"50",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"punch_job",value:a.punch_job||"",onChange:e=>n("punch_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"punch_interest",value:a.punch_interest||"",onChange:e=>n("punch_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"punch_growth",value:a.punch_growth||"",onChange:e=>n("punch_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"punch_other",value:a.punch_other||"",onChange:e=>n("punch_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("headbutt",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"頭突き"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"headbutt_total",className:"readonly _02",value:t.headbutt_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"headbutt_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"headbutt_job",value:a.headbutt_job||"",onChange:e=>n("headbutt_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"headbutt_interest",value:a.headbutt_interest||"",onChange:e=>n("headbutt_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"headbutt_growth",value:a.headbutt_growth||"",onChange:e=>n("headbutt_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"headbutt_other",value:a.headbutt_other||"",onChange:e=>n("headbutt_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("throw",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"投擲"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"throw_total",className:"readonly _02",value:t.throw_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"throw_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"throw_job",value:a.throw_job||"",onChange:e=>n("throw_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"throw_interest",value:a.throw_interest||"",onChange:e=>n("throw_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"throw_growth",value:a.throw_growth||"",onChange:e=>n("throw_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"throw_other",value:a.throw_other||"",onChange:e=>n("throw_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("martial_arts",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"マーシャルアーツ"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_total",className:"readonly _02",value:t.martial_arts_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_job",value:a.martial_arts_job||"",onChange:e=>n("martial_arts_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_interest",value:a.martial_arts_interest||"",onChange:e=>n("martial_arts_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_growth",value:a.martial_arts_growth||"",onChange:e=>n("martial_arts_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"martial_arts_other",value:a.martial_arts_other||"",onChange:e=>n("martial_arts_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("handgun",20)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"拳銃"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"handgun_total",className:"readonly _02",value:t.handgun_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"handgun_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"handgun_job",value:a.handgun_job||"",onChange:e=>n("handgun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"handgun_interest",value:a.handgun_interest||"",onChange:e=>n("handgun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"handgun_growth",value:a.handgun_growth||"",onChange:e=>n("handgun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"handgun_other",value:a.handgun_other||"",onChange:e=>n("handgun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("submachine_gun",15)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"サブマシンガン"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_total",className:"readonly _02",value:t.submachine_gun_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_job",value:a.submachine_gun_job||"",onChange:e=>n("submachine_gun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_interest",value:a.submachine_gun_interest||"",onChange:e=>n("submachine_gun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_growth",value:a.submachine_gun_growth||"",onChange:e=>n("submachine_gun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"submachine_gun_other",value:a.submachine_gun_other||"",onChange:e=>n("submachine_gun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("shotgun",30)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"ショットガン"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"shotgun_total",className:"readonly _02",value:t.shotgun_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"shotgun_initial",className:"readonly _02",value:"30",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"shotgun_job",value:a.shotgun_job||"",onChange:e=>n("shotgun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"shotgun_interest",value:a.shotgun_interest||"",onChange:e=>n("shotgun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"shotgun_growth",value:a.shotgun_growth||"",onChange:e=>n("shotgun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"shotgun_other",value:a.shotgun_other||"",onChange:e=>n("shotgun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("machine_gun",15)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"マシンガン"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_total",className:"readonly _02",value:t.machine_gun_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_job",value:a.machine_gun_job||"",onChange:e=>n("machine_gun_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_interest",value:a.machine_gun_interest||"",onChange:e=>n("machine_gun_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_growth",value:a.machine_gun_growth||"",onChange:e=>n("machine_gun_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"machine_gun_other",value:a.machine_gun_other||"",onChange:e=>n("machine_gun_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("rifle",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"ライフル"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"rifle_total",className:"readonly _02",value:t.rifle_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"rifle_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"rifle_job",value:a.rifle_job||"",onChange:e=>n("rifle_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"rifle_interest",value:a.rifle_interest||"",onChange:e=>n("rifle_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"rifle_growth",value:a.rifle_growth||"",onChange:e=>n("rifle_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"rifle_other",value:a.rifle_other||"",onChange:e=>n("rifle_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),r.map(e=>(0,s.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>n("".concat(e.id,"_name"),a.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_total"),className:"readonly _02",value:(parseInt(a["".concat(e.id,"_initial")])||1)+(parseInt(a["".concat(e.id,"_job")])||0)+(parseInt(a["".concat(e.id,"_interest")])||0)+(parseInt(a["".concat(e.id,"_growth")])||0)+(parseInt(a["".concat(e.id,"_other")])||0),readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_initial"),className:"_02",value:a["".concat(e.id,"_initial")]||1,onChange:a=>n("".concat(e.id,"_initial"),""===a.target.value?1:parseInt(a.target.value)||1)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_job"),value:a["".concat(e.id,"_job")]||"",onChange:a=>n("".concat(e.id,"_job"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_interest"),value:a["".concat(e.id,"_interest")]||"",onChange:a=>n("".concat(e.id,"_interest"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_growth"),value:a["".concat(e.id,"_growth")]||"",onChange:a=>n("".concat(e.id,"_growth"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_other"),value:a["".concat(e.id,"_other")]||"",onChange:a=>n("".concat(e.id,"_other"),""===a.target.value?"":parseInt(a.target.value)||0)})})]})]},e.id))]}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 戦闘技能を追加"]})]})}function R(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:i,additionalExplorationSkills:r,addExplorationSkill:o,removeExplorationSkill:c}=e;return(0,s.jsxs)("div",{className:"skill-group",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-search"})," 探索技能"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"d-flex skill-li skill-head",children:[(0,s.jsx)("div",{className:"growth",children:"成長"}),(0,s.jsx)("div",{className:"title",children:"技能名"}),(0,s.jsxs)("div",{className:"total",children:["合計",(0,s.jsx)("span",{className:"pc-only",children:"値"})]}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"pc-only",children:"初期値"}),(0,s.jsx)("span",{className:"sp-only",children:"初期"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"職業P"}),(0,s.jsx)("span",{className:"sp-only",children:"職業"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"興味P"}),(0,s.jsx)("span",{className:"sp-only",children:"興味"}),"|",(0,s.jsx)("span",{children:"成長"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"その他"}),(0,s.jsx)("span",{className:"sp-only",children:"他"})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("first_aid",30)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"応急手当"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"first_aid_total",className:"readonly _02",value:t.first_aid_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"first_aid_initial",className:"readonly _02",value:"30",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"first_aid_job",value:a.first_aid_job||"",onChange:e=>n("first_aid_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"first_aid_interest",value:a.first_aid_interest||"",onChange:e=>n("first_aid_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"first_aid_growth",value:a.first_aid_growth||"",onChange:e=>n("first_aid_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"first_aid_other",value:a.first_aid_other||"",onChange:e=>n("first_aid_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("locksmith",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"鍵開け"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"locksmith_total",className:"readonly _02",value:t.locksmith_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"locksmith_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"locksmith_job",value:a.locksmith_job||"",onChange:e=>n("locksmith_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"locksmith_interest",value:a.locksmith_interest||"",onChange:e=>n("locksmith_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"locksmith_growth",value:a.locksmith_growth||"",onChange:e=>n("locksmith_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"locksmith_other",value:a.locksmith_other||"",onChange:e=>n("locksmith_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("conceal",15)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"隠す"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"conceal_total",className:"readonly _02",value:t.conceal_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"conceal_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"conceal_job",value:a.conceal_job||"",onChange:e=>n("conceal_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"conceal_interest",value:a.conceal_interest||"",onChange:e=>n("conceal_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"conceal_growth",value:a.conceal_growth||"",onChange:e=>n("conceal_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"conceal_other",value:a.conceal_other||"",onChange:e=>n("conceal_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("hide",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"隠れる"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"hide_total",className:"readonly _02",value:t.hide_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"hide_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"hide_job",value:a.hide_job||"",onChange:e=>n("hide_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"hide_interest",value:a.hide_interest||"",onChange:e=>n("hide_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"hide_growth",value:a.hide_growth||"",onChange:e=>n("hide_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"hide_other",value:a.hide_other||"",onChange:e=>n("hide_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("listen",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"聞き耳"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"listen_total",className:"readonly _02",value:t.listen_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"listen_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"listen_job",value:a.listen_job||"",onChange:e=>n("listen_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"listen_interest",value:a.listen_interest||"",onChange:e=>n("listen_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"listen_growth",value:a.listen_growth||"",onChange:e=>n("listen_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"listen_other",value:a.listen_other||"",onChange:e=>n("listen_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("sneak",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"忍び歩き"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"sneak_total",className:"readonly _02",value:t.sneak_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"sneak_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"sneak_job",value:a.sneak_job||"",onChange:e=>n("sneak_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"sneak_interest",value:a.sneak_interest||"",onChange:e=>n("sneak_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"sneak_growth",value:a.sneak_growth||"",onChange:e=>n("sneak_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"sneak_other",value:a.sneak_other||"",onChange:e=>n("sneak_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("photography",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"写真術"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"photography_total",className:"readonly _02",value:t.photography_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"photography_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"photography_job",value:a.photography_job||"",onChange:e=>n("photography_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"photography_interest",value:a.photography_interest||"",onChange:e=>n("photography_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"photography_growth",value:a.photography_growth||"",onChange:e=>n("photography_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"photography_other",value:a.photography_other||"",onChange:e=>n("photography_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("psychoanalysis",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"精神分析"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_total",className:"readonly _02",value:t.psychoanalysis_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_job",value:a.psychoanalysis_job||"",onChange:e=>n("psychoanalysis_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_interest",value:a.psychoanalysis_interest||"",onChange:e=>n("psychoanalysis_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_growth",value:a.psychoanalysis_growth||"",onChange:e=>n("psychoanalysis_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychoanalysis_other",value:a.psychoanalysis_other||"",onChange:e=>n("psychoanalysis_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("track",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"追跡"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"track_total",className:"readonly _02",value:t.track_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"track_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"track_job",value:a.track_job||"",onChange:e=>n("track_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"track_interest",value:a.track_interest||"",onChange:e=>n("track_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"track_growth",value:a.track_growth||"",onChange:e=>n("track_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"track_other",value:a.track_other||"",onChange:e=>n("track_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("climb",40)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"登攀"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"climb_total",className:"readonly _02",value:t.climb_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"climb_initial",className:"readonly _02",value:"40",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"climb_job",value:a.climb_job||"",onChange:e=>n("climb_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"climb_interest",value:a.climb_interest||"",onChange:e=>n("climb_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"climb_growth",value:a.climb_growth||"",onChange:e=>n("climb_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"climb_other",value:a.climb_other||"",onChange:e=>n("climb_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("library_use",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"図書館"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"library_use_total",className:"readonly _02",value:t.library_use_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"library_use_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"library_use_job",value:a.library_use_job||"",onChange:e=>n("library_use_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"library_use_interest",value:a.library_use_interest||"",onChange:e=>n("library_use_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"library_use_growth",value:a.library_use_growth||"",onChange:e=>n("library_use_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"library_use_other",value:a.library_use_other||"",onChange:e=>n("library_use_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("spot_hidden",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"目星"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_total",className:"readonly _02",value:t.spot_hidden_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_job",value:a.spot_hidden_job||"",onChange:e=>n("spot_hidden_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_interest",value:a.spot_hidden_interest||"",onChange:e=>n("spot_hidden_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_growth",value:a.spot_hidden_growth||"",onChange:e=>n("spot_hidden_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"spot_hidden_other",value:a.spot_hidden_other||"",onChange:e=>n("spot_hidden_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),r.map(e=>(0,s.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>n("".concat(e.id,"_name"),a.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_total"),className:"readonly _02",value:(parseInt(a["".concat(e.id,"_initial")])||1)+(parseInt(a["".concat(e.id,"_job")])||0)+(parseInt(a["".concat(e.id,"_interest")])||0)+(parseInt(a["".concat(e.id,"_growth")])||0)+(parseInt(a["".concat(e.id,"_other")])||0),readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_initial"),className:"_02",value:a["".concat(e.id,"_initial")]||1,onChange:a=>n("".concat(e.id,"_initial"),""===a.target.value?1:parseInt(a.target.value)||1)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_job"),value:a["".concat(e.id,"_job")]||"",onChange:a=>n("".concat(e.id,"_job"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_interest"),value:a["".concat(e.id,"_interest")]||"",onChange:a=>n("".concat(e.id,"_interest"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_growth"),value:a["".concat(e.id,"_growth")]||"",onChange:a=>n("".concat(e.id,"_growth"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_other"),value:a["".concat(e.id,"_other")]||"",onChange:a=>n("".concat(e.id,"_other"),""===a.target.value?"":parseInt(a.target.value)||0)})})]})]},e.id))]}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 探索技能を追加"]})]})}function M(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:i,additionalActionSkills:r,addActionSkill:o,removeActionSkill:c}=e;return(0,s.jsxs)("div",{className:"skill-group",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-running"})," 行動技能"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"d-flex skill-li skill-head",children:[(0,s.jsx)("div",{className:"growth",children:"成長"}),(0,s.jsx)("div",{className:"title",children:"技能名"}),(0,s.jsxs)("div",{className:"total",children:["合計",(0,s.jsx)("span",{className:"pc-only",children:"値"})]}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"pc-only",children:"初期値"}),(0,s.jsx)("span",{className:"sp-only",children:"初期"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"職業P"}),(0,s.jsx)("span",{className:"sp-only",children:"職業"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"興味P"}),(0,s.jsx)("span",{className:"sp-only",children:"興味"}),"|",(0,s.jsx)("span",{children:"成長"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"その他"}),(0,s.jsx)("span",{className:"sp-only",children:"他"})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("drive",20)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["運転 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"drive_specialty",value:a.drive_specialty||"",className:"free",onChange:e=>n("drive_specialty",e.target.value),placeholder:""})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"drive_total",className:"readonly _02",value:t.drive_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"drive_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"drive_job",value:a.drive_job||"",onChange:e=>n("drive_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"drive_interest",value:a.drive_interest||"",onChange:e=>n("drive_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"drive_growth",value:a.drive_growth||"",onChange:e=>n("drive_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"drive_other",value:a.drive_other||"",onChange:e=>n("drive_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("mechanical_repair",20)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"機械修理"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_total",className:"readonly _02",value:t.mechanical_repair_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_job",value:a.mechanical_repair_job||"",onChange:e=>n("mechanical_repair_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_interest",value:a.mechanical_repair_interest||"",onChange:e=>n("mechanical_repair_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_growth",value:a.mechanical_repair_growth||"",onChange:e=>n("mechanical_repair_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mechanical_repair_other",value:a.mechanical_repair_other||"",onChange:e=>n("mechanical_repair_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("heavy_machinery",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"重機械操作"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_total",className:"readonly _02",value:t.heavy_machinery_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_job",value:a.heavy_machinery_job||"",onChange:e=>n("heavy_machinery_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_interest",value:a.heavy_machinery_interest||"",onChange:e=>n("heavy_machinery_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_growth",value:a.heavy_machinery_growth||"",onChange:e=>n("heavy_machinery_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"heavy_machinery_other",value:a.heavy_machinery_other||"",onChange:e=>n("heavy_machinery_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("ride",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"乗馬"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"ride_total",className:"readonly _02",value:t.ride_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"ride_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"ride_job",value:a.ride_job||"",onChange:e=>n("ride_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"ride_interest",value:a.ride_interest||"",onChange:e=>n("ride_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"ride_growth",value:a.ride_growth||"",onChange:e=>n("ride_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"ride_other",value:a.ride_other||"",onChange:e=>n("ride_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("swim",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"水泳"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"swim_total",className:"readonly _02",value:t.swim_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"swim_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"swim_job",value:a.swim_job||"",onChange:e=>n("swim_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"swim_interest",value:a.swim_interest||"",onChange:e=>n("swim_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"swim_growth",value:a.swim_growth||"",onChange:e=>n("swim_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"swim_other",value:a.swim_other||"",onChange:e=>n("swim_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("craft",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["製作 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"craft_specialty",value:a.craft_specialty||"",onChange:e=>n("craft_specialty",e.target.value),placeholder:"",className:"free"})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"craft_total",className:"readonly _02",value:t.craft_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"craft_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"craft_job",value:a.craft_job||"",onChange:e=>n("craft_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"craft_interest",value:a.craft_interest||"",onChange:e=>n("craft_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"craft_growth",value:a.craft_growth||"",onChange:e=>n("craft_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"craft_other",value:a.craft_other||"",onChange:e=>n("craft_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("pilot",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["操縦 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"pilot_specialty",value:a.pilot_specialty||"",onChange:e=>n("pilot_specialty",e.target.value),placeholder:"",className:"free"})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"pilot_total",className:"readonly _02",value:t.pilot_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"pilot_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pilot_job",value:a.pilot_job||"",onChange:e=>n("pilot_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pilot_interest",value:a.pilot_interest||"",onChange:e=>n("pilot_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pilot_growth",value:a.pilot_growth||"",onChange:e=>n("pilot_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pilot_other",value:a.pilot_other||"",onChange:e=>n("pilot_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("jump",25)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"跳躍"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"jump_total",className:"readonly _02",value:t.jump_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"jump_initial",className:"readonly _02",value:"25",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"jump_job",value:a.jump_job||"",onChange:e=>n("jump_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"jump_interest",value:a.jump_interest||"",onChange:e=>n("jump_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"jump_growth",value:a.jump_growth||"",onChange:e=>n("jump_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"jump_other",value:a.jump_other||"",onChange:e=>n("jump_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("electrical_repair",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"電気修理"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_total",className:"readonly _02",value:t.electrical_repair_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_job",value:a.electrical_repair_job||"",onChange:e=>n("electrical_repair_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_interest",value:a.electrical_repair_interest||"",onChange:e=>n("electrical_repair_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_growth",value:a.electrical_repair_growth||"",onChange:e=>n("electrical_repair_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electrical_repair_other",value:a.electrical_repair_other||"",onChange:e=>n("electrical_repair_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("navigate",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"ナビゲート"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"navigate_total",className:"readonly _02",value:t.navigate_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"navigate_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"navigate_job",value:a.navigate_job||"",onChange:e=>n("navigate_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"navigate_interest",value:a.navigate_interest||"",onChange:e=>n("navigate_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"navigate_growth",value:a.navigate_growth||"",onChange:e=>n("navigate_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"navigate_other",value:a.navigate_other||"",onChange:e=>n("navigate_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("disguise",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"変装"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"disguise_total",className:"readonly _02",value:t.disguise_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"disguise_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"disguise_job",value:a.disguise_job||"",onChange:e=>n("disguise_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"disguise_interest",value:a.disguise_interest||"",onChange:e=>n("disguise_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"disguise_growth",value:a.disguise_growth||"",onChange:e=>n("disguise_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"disguise_other",value:a.disguise_other||"",onChange:e=>n("disguise_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),r.map(e=>(0,s.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>n("".concat(e.id,"_name"),a.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_total"),className:"readonly _02",value:(parseInt(a["".concat(e.id,"_initial")])||1)+(parseInt(a["".concat(e.id,"_job")])||0)+(parseInt(a["".concat(e.id,"_interest")])||0)+(parseInt(a["".concat(e.id,"_growth")])||0)+(parseInt(a["".concat(e.id,"_other")])||0),readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_initial"),className:"_02",value:a["".concat(e.id,"_initial")]||1,onChange:a=>n("".concat(e.id,"_initial"),""===a.target.value?1:parseInt(a.target.value)||1)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_job"),value:a["".concat(e.id,"_job")]||"",onChange:a=>n("".concat(e.id,"_job"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_interest"),value:a["".concat(e.id,"_interest")]||"",onChange:a=>n("".concat(e.id,"_interest"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_growth"),value:a["".concat(e.id,"_growth")]||"",onChange:a=>n("".concat(e.id,"_growth"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_other"),value:a["".concat(e.id,"_other")]||"",onChange:a=>n("".concat(e.id,"_other"),""===a.target.value?"":parseInt(a.target.value)||0)})})]})]},e.id))]}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 行動技能を追加"]})]})}function A(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:i,additionalNegotiationSkills:r,addNegotiationSkill:o,removeNegotiationSkill:c}=e;return(0,s.jsxs)("div",{className:"skill-group",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-handshake"})," 交渉技能"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"d-flex skill-li skill-head",children:[(0,s.jsx)("div",{className:"growth",children:"成長"}),(0,s.jsx)("div",{className:"title",children:"技能名"}),(0,s.jsxs)("div",{className:"total",children:["合計",(0,s.jsx)("span",{className:"pc-only",children:"値"})]}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"pc-only",children:"初期値"}),(0,s.jsx)("span",{className:"sp-only",children:"初期"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"職業P"}),(0,s.jsx)("span",{className:"sp-only",children:"職業"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"興味P"}),(0,s.jsx)("span",{className:"sp-only",children:"興味"}),"|",(0,s.jsx)("span",{children:"成長"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"その他"}),(0,s.jsx)("span",{className:"sp-only",children:"他"})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("fast_talk",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"言いくるめ"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_total",className:"readonly _02",value:t.fast_talk_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_job",value:a.fast_talk_job||"",onChange:e=>n("fast_talk_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_interest",value:a.fast_talk_interest||"",onChange:e=>n("fast_talk_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_growth",value:a.fast_talk_growth||"",onChange:e=>n("fast_talk_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"fast_talk_other",value:a.fast_talk_other||"",onChange:e=>n("fast_talk_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("persuade",15)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"説得"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"persuade_total",className:"readonly _02",value:t.persuade_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"persuade_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"persuade_job",value:a.persuade_job||"",onChange:e=>n("persuade_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"persuade_interest",value:a.persuade_interest||"",onChange:e=>n("persuade_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"persuade_growth",value:a.persuade_growth||"",onChange:e=>n("persuade_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"persuade_other",value:a.persuade_other||"",onChange:e=>n("persuade_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("credit_rating",15)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"信用"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_total",className:"readonly _02",value:t.credit_rating_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_initial",className:"readonly _02",value:"15",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_job",value:a.credit_rating_job||"",onChange:e=>n("credit_rating_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_interest",value:a.credit_rating_interest||"",onChange:e=>n("credit_rating_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_growth",value:a.credit_rating_growth||"",onChange:e=>n("credit_rating_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"credit_rating_other",value:a.credit_rating_other||"",onChange:e=>n("credit_rating_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("bargain",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"値切り"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"bargain_total",className:"readonly _02",value:t.bargain_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"bargain_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"bargain_job",value:a.bargain_job||"",onChange:e=>n("bargain_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"bargain_interest",value:a.bargain_interest||"",onChange:e=>n("bargain_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"bargain_growth",value:a.bargain_growth||"",onChange:e=>n("bargain_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"bargain_other",value:a.bargain_other||"",onChange:e=>n("bargain_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("mother_tongue",t.mother_tongue_initial||0)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["母国語 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"mother_tongue_specialty",value:a.mother_tongue_specialty||"",onChange:e=>n("mother_tongue_specialty",e.target.value),className:"free",placeholder:""})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_total",className:"readonly _02",value:t.mother_tongue_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_initial",className:"readonly _02",value:t.mother_tongue_initial||0,readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_job",value:a.mother_tongue_job||"",onChange:e=>n("mother_tongue_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_interest",value:a.mother_tongue_interest||"",onChange:e=>n("mother_tongue_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_growth",value:a.mother_tongue_growth||"",onChange:e=>n("mother_tongue_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"mother_tongue_other",value:a.mother_tongue_other||"",onChange:e=>n("mother_tongue_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("language",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["他の言語 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"language_specialty",value:a.language_specialty||"",onChange:e=>n("language_specialty",e.target.value),placeholder:"",className:"free"})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"language_total",className:"readonly _02",value:t.language_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"language_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"language_job",value:a.language_job||"",onChange:e=>n("language_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"language_interest",value:a.language_interest||"",onChange:e=>n("language_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"language_growth",value:a.language_growth||"",onChange:e=>n("language_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"language_other",value:a.language_other||"",onChange:e=>n("language_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),r.map(e=>(0,s.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>n("".concat(e.id,"_name"),a.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_total"),className:"readonly _02",value:(parseInt(a["".concat(e.id,"_initial")])||1)+(parseInt(a["".concat(e.id,"_job")])||0)+(parseInt(a["".concat(e.id,"_interest")])||0)+(parseInt(a["".concat(e.id,"_growth")])||0)+(parseInt(a["".concat(e.id,"_other")])||0),readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_initial"),className:"_02",value:a["".concat(e.id,"_initial")]||1,onChange:a=>n("".concat(e.id,"_initial"),""===a.target.value?1:parseInt(a.target.value)||1)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_job"),value:a["".concat(e.id,"_job")]||"",onChange:a=>n("".concat(e.id,"_job"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_interest"),value:a["".concat(e.id,"_interest")]||"",onChange:a=>n("".concat(e.id,"_interest"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_growth"),value:a["".concat(e.id,"_growth")]||"",onChange:a=>n("".concat(e.id,"_growth"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_other"),value:a["".concat(e.id,"_other")]||"",onChange:a=>n("".concat(e.id,"_other"),""===a.target.value?"":parseInt(a.target.value)||0)})})]})]},e.id))]}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 交渉技能を追加"]})]})}function T(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:i,additionalKnowledgeSkills:r,addKnowledgeSkill:o,removeKnowledgeSkill:c}=e;return(0,s.jsxs)("div",{className:"skill-group",children:[(0,s.jsxs)("h3",{children:[(0,s.jsx)("i",{className:"fas fa-book"})," 知識技能"]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"d-flex skill-li skill-head",children:[(0,s.jsx)("div",{className:"growth",children:"成長"}),(0,s.jsx)("div",{className:"title",children:"技能名"}),(0,s.jsxs)("div",{className:"total",children:["合計",(0,s.jsx)("span",{className:"pc-only",children:"値"})]}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"pc-only",children:"初期値"}),(0,s.jsx)("span",{className:"sp-only",children:"初期"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"職業P"}),(0,s.jsx)("span",{className:"sp-only",children:"職業"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"興味P"}),(0,s.jsx)("span",{className:"sp-only",children:"興味"}),"|",(0,s.jsx)("span",{children:"成長"}),"|",(0,s.jsx)("span",{className:"pc-only",children:"その他"}),(0,s.jsx)("span",{className:"sp-only",children:"他"})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("medicine",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"医学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"medicine_total",className:"readonly _02",value:t.medicine_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"medicine_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"medicine_job",value:a.medicine_job||"",onChange:e=>n("medicine_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"medicine_interest",value:a.medicine_interest||"",onChange:e=>n("medicine_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"medicine_growth",value:a.medicine_growth||"",onChange:e=>n("medicine_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"medicine_other",value:a.medicine_other||"",onChange:e=>n("medicine_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("occult",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"オカルト"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"occult_total",className:"readonly _02",value:t.occult_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"occult_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"occult_job",value:a.occult_job||"",onChange:e=>n("occult_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"occult_interest",value:a.occult_interest||"",onChange:e=>n("occult_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"occult_growth",value:a.occult_growth||"",onChange:e=>n("occult_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"occult_other",value:a.occult_other||"",onChange:e=>n("occult_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("chemistry",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"化学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"chemistry_total",className:"readonly _02",value:t.chemistry_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"chemistry_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"chemistry_job",value:a.chemistry_job||"",onChange:e=>n("chemistry_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"chemistry_interest",value:a.chemistry_interest||"",onChange:e=>n("chemistry_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"chemistry_growth",value:a.chemistry_growth||"",onChange:e=>n("chemistry_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"chemistry_other",value:a.chemistry_other||"",onChange:e=>n("chemistry_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("cthulhu_mythos",0)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"クトゥルフ神話"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_total",className:"readonly _02",value:t.cthulhu_mythos_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_initial",className:"readonly _02",value:"0",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_job",value:a.cthulhu_mythos_job||"",onChange:e=>n("cthulhu_mythos_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_interest",value:a.cthulhu_mythos_interest||"",onChange:e=>n("cthulhu_mythos_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_growth",value:a.cthulhu_mythos_growth||"",onChange:e=>n("cthulhu_mythos_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"cthulhu_mythos_other",value:a.cthulhu_mythos_other||"",onChange:e=>n("cthulhu_mythos_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("art",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:["芸術 ",(0,s.jsx)("br",{className:"sp-only"}),(0,s.jsx)("input",{type:"text",name:"art_specialty",placeholder:"",className:"free",value:a.art_specialty||"",onChange:e=>n("art_specialty",e.target.value)})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"art_total",className:"readonly _02",value:t.art_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"art_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"art_job",value:a.art_job||"",onChange:e=>n("art_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"art_interest",value:a.art_interest||"",onChange:e=>n("art_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"art_growth",value:a.art_growth||"",onChange:e=>n("art_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"art_other",value:a.art_other||"",onChange:e=>n("art_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("accounting",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"経理"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"accounting_total",className:"readonly _02",value:t.accounting_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"accounting_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"accounting_job",value:a.accounting_job||"",onChange:e=>n("accounting_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"accounting_interest",value:a.accounting_interest||"",onChange:e=>n("accounting_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"accounting_growth",value:a.accounting_growth||"",onChange:e=>n("accounting_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"accounting_other",value:a.accounting_other||"",onChange:e=>n("accounting_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("archaeology",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"考古学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"archaeology_total",className:"readonly _02",value:t.archaeology_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"archaeology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"archaeology_job",value:a.archaeology_job||"",onChange:e=>n("archaeology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"archaeology_interest",value:a.archaeology_interest||"",onChange:e=>n("archaeology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"archaeology_growth",value:a.archaeology_growth||"",onChange:e=>n("archaeology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"archaeology_other",value:a.archaeology_other||"",onChange:e=>n("archaeology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("computer_use",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"コンピューター"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"computer_use_total",className:"readonly _02",value:t.computer_use_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"computer_use_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"computer_use_job",value:a.computer_use_job||"",onChange:e=>n("computer_use_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"computer_use_interest",value:a.computer_use_interest||"",onChange:e=>n("computer_use_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"computer_use_growth",value:a.computer_use_growth||"",onChange:e=>n("computer_use_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"computer_use_other",value:a.computer_use_other||"",onChange:e=>n("computer_use_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("psychology",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"心理学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"psychology_total",className:"readonly _02",value:t.psychology_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"psychology_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychology_job",value:a.psychology_job||"",onChange:e=>n("psychology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychology_interest",value:a.psychology_interest||"",onChange:e=>n("psychology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychology_growth",value:a.psychology_growth||"",onChange:e=>n("psychology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"psychology_other",value:a.psychology_other||"",onChange:e=>n("psychology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("anthropology",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"人類学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"anthropology_total",className:"readonly _02",value:t.anthropology_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"anthropology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"anthropology_job",value:a.anthropology_job||"",onChange:e=>n("anthropology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"anthropology_interest",value:a.anthropology_interest||"",onChange:e=>n("anthropology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"anthropology_growth",value:a.anthropology_growth||"",onChange:e=>n("anthropology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"anthropology_other",value:a.anthropology_other||"",onChange:e=>n("anthropology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("biology",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"生物学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"biology_total",className:"readonly _02",value:t.biology_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"biology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"biology_job",value:a.biology_job||"",onChange:e=>n("biology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"biology_interest",value:a.biology_interest||"",onChange:e=>n("biology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"biology_growth",value:a.biology_growth||"",onChange:e=>n("biology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"biology_other",value:a.biology_other||"",onChange:e=>n("biology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("geology",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"地質学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"geology_total",className:"readonly _02",value:t.geology_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"geology_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"geology_job",value:a.geology_job||"",onChange:e=>n("geology_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"geology_interest",value:a.geology_interest||"",onChange:e=>n("geology_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"geology_growth",value:a.geology_growth||"",onChange:e=>n("geology_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"geology_other",value:a.geology_other||"",onChange:e=>n("geology_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("electronics",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"電子工学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"electronics_total",className:"readonly _02",value:t.electronics_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"electronics_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electronics_job",value:a.electronics_job||"",onChange:e=>n("electronics_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electronics_interest",value:a.electronics_interest||"",onChange:e=>n("electronics_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electronics_growth",value:a.electronics_growth||"",onChange:e=>n("electronics_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"electronics_other",value:a.electronics_other||"",onChange:e=>n("electronics_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("astronomy",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"天文学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"astronomy_total",className:"readonly _02",value:t.astronomy_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"astronomy_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"astronomy_job",value:a.astronomy_job||"",onChange:e=>n("astronomy_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"astronomy_interest",value:a.astronomy_interest||"",onChange:e=>n("astronomy_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"astronomy_growth",value:a.astronomy_growth||"",onChange:e=>n("astronomy_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"astronomy_other",value:a.astronomy_other||"",onChange:e=>n("astronomy_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("natural_history",10)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"博物学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"natural_history_total",className:"readonly _02",value:t.natural_history_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"natural_history_initial",className:"readonly _02",value:"10",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"natural_history_job",value:a.natural_history_job||"",onChange:e=>n("natural_history_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"natural_history_interest",value:a.natural_history_interest||"",onChange:e=>n("natural_history_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"natural_history_growth",value:a.natural_history_growth||"",onChange:e=>n("natural_history_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"natural_history_other",value:a.natural_history_other||"",onChange:e=>n("natural_history_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("physics",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"物理学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"physics_total",className:"readonly _02",value:t.physics_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"physics_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"physics_job",value:a.physics_job||"",onChange:e=>n("physics_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"physics_interest",value:a.physics_interest||"",onChange:e=>n("physics_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"physics_growth",value:a.physics_growth||"",onChange:e=>n("physics_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"physics_other",value:a.physics_other||"",onChange:e=>n("physics_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("law",5)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"法律"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"law_total",className:"readonly _02",value:t.law_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"law_initial",className:"readonly _02",value:"5",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"law_job",value:a.law_job||"",onChange:e=>n("law_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"law_interest",value:a.law_interest||"",onChange:e=>n("law_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"law_growth",value:a.law_growth||"",onChange:e=>n("law_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"law_other",value:a.law_other||"",onChange:e=>n("law_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("pharmacy",1)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"薬学"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_total",className:"readonly _02",value:t.pharmacy_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_initial",className:"readonly _02",value:"1",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_job",value:a.pharmacy_job||"",onChange:e=>n("pharmacy_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_interest",value:a.pharmacy_interest||"",onChange:e=>n("pharmacy_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_growth",value:a.pharmacy_growth||"",onChange:e=>n("pharmacy_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"pharmacy_other",value:a.pharmacy_other||"",onChange:e=>n("pharmacy_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),(0,s.jsxs)("li",{className:"d-flex skill-li skill-body",style:{display:l&&i("history",20)?"none":"flex"},children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsx)("div",{className:"title",children:"歴史"}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"history_total",className:"readonly _02",value:t.history_total||0,readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"history_initial",className:"readonly _02",value:"20",readOnly:!0})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"history_job",value:a.history_job||"",onChange:e=>n("history_job",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"history_interest",value:a.history_interest||"",onChange:e=>n("history_interest",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"history_growth",value:a.history_growth||"",onChange:e=>n("history_growth",""===e.target.value?"":parseInt(e.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"history_other",value:a.history_other||"",onChange:e=>n("history_other",""===e.target.value?"":parseInt(e.target.value)||0)})})]})]}),r.map(e=>(0,s.jsxs)("li",{className:"d-flex skill-li skill-body add-slill-li",children:[(0,s.jsx)("input",{type:"checkbox",name:"check-growth",className:"check-growth"}),(0,s.jsxs)("div",{className:"title",children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>n("".concat(e.id,"_name"),a.target.value),placeholder:"技能名",style:{width:"85%",border:"none",background:"transparent",textAlign:"center",fontSize:"0.9rem"},required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>c(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})]}),(0,s.jsx)("div",{className:"total",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_total"),className:"readonly _02",value:(parseInt(a["".concat(e.id,"_initial")])||1)+(parseInt(a["".concat(e.id,"_job")])||0)+(parseInt(a["".concat(e.id,"_interest")])||0)+(parseInt(a["".concat(e.id,"_growth")])||0)+(parseInt(a["".concat(e.id,"_other")])||0),readOnly:!0})}),(0,s.jsxs)("div",{className:"breakdown",children:[(0,s.jsx)("span",{className:"initial",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_initial"),className:"_02",value:a["".concat(e.id,"_initial")]||1,onChange:a=>n("".concat(e.id,"_initial"),""===a.target.value?1:parseInt(a.target.value)||1)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_job"),value:a["".concat(e.id,"_job")]||"",onChange:a=>n("".concat(e.id,"_job"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_interest"),value:a["".concat(e.id,"_interest")]||"",onChange:a=>n("".concat(e.id,"_interest"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_growth"),value:a["".concat(e.id,"_growth")]||"",onChange:a=>n("".concat(e.id,"_growth"),""===a.target.value?"":parseInt(a.target.value)||0)})}),"|",(0,s.jsx)("span",{className:"atai",children:(0,s.jsx)("input",{type:"number",name:"".concat(e.id,"_other"),value:a["".concat(e.id,"_other")]||"",onChange:a=>n("".concat(e.id,"_other"),""===a.target.value?"":parseInt(a.target.value)||0)})})]})]},e.id))]}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 知識技能を追加"]})]})}function P(e){let{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,toggleSkillDisplay:i,isSkillInitialOnly:r,isSkillSectionCollapsed:o=!1,additionalCombatSkills:c,addCombatSkill:d,removeCombatSkill:u,additionalExplorationSkills:h,addExplorationSkill:m,removeExplorationSkill:p,additionalActionSkills:x,addActionSkill:g,removeActionSkill:_,additionalNegotiationSkills:j,addNegotiationSkill:v,removeNegotiationSkill:y,additionalKnowledgeSkills:b,addKnowledgeSkill:N,removeKnowledgeSkill:f,jobPointsUsed:k,jobPointsTotal:w,interestPointsUsed:C,interestPointsTotal:I}=e;return o?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"skill-toggle-container",style:{textAlign:"right",marginBottom:"10px"},children:(0,s.jsxs)("div",{className:"segmented-toggle",children:[(0,s.jsx)("button",{type:"button",className:l?"":"active",onClick:i,children:"全表示"}),(0,s.jsx)("button",{type:"button",className:l?"active":"",onClick:i,children:"初期値の技能を隠す"})]})}),(0,s.jsxs)("div",{className:"skill",style:{backgroundColor:k>w||C>I?"#ffe6e6":"inherit",transition:"background-color 0.3s ease"},children:[(0,s.jsx)(z,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:r,additionalCombatSkills:c,addCombatSkill:d,removeCombatSkill:u}),(0,s.jsx)(R,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:r,additionalExplorationSkills:h,addExplorationSkill:m,removeExplorationSkill:p}),(0,s.jsx)(M,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:r,additionalActionSkills:x,addActionSkill:g,removeActionSkill:_}),(0,s.jsx)(A,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:r,additionalNegotiationSkills:j,addNegotiationSkill:v,removeNegotiationSkill:y}),(0,s.jsx)(T,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:l,isSkillInitialOnly:r,additionalKnowledgeSkills:b,addKnowledgeSkill:N,removeKnowledgeSkill:f})]})]})}function B(e){let{characterData:a,handleInputChange:t,equipmentSections:n,toggleEquipmentSection:l,weapons:i,addWeapon:r,removeWeapon:o,items:c,addItem:d,removeItem:u,disorders:h,addDisorder:m,removeDisorder:p,books:x,addBook:g,removeBook:_,spells:j,addSpell:v,removeSpell:y,artifacts:b,addArtifact:N,removeArtifact:f,entities:k,addEntity:w,removeEntity:C}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{id:"equipment-section",children:[(0,s.jsxs)("div",{className:"data-wrap buki",children:[(0,s.jsxs)("h3",{onClick:()=>l("weapons"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.weapons?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fa-solid fa-gun"})," 武器"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.weapons?"":"collapsed"),children:[(0,s.jsx)("ul",{children:i.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsxs)("div",{className:"title",style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},children:[(0,s.jsx)("span",{className:"label",children:"武器名"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"ginou kazu",children:[(0,s.jsx)("span",{className:"label",children:"成功"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_success"),value:a["".concat(e.id,"_success")]||"",onChange:a=>t("".concat(e.id,"_success"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}}),(0,s.jsx)("span",{children:"%"})]})]}),(0,s.jsxs)("div",{className:"damage",children:[(0,s.jsx)("span",{className:"label",children:"ダメ―ジ"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_damage"),value:a["".concat(e.id,"_damage")]||"",onChange:a=>t("".concat(e.id,"_damage"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"syatei kazu",children:[(0,s.jsx)("span",{className:"label",children:"射程"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_range"),value:a["".concat(e.id,"_range")]||"",onChange:a=>t("".concat(e.id,"_range"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"kougekikaisu kazu",children:[(0,s.jsx)("span",{className:"label",children:"回数"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_attacks"),value:a["".concat(e.id,"_attacks")]||"",onChange:a=>t("".concat(e.id,"_attacks"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"soudansuu kazu",children:[(0,s.jsx)("span",{className:"label",children:"装弾"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_capacity"),value:a["".concat(e.id,"_capacity")]||"",onChange:a=>t("".concat(e.id,"_capacity"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"kosyou kazu",children:[(0,s.jsx)("span",{className:"label",children:"故障"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_malfunction"),value:a["".concat(e.id,"_malfunction")]||"",onChange:a=>t("".concat(e.id,"_malfunction"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"taikyu kazu",children:[(0,s.jsx)("span",{className:"label",children:"耐久"}),(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_durability"),value:a["".concat(e.id,"_durability")]||"",onChange:a=>t("".concat(e.id,"_durability"),a.target.value),placeholder:"--",style:{width:"100%",border:"none",background:"transparent",textAlign:"center",marginTop:"5px"}})]}),(0,s.jsxs)("div",{className:"memo",children:[(0,s.jsx)("span",{className:"label",children:"詳細"}),(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"--",style:{width:"100%",resize:"vertical",minHeight:"15px",marginTop:"5px",padding:"3px 5px"}})]}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>o(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:r,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 武器を追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap item",children:[(0,s.jsxs)("h3",{onClick:()=>l("items"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.items?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fas fa-suitcase"})," 所持品"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.items?"":"collapsed"),children:[(0,s.jsx)("ul",{children:c.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"品名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"kosu",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_quantity"),value:a["".concat(e.id,"_quantity")]||"",onChange:a=>t("".concat(e.id,"_quantity"),a.target.value),placeholder:"個数",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>u(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:d,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 所持品を追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap hutei",children:[(0,s.jsxs)("h3",{onClick:()=>l("disorders"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.disorders?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fas fa-bed"})," 不定・後遺症"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.disorders?"":"collapsed"),children:[(0,s.jsx)("ul",{children:h.map(e=>{var n,l;return(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"症状名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"term",children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,s.jsx)("input",{type:"date",name:"".concat(e.id,"_period_start"),value:(null===(n=a["".concat(e.id,"_period")])||void 0===n?void 0:n.split("～")[0])||"",onChange:s=>{var n;let l=(null===(n=a["".concat(e.id,"_period")])||void 0===n?void 0:n.split("～")[1])||"",i=s.target.value+(l?"～"+l:"");t("".concat(e.id,"_period"),i)},style:{width:"45%",border:"none",background:"transparent",textAlign:"center",fontSize:"inherit",fontFamily:"inherit"}}),(0,s.jsx)("span",{children:"～"}),(0,s.jsx)("input",{type:"date",name:"".concat(e.id,"_period_end"),value:(null===(l=a["".concat(e.id,"_period")])||void 0===l?void 0:l.split("～")[1])||"",onChange:s=>{var n;let l=((null===(n=a["".concat(e.id,"_period")])||void 0===n?void 0:n.split("～")[0])||"")+"～"+s.target.value;t("".concat(e.id,"_period"),l)},style:{width:"45%",border:"none",background:"transparent",textAlign:"center",fontSize:"inherit",fontFamily:"inherit"}})]})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>p(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id)})}),(0,s.jsxs)("button",{type:"button",onClick:m,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 不定・後遺症を追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap book",children:[(0,s.jsxs)("h3",{onClick:()=>l("books"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.books?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fas fa-book-dead"})," 読んだ魔導書"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.books?"":"collapsed"),children:[(0,s.jsx)("ul",{children:x.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"魔導書名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"詳細・効果",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>_(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:g,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 魔導書を追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap jumon",children:[(0,s.jsxs)("h3",{onClick:()=>l("spells"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.spells?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fa-solid fa-hand-sparkles"})," 覚えた呪文"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.spells?"":"collapsed"),children:[(0,s.jsx)("ul",{children:j.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"呪文名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"効果・詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>y(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:v,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 呪文を追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap af",children:[(0,s.jsxs)("h3",{onClick:()=>l("artifacts"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.artifacts?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fa-solid fa-star-of-david"})," 所持AF"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.artifacts?"":"collapsed"),children:[(0,s.jsx)("ul",{children:b.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"AF名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"効果・詳細",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>f(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:N,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," AFを追加"]})]})]}),(0,s.jsxs)("div",{className:"data-wrap cthulhu",children:[(0,s.jsxs)("h3",{onClick:()=>l("entities"),style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n.entities?"fa-chevron-down":"fa-chevron-right"),style:{transition:"all 0.3s",marginRight:"10px"}}),(0,s.jsx)("i",{className:"fa-brands fa-octopus-deploy"})," 遭遇した超自然の存在"]}),(0,s.jsxs)("div",{className:"equipment-content ".concat(n.entities?"":"collapsed"),children:[(0,s.jsx)("ul",{children:k.map(e=>(0,s.jsxs)("li",{className:"d-flex data-li skill-body",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("input",{type:"text",name:"".concat(e.id,"_name"),value:a["".concat(e.id,"_name")]||"",onChange:a=>t("".concat(e.id,"_name"),a.target.value),placeholder:"存在名",style:{width:"100%",border:"none",background:"transparent",textAlign:"center"}})}),(0,s.jsx)("div",{className:"content",children:(0,s.jsx)("textarea",{name:"".concat(e.id,"_details"),value:a["".concat(e.id,"_details")]||"",onChange:a=>t("".concat(e.id,"_details"),a.target.value),placeholder:"詳細・状況",style:{width:"100%",resize:"vertical",minHeight:"25px",padding:"3px 5px"}})}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",width:"40px",justifyContent:"center"},children:(0,s.jsx)("button",{type:"button",onClick:()=>C(e.id),className:"remove-btn",children:(0,s.jsx)("i",{className:"fas fa-minus"})})})]},e.id))}),(0,s.jsxs)("button",{type:"button",onClick:w,className:"add-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 遭遇した存在を追加"]})]})]})]})})}function U(e){let{characterData:a,handleInputChange:t,showMemoSection:n,toggleMemoSection:l,secretMemos:r,addSecretMemo:o,removeSecretMemo:c,memoOrder:d,reorderMemos:u}=e,[h,m]=(0,i.useState)({}),[p,x]=(0,i.useState)(null),[,g]=(0,i.useState)(null),[_,j]=(0,i.useState)([]),[v,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{j([...d])},[d]),(0,i.useEffect)(()=>{{let e=localStorage.getItem("character-form-memoCollapsedStates");null!==e&&m(JSON.parse(e))}},[]),(0,i.useEffect)(()=>{localStorage.setItem("character-form-memoCollapsedStates",JSON.stringify(h))},[h]),(0,i.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelector('textarea[name="default_memo"]');e&&N(e),r.forEach(e=>{let a=document.querySelector('textarea[name="'.concat(e.id,'_content"]'));a&&N(a)})},100);return()=>clearTimeout(e)},[r,a.default_memo]);let b=e=>{m(a=>{let t=!a[e];return t||requestAnimationFrame(()=>{let a=document.querySelector('textarea[name="'.concat(e,'_content"]'));a&&N(a)}),{...a,[e]:t}})},N=e=>{let a=e.style.transition;e.style.transition="none",e.style.height="auto";let t=Math.max(e.scrollHeight,60);e.style.height="".concat(t,"px"),requestAnimationFrame(()=>{e.style.transition=a})},f=(e,a,s)=>{t("".concat(e,"_content"),a),N(s.target)},k=(e,a)=>{t("default_memo",e),N(a.target)},w=(e,a)=>{t("".concat(e,"_password_protected"),a),a&&t("".concat(e,"_open_by_default"),!1)},C=(e,a)=>{x(a),y(!1),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",a);let t=e.currentTarget,s=t.cloneNode(!0);s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.width=t.offsetWidth+"px",s.style.backgroundColor="white",s.style.borderRadius="6px",s.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",s.style.opacity="0.95",s.style.pointerEvents="none",document.body.appendChild(s),e.dataTransfer.setDragImage(s,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.removeChild(s)},0)},I=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},S=(e,a)=>{if(e.preventDefault(),g(a),p&&p!==a){let e=[..._],t=e.indexOf(p),s=e.indexOf(a);-1!==t&&-1!==s&&(e.splice(t,1),e.splice(s,0,p),j(e))}},O=e=>{e.currentTarget.contains(e.relatedTarget)||g(null)},E=(e,a)=>{e.preventDefault(),p&&(u([..._]),y(!0)),x(null),g(null)},D=()=>{v||j([...d]),x(null),g(null),y(!1)};return(0,s.jsx)("div",{className:"memo-section",style:{marginTop:"30px"},children:(0,s.jsxs)("div",{className:"data-wrap",children:[(0,s.jsxs)("h3",{className:"memo-title",onClick:l,style:{cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},children:[(0,s.jsx)("i",{className:"fas ".concat(n?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"8px"}}),(0,s.jsx)("i",{className:"fa-solid fa-receipt",style:{marginRight:"5px"}})," メモ"]}),n&&(0,s.jsxs)("div",{className:"equipment-content",style:{padding:"10px 0"},children:[(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{name:"default_memo",value:a.default_memo||"",onChange:e=>k(e.target.value,e),placeholder:"キャラクターに関する基本的なメモを記入してください...",style:{width:"100%",padding:"10px",borderRadius:"5px",textAlign:"left",resize:"none",fontSize:"14px",fontFamily:"inherit",minHeight:"80px",overflow:"hidden"},onInput:e=>N(e.target)})}),(0,s.jsxs)("div",{style:{paddingTop:"5px"},children:[(0,s.jsx)("ul",{style:{listStyle:"none",padding:"0",minHeight:p?"100px":"auto",transition:"min-height 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:(p?_:d).map(e=>{let n=r.find(a=>a.id===e);if(!n)return null;let l=h[n.id],i=p===n.id;return(0,s.jsxs)("li",{className:"memo-item",draggable:!0,onDragStart:e=>C(e,n.id),onDragOver:I,onDragEnter:e=>S(e,n.id),onDragLeave:O,onDrop:e=>E(e,n.id),onDragEnd:D,style:{display:"block",marginBottom:"5px",padding:"15px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",borderRadius:"4px",opacity:i?.3:1,backgroundColor:"transparent",border:"2px solid transparent",cursor:i?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:i?1e3:1,position:"relative"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:l?"0":"5px"},children:[(0,s.jsx)("i",{className:"fas fa-grip-vertical",style:{marginRight:"6px",fontSize:"12px",color:i?"var(--ui-theme-color)":"#999",cursor:i?"grabbing":"grab",userSelect:"none",position:"relative",zIndex:10,transition:"color 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},title:"ドラッグして並べ替え"}),(0,s.jsx)("i",{className:"fas ".concat(l?"fa-chevron-right":"fa-chevron-down"),style:{marginRight:"0",padding:"0 4px 0 5px",fontSize:"12px",color:"#666",cursor:"pointer",userSelect:"none",position:"relative",zIndex:10},onClick:()=>b(n.id)}),(0,s.jsx)("input",{type:"text",name:"".concat(n.id,"_title"),value:a["".concat(n.id,"_title")]||"",onChange:e=>t("".concat(n.id,"_title"),e.target.value),placeholder:"項目名",style:{flex:"1",padding:"4px 6px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"none",textAlign:"left"},onBlur:e=>e.target.style.background="transparent"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),c(n.id)},className:"remove-btn",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:"削除"})]}),!l&&(0,s.jsxs)("div",{children:[(0,s.jsx)("textarea",{name:"".concat(n.id,"_content"),value:a["".concat(n.id,"_content")]||"",onChange:e=>f(n.id,e.target.value,e),placeholder:"メモの内容...",style:{width:"100%",padding:"10px 8px",resize:"none",fontSize:"14px",fontFamily:"inherit",boxShadow:"none",borderBottom:"1px solid #ccc",borderTop:"1px solid #ccc",textAlign:"left",marginBottom:"0",borderRadius:"0",minHeight:"80px",overflow:"hidden"},onInput:e=>N(e.target),onFocus:e=>N(e.target),ref:e=>{e&&requestAnimationFrame(()=>N(e))}}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"13px"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("input",{type:"checkbox",name:"".concat(n.id,"_open_by_default"),checked:a["".concat(n.id,"_open_by_default")]||!1,onChange:e=>t("".concat(n.id,"_open_by_default"),e.target.checked),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px"}}),"開いておく"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("input",{type:"checkbox",name:"".concat(n.id,"_password_protected"),checked:a["".concat(n.id,"_password_protected")]||!1,onChange:e=>w(n.id,e.target.checked),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px"}}),"パスワード保護"]}),a["".concat(n.id,"_password_protected")]&&(0,s.jsx)("input",{type:"password",name:"".concat(n.id,"_password"),value:a["".concat(n.id,"_password")]||"",onChange:e=>t("".concat(n.id,"_password"),e.target.value),placeholder:"パスワード",style:{padding:"4px 6px",borderRadius:"3px",fontSize:"13px",width:"150px"}})]})]})]},n.id)})}),(0,s.jsxs)("button",{type:"button",onClick:o,className:"add-memo-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"}),"新しいメモを追加"]})]})]})]})})}function H(e){let{characterData:a,calculatedStats:t,handleInputChange:n,handleJobPointsFormulaChange:l,traits:r,addTrait:o,removeTrait:c,hideInitialSkills:d,toggleSkillDisplay:u,isSkillInitialOnly:h,isSkillSectionCollapsed:m,onSkillSectionToggle:p,additionalCombatSkills:x,addCombatSkill:g,removeCombatSkill:_,additionalExplorationSkills:j,addExplorationSkill:v,removeExplorationSkill:y,additionalActionSkills:b,addActionSkill:N,removeActionSkill:f,additionalNegotiationSkills:k,addNegotiationSkill:w,removeNegotiationSkill:C,additionalKnowledgeSkills:I,addKnowledgeSkill:S,removeKnowledgeSkill:O,equipmentSections:E,toggleEquipmentSection:D,weapons:z,addWeapon:R,removeWeapon:M,items:A,addItem:T,removeItem:H,disorders:W,addDisorder:J,removeDisorder:L,books:q,addBook:K,removeBook:G,spells:X,addSpell:Z,removeSpell:V,artifacts:Y,addArtifact:Q,removeArtifact:$,entities:ee,addEntity:ea,removeEntity:et,showMemoSection:es,toggleMemoSection:en,secretMemos:el,addSecretMemo:ei,removeSecretMemo:er,memoOrder:eo,reorderMemos:ec}=e,[ed,eu]=(0,i.useState)(()=>{{let e=localStorage.getItem("playsheetCollapsed");return!!e&&JSON.parse(e)}});return(0,s.jsxs)("div",{className:"character-name-section",children:[(0,s.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!ed;eu(e),localStorage.setItem("playsheetCollapsed",JSON.stringify(e))},children:[(0,s.jsxs)("h2",{children:[(0,s.jsx)("i",{className:"fas fa-scroll section-icon"}),"プレイシート"]}),(0,s.jsx)("i",{className:"fas ".concat(ed?"fa-chevron-right":"fa-chevron-down"),style:{marginRight:"5px"}})]}),(0,s.jsxs)("div",{className:"section-content ".concat(ed?"collapsed":""),style:{maxHeight:ed?"0":"none",overflow:"hidden",transition:"max-height 0.3s ease"},children:[(0,s.jsx)(F,{characterData:a,calculatedStats:t,handleInputChange:n,handleJobPointsFormulaChange:l,traits:r,addTrait:o,removeTrait:c,hideInitialSkills:d,toggleSkillDisplay:u,isSkillSectionCollapsed:m,onSkillSectionToggle:p}),(0,s.jsx)(P,{characterData:a,calculatedStats:t,handleInputChange:n,hideInitialSkills:d,toggleSkillDisplay:u,isSkillInitialOnly:h,isSkillSectionCollapsed:m,additionalCombatSkills:x,addCombatSkill:g,removeCombatSkill:_,additionalExplorationSkills:j,addExplorationSkill:v,removeExplorationSkill:y,additionalActionSkills:b,addActionSkill:N,removeActionSkill:f,additionalNegotiationSkills:k,addNegotiationSkill:w,removeNegotiationSkill:C,additionalKnowledgeSkills:I,addKnowledgeSkill:S,removeKnowledgeSkill:O,jobPointsUsed:Number(a.job_points_used)||0,jobPointsTotal:Number("manual"===a.job_points_formula?a.job_points_total||0:t.job_points_total||0),interestPointsUsed:Number(a.interest_points_used)||0,interestPointsTotal:Number(t.interest_points_total)||0}),(0,s.jsx)(B,{characterData:a,handleInputChange:n,equipmentSections:E,toggleEquipmentSection:D,weapons:z,addWeapon:R,removeWeapon:M,items:A,addItem:T,removeItem:H,disorders:W,addDisorder:J,removeDisorder:L,books:q,addBook:K,removeBook:G,spells:X,addSpell:Z,removeSpell:V,artifacts:Y,addArtifact:Q,removeArtifact:$,entities:ee,addEntity:ea,removeEntity:et}),(0,s.jsx)(U,{characterData:a,handleInputChange:n,showMemoSection:es,toggleMemoSection:en,secretMemos:el,addSecretMemo:ei,removeSecretMemo:er,memoOrder:eo,reorderMemos:ec})]})]})}var W=t(9210);let J=e=>{let{characterData:a,setCharacterData:t}=e,[n,l]=(0,i.useState)(!1),[r,o]=(0,i.useState)(null),[c,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=localStorage.getItem("recordSectionOpen");null!==e&&l(JSON.parse(e))},[]);let u=e=>{t(a=>({...a,record_sections:(a.record_sections||[]).filter(a=>a.id!==e)}))},h=(e,a)=>{t(t=>({...t,record_sections:(t.record_sections||[]).map(t=>t.id===e?{...t,section_title:a}:t)}))},m=e=>{t(a=>({...a,record_sections:(a.record_sections||[]).map(a=>a.id===e?{...a,is_open:!a.is_open}:a)}))},p=e=>{let a={id:"field_".concat(Date.now()),title:"",content:""};t(t=>({...t,record_sections:(t.record_sections||[]).map(t=>t.id===e?{...t,fields:[...t.fields,a]}:t)}))},x=(e,a)=>{t(t=>({...t,record_sections:(t.record_sections||[]).map(t=>t.id===e?{...t,fields:t.fields.filter(e=>e.id!==a)}:t)}))},g=(e,a,s,n)=>{t(t=>({...t,record_sections:(t.record_sections||[]).map(t=>t.id===e?{...t,fields:t.fields.map(e=>e.id===a?{...e,[s]:n}:e)}:t)}))},_=(e,a,s)=>{t(t=>({...t,record_sections:(t.record_sections||[]).map(t=>t.id===e?{...t,fields:t.fields.map(e=>e.id===a?{...e,password_protected:s,open_by_default:!s&&e.open_by_default}:e)}:t)}))},j=(e,a)=>{o(a);let t=e.currentTarget,s=t.cloneNode(!0);s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.width=t.offsetWidth+"px",s.style.backgroundColor="white",s.style.borderRadius="6px",s.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",s.style.opacity="0.95",s.style.pointerEvents="none",document.body.appendChild(s),e.dataTransfer.setDragImage(s,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.contains(s)&&document.body.removeChild(s)},0)},v=e=>{e.preventDefault()},y=()=>{o(null)},b=()=>{d(null)},N=e=>{r&&r!==e&&(t(a=>{let t=[...a.record_sections||[]],s=t.findIndex(e=>e.id===r),n=t.findIndex(a=>a.id===e);if(-1===s||-1===n)return a;let[l]=t.splice(s,1);return t.splice(n,0,l),{...a,record_sections:t}}),o(null))},f=(e,a,t)=>{d({sectionId:a,fieldId:t});let s=e.currentTarget,n=s.cloneNode(!0);n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",n.style.width=s.offsetWidth+"px",n.style.backgroundColor="white",n.style.borderRadius="6px",n.style.boxShadow="0 6px 20px rgba(34, 198, 216, 0.2)",n.style.opacity="0.95",n.style.pointerEvents="none",n.style.border="2px solid var(--ui-theme-color)",document.body.appendChild(n),e.dataTransfer.setDragImage(n,e.nativeEvent.offsetX,e.nativeEvent.offsetY),setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n)},0)},k=(e,a)=>{c&&(c.sectionId!==e||c.fieldId!==a)&&(t(t=>{let s=[...t.record_sections||[]];if(c.sectionId===e){let n=s.findIndex(a=>a.id===e);if(-1===n)return t;let l=[...s[n].fields],i=l.findIndex(e=>e.id===c.fieldId),r=l.findIndex(e=>e.id===a);if(-1===i||-1===r)return t;let[o]=l.splice(i,1);l.splice(r,0,o),s[n]={...s[n],fields:l}}else{let n=s.findIndex(e=>e.id===c.sectionId),l=s.findIndex(a=>a.id===e);if(-1===n||-1===l)return t;let i=[...s[n].fields],r=[...s[l].fields],o=i.findIndex(e=>e.id===c.fieldId),d=r.findIndex(e=>e.id===a);if(-1===o)return t;let[u]=i.splice(o,1),h=-1===d?r.length:d;r.splice(h,0,u),s[n]={...s[n],fields:i},s[l]={...s[l],fields:r}}return{...t,record_sections:s}}),d(null))};return(0,s.jsxs)("section",{className:"record-section",children:[(0,s.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!n;l(e),localStorage.setItem("recordSectionOpen",JSON.stringify(e))},children:[(0,s.jsxs)("h2",{children:[(0,s.jsx)("i",{className:"fas fa-clipboard section-icon"})," 記録"]}),(0,s.jsx)("i",{className:"fas ".concat(n?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"5px"}})]}),n&&(0,s.jsxs)("div",{className:"record-section-content",children:[a.record_sections&&a.record_sections.map(e=>(0,s.jsxs)("div",{className:"memo-item",draggable:!0,onDragStart:a=>j(a,e.id),onDragOver:v,onDragEnd:y,onDrop:()=>N(e.id),style:{display:"block",marginBottom:"5px",padding:"15px",boxShadow:"0 0 2px rgba(0, 0, 0, 0.5) inset",borderRadius:"4px",opacity:r===e.id?.3:1,backgroundColor:"transparent",border:"2px solid transparent",cursor:r===e.id?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:r===e.id?1e3:1,position:"relative"},children:[(0,s.jsxs)("div",{className:"memo-header",style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("i",{className:"fas fa-grip-vertical",style:{marginRight:"6px",fontSize:"12px",color:r===e.id?"var(--ui-theme-color)":"#999",cursor:r===e.id?"grabbing":"grab",userSelect:"none",position:"relative",zIndex:10,transition:"color 0.25s cubic-bezier(0.4, 0, 0.2, 1)"},title:"ドラッグして並べ替え"}),(0,s.jsx)("button",{type:"button",onClick:()=>m(e.id),className:"toggle-btn",title:"セクションを開閉",children:(0,s.jsx)("i",{className:"fas ".concat(e.is_open?"fa-chevron-down":"fa-chevron-right")})}),(0,s.jsx)("input",{type:"text",value:e.section_title,onChange:a=>h(e.id,a.target.value),placeholder:"記録セクション名を入力（例：第1話、探索記録など）",style:{flex:"1",padding:"4px 6px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"none",textAlign:"left"}}),(0,s.jsx)("button",{type:"button",onClick:()=>u(e.id),className:"remove-btn",title:"このセクションを削除",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:"削除"})]}),e.is_open&&(0,s.jsxs)("div",{children:[e.fields.map(a=>(0,s.jsxs)("div",{className:"o-memos form-item",draggable:!0,onDragStart:t=>f(t,e.id,a.id),onDragOver:v,onDragEnd:b,onDrop:()=>k(e.id,a.id),style:{display:"block",marginBottom:"8px",padding:"8px",boxShadow:"0 0 1px rgba(0, 0, 0, 0.3) inset",borderRadius:"4px",opacity:(null==c?void 0:c.fieldId)===a.id?.3:1,backgroundColor:"transparent",border:"1px solid #eee",cursor:(null==c?void 0:c.fieldId)===a.id?"grabbing":"grab",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:(null==c?void 0:c.fieldId)===a.id?1e3:1,position:"relative"},children:[(0,s.jsxs)("div",{className:"field-header",style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[(0,s.jsx)("input",{type:"text",value:a.title,onChange:t=>g(e.id,a.id,"title",t.target.value),placeholder:"項目名を入力",style:{width:"100%",padding:"15px 12px",fontSize:"14px",fontWeight:"500",fontFamily:"inherit",border:"none",background:"transparent",color:"#333",outline:"none",boxShadow:"0 0 2px rgba(0,0,0,0.5) inset",textAlign:"left"}}),(0,s.jsx)("button",{type:"button",onClick:()=>x(e.id,a.id),title:"この項目を削除",style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"3px",cursor:"pointer",fontSize:"12px",width:"auto",height:"auto"},children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsx)(W._R,{value:a.content,onChange:t=>g(e.id,a.id,"content",t),placeholder:"内容を入力",minRows:3}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"13px",marginTop:"8px"},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:a.open_by_default||!1,onChange:t=>{t.stopPropagation(),g(e.id,a.id,"open_by_default",t.target.checked)},onClick:e=>e.stopPropagation(),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px",cursor:"pointer"}}),"開いておく"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:a.password_protected||!1,onChange:t=>{t.stopPropagation(),_(e.id,a.id,t.target.checked)},onClick:e=>e.stopPropagation(),style:{marginRight:"4px",boxShadow:"none",height:"16px",width:"16px",cursor:"pointer"}}),"パスワード保護"]}),a.password_protected&&(0,s.jsx)("input",{type:"password",value:a.password||"",onChange:t=>{t.stopPropagation(),g(e.id,a.id,"password",t.target.value)},onClick:e=>e.stopPropagation(),onFocus:e=>e.stopPropagation(),placeholder:"パスワード",style:{padding:"4px 6px",borderRadius:"3px",fontSize:"13px",width:"150px"}})]})]},a.id)),(0,s.jsxs)("button",{type:"button",onClick:()=>p(e.id),className:"add-memo-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 新しいメモを追加"]})]})]},e.id)),(0,s.jsx)("div",{className:"add-record-section",style:{marginTop:"16px"},children:(0,s.jsxs)("button",{type:"button",onClick:()=>{let e={id:"record_".concat(Date.now()),section_title:"",is_open:!0,fields:[]};t(a=>({...a,record_sections:[...a.record_sections||[],e]}))},className:"add-section-btn large",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 新しい記録セクションを追加"]})})]})]})};var L=e=>{let{characterData:a,setCharacterData:t}=e,[n,l]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=localStorage.getItem("personalDataSectionOpen");null!==e&&l(JSON.parse(e));let a=localStorage.getItem("speechSectionOpen");null!==a&&o(JSON.parse(a));let t=localStorage.getItem("preferencesSectionOpen");null!==t&&d(JSON.parse(t));let s=localStorage.getItem("imageSectionOpen");null!==s&&h(JSON.parse(s))},[]);let m=(e,a)=>{t(t=>({...t,[e]:a}))},p=e=>{t(a=>({...a,other_sections:(a.other_sections||[]).filter(a=>a.id!==e)}))},x=(e,a,s)=>{t(t=>({...t,other_sections:(t.other_sections||[]).map(t=>t.id===e?{...t,[a]:s}:t)}))},g=e=>{t(a=>({...a,custom_sections:(a.custom_sections||[]).filter(a=>a.id!==e)}))},_=(e,a)=>{t(t=>({...t,custom_sections:(t.custom_sections||[]).map(t=>t.id===e?{...t,section_title:a}:t)}))},j=e=>{t(a=>({...a,custom_sections:(a.custom_sections||[]).map(a=>a.id===e?{...a,is_open:!a.is_open}:a)}))},v=e=>{let a={id:"field_".concat(Date.now()),title:"",content:""};t(t=>({...t,custom_sections:(t.custom_sections||[]).map(t=>t.id===e?{...t,fields:[...t.fields,a]}:t)}))},y=(e,a)=>{t(t=>({...t,custom_sections:(t.custom_sections||[]).map(t=>t.id===e?{...t,fields:t.fields.filter(e=>e.id!==a)}:t)}))},b=(e,a,s,n)=>{t(t=>({...t,custom_sections:(t.custom_sections||[]).map(t=>t.id===e?{...t,fields:t.fields.map(e=>e.id===a?{...e,[s]:n}:e)}:t)}))};return(0,s.jsxs)("section",{className:"personal-data-section",children:[(0,s.jsxs)("div",{className:"playsheet-header",onClick:()=>{let e=!n;l(e),localStorage.setItem("personalDataSectionOpen",JSON.stringify(e))},children:[(0,s.jsxs)("h2",{children:[(0,s.jsx)("i",{className:"fas fa-user section-icon"})," キャラクター詳細",(0,s.jsx)("i",{className:"fas fa-info-circle info-icon",title:"[テキスト](URL)形式でテキストリンクが作成できます 例: [この動画](https://youtube.com/watch?v=abc)"})]}),(0,s.jsx)("i",{className:"fas ".concat(n?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"5px"}})]}),n&&(0,s.jsxs)("div",{className:"personal-data-content",children:[(0,s.jsxs)("div",{className:"form-group-section",children:[(0,s.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!r;o(e),localStorage.setItem("speechSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[(0,s.jsx)("i",{className:"fas ".concat(r?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"5px",fontSize:"12px"}}),(0,s.jsx)("i",{className:"fas fa-comments"})," 話し方"]}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"first_person",children:"一人称"}),(0,s.jsx)("input",{type:"text",id:"first_person",value:a.first_person||"",onChange:e=>m("first_person",e.target.value),placeholder:"私、僕、俺など"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"second_person",children:"二人称"}),(0,s.jsx)("input",{type:"text",id:"second_person",value:a.second_person||"",onChange:e=>m("second_person",e.target.value),placeholder:"あなた、君、お前など"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"speech_style",children:"口調"}),(0,s.jsx)(W._R,{id:"speech_style",value:a.speech_style||"",onChange:e=>m("speech_style",e),placeholder:"丁寧語、タメ語、方言など、話し方の特徴やサンプル台詞など",minRows:2})]})]})]}),(0,s.jsxs)("div",{className:"form-group-section",children:[(0,s.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!c;d(e),localStorage.setItem("preferencesSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[(0,s.jsx)("i",{className:"fas ".concat(c?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"5px",fontSize:"12px"}}),(0,s.jsx)("i",{className:"fas fa-heart"})," 嗜好"]}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"likes",children:"好き"}),(0,s.jsx)(W._R,{id:"likes",value:a.likes||"",onChange:e=>m("likes",e),placeholder:"好きな食べ物、活動、場所など",minRows:3})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"dislikes",children:"嫌い"}),(0,s.jsx)(W._R,{id:"dislikes",value:a.dislikes||"",onChange:e=>m("dislikes",e),placeholder:"嫌いな食べ物、苦手なこと、避けたいものなど",minRows:3})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"hobbies",children:"趣味"}),(0,s.jsx)(W._R,{id:"hobbies",value:a.hobbies||"",onChange:e=>m("hobbies",e),placeholder:"余暇の過ごし方、興味のある活動など",minRows:3})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"special_skills",children:"得意"}),(0,s.jsx)(W._R,{id:"special_skills",value:a.special_skills||"",onChange:e=>m("special_skills",e),placeholder:"得意なこと、人より優れている能力など",minRows:3})]})]})]}),(0,s.jsxs)("div",{className:"form-group-section",children:[(0,s.jsxs)("h3",{className:"form-group-title",onClick:()=>{let e=!u;h(e),localStorage.setItem("imageSectionOpen",JSON.stringify(e))},style:{cursor:"pointer"},children:[(0,s.jsx)("i",{className:"fas ".concat(u?"fa-chevron-down":"fa-chevron-right"),style:{marginRight:"5px",fontSize:"12px"}}),(0,s.jsx)("i",{className:"fas fa-palette"})," イメージ"]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"theme_song",children:"曲"}),(0,s.jsx)(W._R,{id:"theme_song",value:a.theme_song||"",onChange:e=>m("theme_song",e),placeholder:"テーマソング、イメージソングなど",minRows:3})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"motif",children:"モチーフ"}),(0,s.jsx)(W._R,{id:"motif",value:a.motif||"",onChange:e=>m("motif",e),placeholder:"キャラクターデザインの元ネタ、モチーフなど",minRows:3})]}),a.other_sections&&a.other_sections.map(e=>(0,s.jsxs)("div",{className:"form-group dynamic-section",children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group inline",children:[(0,s.jsx)("label",{children:"項目名"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:a=>x(e.id,"title",a.target.value),placeholder:"項目名を入力"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>p(e.id),className:"remove-btn",title:"この項目を削除",children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsx)(W._R,{value:e.content,onChange:a=>x(e.id,"content",a),placeholder:"内容を入力",minRows:3})]},e.id)),(0,s.jsxs)("button",{type:"button",onClick:()=>{let e={id:"other_".concat(Date.now()),title:"",content:""};t(a=>({...a,other_sections:[...a.other_sections||[],e]}))},className:"add-section-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," その他項目を追加"]})]})]}),a.custom_sections&&a.custom_sections.map(e=>(0,s.jsxs)("div",{className:"form-group-section",children:[(0,s.jsxs)("div",{className:"section-header-with-controls",children:[(0,s.jsx)("button",{type:"button",onClick:()=>j(e.id),className:"toggle-btn",title:"セクションを開閉",children:(0,s.jsx)("i",{className:"fas ".concat(e.is_open?"fa-chevron-down":"fa-chevron-right")})}),(0,s.jsx)("div",{className:"section-title-input",children:(0,s.jsx)("input",{type:"text",value:e.section_title,onChange:a=>_(e.id,a.target.value),placeholder:"セクション名を入力（例：経歴、人間関係など）",className:"section-title-field"})}),(0,s.jsx)("div",{className:"section-controls",children:(0,s.jsx)("button",{type:"button",onClick:()=>g(e.id),className:"remove-btn",title:"このセクションを削除",children:(0,s.jsx)("i",{className:"fas fa-times"})})})]}),e.is_open&&(0,s.jsxs)(s.Fragment,{children:[e.fields.map(a=>(0,s.jsxs)("div",{className:"form-group dynamic-section",children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group inline",children:[(0,s.jsx)("label",{children:"項目名"}),(0,s.jsx)("input",{type:"text",value:a.title,onChange:t=>b(e.id,a.id,"title",t.target.value),placeholder:"項目名を入力"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>y(e.id,a.id),className:"remove-btn",title:"この項目を削除",children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsx)(W._R,{value:a.content,onChange:t=>b(e.id,a.id,"content",t),placeholder:"内容を入力",minRows:3})]},a.id)),(0,s.jsxs)("button",{type:"button",onClick:()=>v(e.id),className:"add-section-btn",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," この項目を追加"]})]})]},e.id)),(0,s.jsx)("div",{className:"add-custom-section",children:(0,s.jsxs)("button",{type:"button",onClick:()=>{let e={id:"section_".concat(Date.now()),section_title:"",is_open:!0,fields:[]};t(a=>({...a,custom_sections:[...a.custom_sections||[],e]}))},className:"add-section-btn large",children:[(0,s.jsx)("i",{className:"fas fa-plus"})," 新しいセクションを追加"]})})]})]})};let q=(e,a)=>{let t=e.replace("#",""),s=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),l=parseInt(t.substring(4,6),16),i=e=>Math.round(e).toString(16).padStart(2,"0");return"#".concat(i(Math.max(0,Math.min(255,s+s*a/100)))).concat(i(Math.max(0,Math.min(255,n+n*a/100)))).concat(i(Math.max(0,Math.min(255,l+l*a/100))))},K=(e,a)=>{let t=e.replace("#",""),s=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),l=parseInt(t.substring(4,6),16);return"rgba(".concat(s,", ").concat(n,", ").concat(l,", ").concat(a,")")};var G=!0;function X(){let{user:e}=(0,u.a)(),[a,t]=(0,i.useState)(!1),[n,x]=(0,i.useState)({}),[g,_]=(0,i.useState)({}),[j,v]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[N,f]=(0,i.useState)(!1),[w,C]=(0,i.useState)({}),[I,S]=(0,i.useState)([]),[O,E]=(0,i.useState)(0),[D,F]=(0,i.useState)([]),[z,R]=(0,i.useState)(0),[M,A]=(0,i.useState)([]),[T,P]=(0,i.useState)(0),[B,U]=(0,i.useState)([]),[W,G]=(0,i.useState)(0),[X,Z]=(0,i.useState)([]),[V,Y]=(0,i.useState)(0),[Q,$]=(0,i.useState)([]),[ee,ea]=(0,i.useState)(0),[et,es]=(0,i.useState)([]),[en,el]=(0,i.useState)(0),[ei,er]=(0,i.useState)([]),[eo,ec]=(0,i.useState)(0),[ed,eu]=(0,i.useState)([]),[eh,em]=(0,i.useState)(0),[ep,ex]=(0,i.useState)([]),[eg,e_]=(0,i.useState)(0),[ej,ev]=(0,i.useState)([]),[ey,eb]=(0,i.useState)(0),[eN,ef]=(0,i.useState)([]),[ek,ew]=(0,i.useState)(0),[eC,eI]=(0,i.useState)([]),[eS,eO]=(0,i.useState)(0),[eE,eD]=(0,i.useState)([]),[eF,ez]=(0,i.useState)(0),[eR,eM]=(0,i.useState)([]),[eA,eT]=(0,i.useState)(new Set),[eP,eB]=(0,i.useState)(!1),[eU,eH]=(0,i.useState)(!1),[eW,eJ]=(0,i.useState)({weapons:!0,items:!0,disorders:!0,books:!0,spells:!0,artifacts:!0,entities:!0}),[eL,eq]=(0,i.useState)(!0);(0,i.useEffect)(()=>{{let e=localStorage.getItem("character-form-hideInitialSkills"),a=localStorage.getItem("character-form-equipmentSections"),t=localStorage.getItem("character-form-showMemoSection"),s=localStorage.getItem("character-form-memoOrder");null!==e&&eB(JSON.parse(e)),null!==a&&eJ(JSON.parse(a)),null!==t&&eq(JSON.parse(t)),null!==s&&eM(JSON.parse(s))}},[]),(0,i.useEffect)(()=>{localStorage.setItem("character-form-hideInitialSkills",JSON.stringify(eP))},[eP]),(0,i.useEffect)(()=>{localStorage.setItem("character-form-equipmentSections",JSON.stringify(eW))},[eW]),(0,i.useEffect)(()=>{localStorage.setItem("character-form-showMemoSection",JSON.stringify(eL))},[eL]),(0,i.useEffect)(()=>{localStorage.setItem("character-form-memoOrder",JSON.stringify(eR)),x(e=>({...e,memo_order:JSON.stringify(eR)}))},[eR]);let eK=(0,r.useRouter)(),{edit:eG}=eK.query,eX=!!eG,eZ=e=>[/^weapon_\d+_/,/^item_\d+_/,/^disorder_\d+_/,/^book_\d+_/,/^spell_\d+_/,/^artifact_\d+_/,/^entity_\d+_/,/^trait_\d+_/,/^memo_\d+_/,/^additional_combat_\d+_/,/^additional_exploration_\d+_/,/^additional_action_\d+_/,/^additional_negotiation_\d+_/,/^additional_knowledge_\d+_/].some(a=>a.test(e)),eV=e=>{let a=[],t=0;for(let s=1;s<=50;s++)e["weapon_".concat(s,"_name")]&&(a.push({id:"weapon_".concat(s),counter:s}),t=Math.max(t,s));$(a),ea(t);let s=[],n=0;for(let a=1;a<=50;a++)e["item_".concat(a,"_name")]&&(s.push({id:"item_".concat(a),counter:a}),n=Math.max(n,a));es(s),el(n);let l=[],i=0;for(let a=1;a<=50;a++)e["disorder_".concat(a,"_name")]&&(l.push({id:"disorder_".concat(a),counter:a}),i=Math.max(i,a));er(l),ec(i);let r=[],o=0;for(let a=1;a<=50;a++)e["book_".concat(a,"_name")]&&(r.push({id:"book_".concat(a),counter:a}),o=Math.max(o,a));eu(r),em(o);let c=[],d=0;for(let a=1;a<=50;a++)e["spell_".concat(a,"_name")]&&(c.push({id:"spell_".concat(a),counter:a}),d=Math.max(d,a));ex(c),e_(d);let u=[],h=0;for(let a=1;a<=50;a++)e["artifact_".concat(a,"_name")]&&(u.push({id:"artifact_".concat(a),counter:a}),h=Math.max(h,a));ev(u),eb(h);let m=[],p=0;for(let a=1;a<=50;a++)e["entity_".concat(a,"_name")]&&(m.push({id:"entity_".concat(a),counter:a}),p=Math.max(p,a));ef(m),ew(p);let x=[],g=0;for(let a=1;a<=50;a++)e["trait_".concat(a,"_name")]&&(x.push({id:"trait_".concat(a),counter:a}),g=Math.max(g,a));eI(x),eO(g);let _=[],j=0;for(let a=1;a<=50;a++)if(e["memo_".concat(a,"_title")]||e["memo_".concat(a,"_content")]||e["secret_memo_".concat(a,"_title")]||e["secret_memo_".concat(a,"_content")]){let t=e["memo_".concat(a,"_title")]||e["memo_".concat(a,"_content")]?"memo_".concat(a):"secret_memo_".concat(a);_.push({id:t,counter:a}),j=Math.max(j,a)}eD(_),ez(j);let v=null;if(e.memo_order)try{v=JSON.parse(e.memo_order)}catch(e){console.warn("Failed to parse memo_order from database:",e)}if(!v){let e=localStorage.getItem("character-form-memoOrder");if(e)try{v=JSON.parse(e)}catch(e){console.warn("Failed to parse memo_order from localStorage:",e)}}if(v){let e=v.filter(e=>_.some(a=>a.id===e)),a=_.filter(a=>!e.includes(a.id)).map(e=>e.id);eM([...e,...a])}else eM(_.map(e=>e.id));let y=[],b=0;for(let a=1;a<=50;a++)e["additional_combat_".concat(a,"_name")]&&(y.push({id:"additional_combat_".concat(a),counter:a}),b=Math.max(b,a));S(y),E(b);let N=[],f=0;for(let a=1;a<=50;a++)e["additional_exploration_".concat(a,"_name")]&&(N.push({id:"additional_exploration_".concat(a),counter:a}),f=Math.max(f,a));F(N),R(f);let k=[],w=0;for(let a=1;a<=50;a++)e["additional_action_".concat(a,"_name")]&&(k.push({id:"additional_action_".concat(a),counter:a}),w=Math.max(w,a));A(k),P(w);let C=[],I=0;for(let a=1;a<=50;a++)e["additional_negotiation_".concat(a,"_name")]&&(C.push({id:"additional_negotiation_".concat(a),counter:a}),I=Math.max(I,a));U(C),G(I);let O=[],D=0;for(let a=1;a<=50;a++)e["additional_knowledge_".concat(a,"_name")]&&(O.push({id:"additional_knowledge_".concat(a),counter:a}),D=Math.max(D,a));Z(O),Y(D)},eY=async a=>{try{if(!c.db)return;let t=(0,o.JU)(c.db,"characters",a),s=await (0,o.QT)(t);if(s.exists()){let a=s.data();if(a.userId&&a.userId!==(null==e?void 0:e.uid)){alert("このキャラクターを編集する権限がありません"),eK.push("/list");return}x(a),C(a);let t=new Set;Object.keys(a).forEach(e=>{eZ(e)&&t.add(e)}),eT(t),eV(a)}else alert("キャラクターが見つかりません"),eK.push("/create")}catch(e){console.error("キャラクター読み込みエラー:",e),alert("キャラクターの読み込みに失敗しました")}};(0,i.useEffect)(()=>{t(!0)},[]),(0,i.useEffect)(()=>{a&&eG&&"string"==typeof eG&&e&&eY(eG)},[a,eG,e]);let eQ=(0,i.useCallback)(()=>{_((0,d.G$)(n))},[n]);(0,i.useEffect)(()=>{eQ()},[eQ]),(0,i.useEffect)(()=>{eX&&Object.keys(w).length>0&&f(JSON.stringify(n)!==JSON.stringify(w))},[n,w,eX]),(0,i.useEffect)(()=>{let e="#74cdc3",a="#5fb5aa",t="rgba(116, 205, 195, 0.15)",s="rgba(116, 205, 195, 0.4)",l="rgba(116, 205, 195, 0.7)";if(null==n?void 0:n.ui_theme_color){let e=n.ui_theme_color,a=q(e,-20),t=K(e,.15),s=K(e,.4),l=K(e,.7);document.documentElement.style.setProperty("--ui-theme-color",e),document.documentElement.style.setProperty("--ui-theme-color-hover",a),document.documentElement.style.setProperty("--ui-theme-color-light",t),document.documentElement.style.setProperty("--ui-theme-color-medium",s),document.documentElement.style.setProperty("--ui-theme-color-dark",l)}else document.documentElement.style.setProperty("--ui-theme-color",e),document.documentElement.style.setProperty("--ui-theme-color-hover",a),document.documentElement.style.setProperty("--ui-theme-color-light",t),document.documentElement.style.setProperty("--ui-theme-color-medium",s),document.documentElement.style.setProperty("--ui-theme-color-dark",l);return()=>{document.documentElement.style.setProperty("--ui-theme-color",e),document.documentElement.style.setProperty("--ui-theme-color-hover",a),document.documentElement.style.setProperty("--ui-theme-color-light",t),document.documentElement.style.setProperty("--ui-theme-color-medium",s),document.documentElement.style.setProperty("--ui-theme-color-dark",l)}},[null==n?void 0:n.ui_theme_color]);let e$=e=>{let a=0;["dodge","kick","grapple","punch","headbutt","throw","first_aid","locksmith","conceal","hide","listen","sneak","photography","psychoanalysis","climb","jump","swim","throw_skill","fast_talk","credit_rating","disguise","dodge_skill","intimidate","persuade","psychology","accounting","anthropology","archeology","art","astronomy","biology","chemistry","computer_use","craft","demolitions","economics","electrical_repair","electronics","engineering","forensics","geology","history","law","library_use","linguistics","locksmith_skill","mathematics","mechanical_repair","medicine","natural_world","navigate","occult","operate_heavy_machinery","pharmacy","physics","pilot","psychotherapy","ride","spot_hidden","survival","track"].forEach(t=>{let s=e["".concat(t,"_job")];s&&!isNaN(Number(s))&&(a+=Number(s))});for(let t=1;t<=50;t++)["additional_combat","additional_exploration","additional_action","additional_negotiation","additional_knowledge"].forEach(s=>{let n=e["".concat(s,"_").concat(t,"_job")];n&&!isNaN(Number(n))&&(a+=Number(n))});return a},e0=e=>{let a=0;["dodge","kick","grapple","punch","headbutt","throw","first_aid","locksmith","conceal","hide","listen","sneak","photography","psychoanalysis","climb","jump","swim","throw_skill","fast_talk","credit_rating","disguise","dodge_skill","intimidate","persuade","psychology","accounting","anthropology","archeology","art","astronomy","biology","chemistry","computer_use","craft","demolitions","economics","electrical_repair","electronics","engineering","forensics","geology","history","law","library_use","linguistics","locksmith_skill","mathematics","mechanical_repair","medicine","natural_world","navigate","occult","operate_heavy_machinery","pharmacy","physics","pilot","psychotherapy","ride","spot_hidden","survival","track"].forEach(t=>{let s=e["".concat(t,"_interest")];s&&!isNaN(Number(s))&&(a+=Number(s))});for(let t=1;t<=50;t++)["additional_combat","additional_exploration","additional_action","additional_negotiation","additional_knowledge"].forEach(s=>{let n=e["".concat(s,"_").concat(t,"_interest")];n&&!isNaN(Number(n))&&(a+=Number(n))});return a},e1=(e,a)=>{x(t=>{let s={...t,[e]:a};return(e.includes("_job")||e.includes("_interest"))&&(s.job_points_used=e$(s),s.interest_points_used=e0(s)),s})},e2=async a=>{if(a.preventDefault(),!c.db){alert("Firebase接続エラーです");return}if(!e){alert("ログインが必要です"),eK.push("/auth/login");return}v(!0);try{if(eX&&eG){if(w.userId&&w.userId!==e.uid){alert("このキャラクターを編集する権限がありません"),eK.push("/list");return}let a={...n,...g,updatedAt:new Date},t=new Set;Object.keys(n).forEach(e=>{eZ(e)&&t.add(e)});let s={};eA.forEach(e=>{t.has(e)||(s[e]=null)});let l={...a,...s},i=(0,o.JU)(c.db,"characters",eG);await (0,o.r7)(i,l),alert("キャラクターが更新されました！"),eK.push("/character/".concat(eG))}else{let a={...n,...g,userId:e.uid,createdAt:new Date,updatedAt:new Date},t=await (0,o.ET)((0,o.hJ)(c.db,"characters"),a);alert("キャラクターが保存されました！"),eK.push("/character/".concat(t.id))}}catch(e){console.error("保存エラー:",e),alert("保存に失敗しました")}finally{v(!1)}},e5=async()=>{if(!eX||!eG)return;let e=n.character_name||"無名のキャラクター";if(confirm("本当に「".concat(e,"」を削除しますか？\nこの操作は取り消せません。"))){b(!0);try{let e=await fetch("/api/characters/".concat(eG,"/delete"),{method:"DELETE"});if(e.ok)alert("キャラクターを削除しました"),eK.push("/list");else{let a=await e.json();alert("削除に失敗しました: ".concat(a.error||"不明なエラー"))}}catch(e){console.error("削除エラー:",e),alert("削除中にエラーが発生しました")}finally{b(!1)}}};return(0,s.jsxs)(h.Z,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"キャラクター作成 - クトゥルフ神話TRPG第6版"}),(0,s.jsx)("meta",{name:"description",content:"クトゥルフ神話TRPG第6版のキャラクターシート作成フォーム"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,s.jsx)(m.Z,{showBackButton:!0,customBackUrl:"/list",actionButtons:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{type:"button",className:"nav-link",style:{background:"none",border:"none",cursor:"pointer"},onClick:()=>{if(!g.character_name){alert("キャラクター名を入力してください");return}localStorage.setItem("tempCharacter",JSON.stringify({...n,...g,...eX&&eG?{id:eG}:{}})),window.open("/character/preview","_blank")},children:[(0,s.jsx)("i",{className:"fas fa-eye"}),(0,s.jsx)("span",{className:"nav-text",children:"プレビュー"})]}),(0,s.jsxs)("button",{type:"submit",form:"chara-form",className:"nav-link",style:{background:!eX||N?"#74cdc3":"",border:"none",cursor:"pointer"},disabled:j,onMouseEnter:e=>{let a=e.currentTarget;(!eX||N)&&(a.style.background="#5fb5aa")},onMouseLeave:e=>{let a=e.currentTarget;(!eX||N)&&(a.style.background="#74cdc3")},children:[(0,s.jsx)("i",{className:"fas fa-save"}),(0,s.jsx)("span",{className:"nav-text",children:j?"保存中...":eX?"更新":"保存"})]})]})}),(0,s.jsx)("div",{id:"content",className:"character-input page-with-header",children:(0,s.jsx)("div",{className:"wrap",children:(0,s.jsx)("main",{id:"main",children:(0,s.jsx)("article",{className:"character-input",children:(0,s.jsx)("form",{id:"chara-form",className:"pc-data",onSubmit:e2,children:(0,s.jsxs)("section",{className:"chara-seet",children:[(0,s.jsx)(k,{characterData:n,handleInputChange:e1}),(0,s.jsx)(H,{characterData:n,calculatedStats:g,handleInputChange:e1,handleJobPointsFormulaChange:e=>{x(a=>({...a,job_points_formula:e}))},traits:eC,addTrait:()=>{let e=eS+1,a="trait_".concat(e);eO(e),eI(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_number")]:"",["".concat(a,"_name")]:"",["".concat(a,"_description")]:""}))},removeTrait:e=>{eI(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_number")],delete t["".concat(e,"_name")],delete t["".concat(e,"_description")],t})},hideInitialSkills:eP,toggleSkillDisplay:()=>{eB(!eP)},isSkillInitialOnly:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let a=parseInt(n["".concat(e,"_job")])||0,t=parseInt(n["".concat(e,"_interest")])||0,s=parseInt(n["".concat(e,"_growth")])||0,l=parseInt(n["".concat(e,"_other")])||0;return 0===a&&0===t&&0===s&&0===l},isSkillSectionCollapsed:eU,onSkillSectionToggle:()=>eH(!eU),additionalCombatSkills:I,addCombatSkill:()=>{let e=O+1,a="additional_combat_".concat(e);E(e),S(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_initial")]:1,["".concat(a,"_job")]:"",["".concat(a,"_interest")]:"",["".concat(a,"_growth")]:"",["".concat(a,"_other")]:"",["".concat(a,"_total")]:1}))},removeCombatSkill:e=>{S(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_initial")],delete t["".concat(e,"_job")],delete t["".concat(e,"_interest")],delete t["".concat(e,"_growth")],delete t["".concat(e,"_other")],delete t["".concat(e,"_total")],t})},additionalExplorationSkills:D,addExplorationSkill:()=>{let e=z+1,a="additional_exploration_".concat(e);R(e),F(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_initial")]:1,["".concat(a,"_job")]:"",["".concat(a,"_interest")]:"",["".concat(a,"_growth")]:"",["".concat(a,"_other")]:"",["".concat(a,"_total")]:1}))},removeExplorationSkill:e=>{F(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_initial")],delete t["".concat(e,"_job")],delete t["".concat(e,"_interest")],delete t["".concat(e,"_growth")],delete t["".concat(e,"_other")],delete t["".concat(e,"_total")],t})},additionalActionSkills:M,addActionSkill:()=>{let e=T+1,a="additional_action_".concat(e);P(e),A(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_initial")]:1,["".concat(a,"_job")]:"",["".concat(a,"_interest")]:"",["".concat(a,"_growth")]:"",["".concat(a,"_other")]:"",["".concat(a,"_total")]:1}))},removeActionSkill:e=>{A(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_initial")],delete t["".concat(e,"_job")],delete t["".concat(e,"_interest")],delete t["".concat(e,"_growth")],delete t["".concat(e,"_other")],delete t["".concat(e,"_total")],t})},additionalNegotiationSkills:B,addNegotiationSkill:()=>{let e=W+1,a="additional_negotiation_".concat(e);G(e),U(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_initial")]:1,["".concat(a,"_job")]:"",["".concat(a,"_interest")]:"",["".concat(a,"_growth")]:"",["".concat(a,"_other")]:"",["".concat(a,"_total")]:1}))},removeNegotiationSkill:e=>{U(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_initial")],delete t["".concat(e,"_job")],delete t["".concat(e,"_interest")],delete t["".concat(e,"_growth")],delete t["".concat(e,"_other")],delete t["".concat(e,"_total")],t})},additionalKnowledgeSkills:X,addKnowledgeSkill:()=>{let e=V+1,a="additional_knowledge_".concat(e);Y(e),Z(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_initial")]:1,["".concat(a,"_job")]:"",["".concat(a,"_interest")]:"",["".concat(a,"_growth")]:"",["".concat(a,"_other")]:"",["".concat(a,"_total")]:1}))},removeKnowledgeSkill:e=>{Z(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_initial")],delete t["".concat(e,"_job")],delete t["".concat(e,"_interest")],delete t["".concat(e,"_growth")],delete t["".concat(e,"_other")],delete t["".concat(e,"_total")],t})},equipmentSections:eW,toggleEquipmentSection:e=>{eJ(a=>({...a,[e]:!a[e]}))},weapons:Q,addWeapon:()=>{let e=ee+1,a="weapon_".concat(e);ea(e),$(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_success")]:"",["".concat(a,"_damage")]:"",["".concat(a,"_range")]:"",["".concat(a,"_attacks")]:"",["".concat(a,"_capacity")]:"",["".concat(a,"_malfunction")]:"",["".concat(a,"_durability")]:"",["".concat(a,"_details")]:""}))},removeWeapon:e=>{$(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_success")],delete t["".concat(e,"_damage")],delete t["".concat(e,"_range")],delete t["".concat(e,"_attacks")],delete t["".concat(e,"_capacity")],delete t["".concat(e,"_malfunction")],delete t["".concat(e,"_durability")],delete t["".concat(e,"_details")],t})},items:et,addItem:()=>{let e=en+1,a="item_".concat(e);el(e),es(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_quantity")]:"",["".concat(a,"_details")]:""}))},removeItem:e=>{es(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_quantity")],delete t["".concat(e,"_details")],t})},disorders:ei,addDisorder:()=>{let e=eo+1,a="disorder_".concat(e);ec(e),er(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_period")]:"",["".concat(a,"_details")]:""}))},removeDisorder:e=>{er(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_period")],delete t["".concat(e,"_details")],t})},books:ed,addBook:()=>{let e=eh+1,a="book_".concat(e);em(e),eu(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_details")]:""}))},removeBook:e=>{eu(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_details")],t})},spells:ep,addSpell:()=>{let e=eg+1,a="spell_".concat(e);e_(e),ex(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_details")]:""}))},removeSpell:e=>{ex(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_details")],t})},artifacts:ej,addArtifact:()=>{let e=ey+1,a="artifact_".concat(e);eb(e),ev(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_details")]:""}))},removeArtifact:e=>{ev(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_details")],t})},entities:eN,addEntity:()=>{let e=ek+1,a="entity_".concat(e);ew(e),ef(t=>[...t,{id:a,counter:e}]),x(e=>({...e,["".concat(a,"_name")]:"",["".concat(a,"_details")]:""}))},removeEntity:e=>{ef(a=>a.filter(a=>a.id!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_name")],delete t["".concat(e,"_details")],t})},showMemoSection:eL,toggleMemoSection:()=>{eq(e=>!e)},secretMemos:eE,addSecretMemo:()=>{let e=eF+1,a="memo_".concat(e);ez(e),eD(t=>[...t,{id:a,counter:e}]),eM(e=>[...e,a]),x(e=>({...e,["".concat(a,"_title")]:"",["".concat(a,"_content")]:"",["".concat(a,"_hidden")]:!1,["".concat(a,"_password_protected")]:!1,["".concat(a,"_password")]:""})),setTimeout(()=>{let e=document.querySelector('[name="'.concat(a,'_title"]'));e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())},100)},removeSecretMemo:e=>{eD(a=>a.filter(a=>a.id!==e)),eM(a=>a.filter(a=>a!==e)),x(a=>{let t={...a};return delete t["".concat(e,"_title")],delete t["".concat(e,"_content")],delete t["".concat(e,"_hidden")],delete t["".concat(e,"_password_protected")],delete t["".concat(e,"_password")],t})},memoOrder:eR,reorderMemos:e=>{eM(e)}}),(0,s.jsx)(L,{characterData:n,setCharacterData:e=>{if("function"==typeof e){let a=e(n);Object.keys(a).forEach(e=>{a[e]!==n[e]&&e1(e,a[e])})}}}),(0,s.jsx)(J,{characterData:n,setCharacterData:e=>{if("function"==typeof e){let a=e(n);Object.keys(a).forEach(e=>{a[e]!==n[e]&&e1(e,a[e])})}}}),(0,s.jsxs)("div",{style:{textAlign:"center",margin:"20px 0",paddingTop:"10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px"},children:[eX&&(0,s.jsxs)("button",{type:"button",onClick:e5,className:"btn delete-btn",style:{padding:"10px 30px",backgroundColor:"transparent",color:"#666",border:"1px solid #666",borderRadius:"50px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s ease",minWidth:"120px"},disabled:y,onMouseEnter:e=>{y||(e.target.style.backgroundColor="#666",e.target.style.color="white")},onMouseLeave:e=>{y||(e.target.style.backgroundColor="transparent",e.target.style.color="#666")},children:[(0,s.jsx)("i",{className:"fas fa-trash"})," ",y?"削除中...":"削除"]}),(0,s.jsxs)("button",{type:"submit",className:"btn save-btn",style:{padding:"10px 30px",backgroundColor:"#74cdc3",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"120px"},disabled:j,children:[(0,s.jsx)("i",{className:"fas fa-save"})," ",j?"保存中...":eX?"更新":"保存"]})]})]})})})})})}),(0,s.jsx)(p.Z,{})]})}}},function(e){e.O(0,[930,598,534,770,888,774,179],function(){return e(e.s=7532)}),_N_E=e.O()}]);