(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3645:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/record/[id]",function(){return r(4653)}])},9210:function(e,t,r){"use strict";r.d(t,{Bc:function(){return i},_R:function(){return s}});var n=r(7294);let o=e=>{e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")},i=e=>{let t;if(!e)return e;let r=[],o=0,i=/\[([^\]]+)\]\(([^)]+)\)/g,s=/(https?:\/\/[^\s]+|www\.[^\s]+)/g,a=[];for(;null!==(t=i.exec(e));){let[i,s,c]=t,l=t.index,d=l+i.length;l>o&&r.push(e.substring(o,l));let p=c.trim();p.startsWith("www.")&&(p="https://".concat(p)),r.push(n.createElement("a",{key:"markdown-".concat(l),href:p,target:"_blank",rel:"noopener noreferrer"},s)),a.push({start:l,end:d}),o=d}o<e.length&&r.push(e.substring(o));let c=[];return r.forEach((e,t)=>{"string"==typeof e?e.split(s).forEach((e,r)=>{if(s.test(e)){let o=e;e.startsWith("www.")&&(o="https://".concat(e)),c.push(n.createElement("a",{key:"url-".concat(t,"-").concat(r),href:o,target:"_blank",rel:"noopener noreferrer"},e))}else e&&c.push(e)}):c.push(e)}),c},s=e=>{let{value:t,onChange:r,placeholder:i,id:s,minRows:a=3,maxRows:c=10}=e,l=n.useRef(null);return n.useEffect(()=>{l.current&&o(l.current)},[t]),n.createElement("textarea",{ref:l,id:s,value:t,onChange:e=>{r(e.target.value),o(e.target)},placeholder:i,className:"auto-resize-textarea",style:{minHeight:"".concat(20*a,"px"),maxHeight:"".concat(20*c,"px"),overflowY:t.split("\n").length>c?"auto":"hidden"}})}},4653:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return p},default:function(){return x}});var n=r(5893),o=r(9008),i=r.n(o),s=r(1163),a=r(7294),c=r(9210),l=r(6875),d=r(2210),p=!0;function x(e){let{recordSection:t,characterName:r,sectionTitle:o,characterId:p}=e,x=(0,s.useRouter)(),[u,h]=(0,a.useState)({}),[f,g]=(0,a.useState)({}),[m,y]=(0,a.useState)({}),j=e=>{h(t=>({...t,[e]:!t[e]}))},w=(e,t)=>{(f[e]||"")===t.password?(y(t=>({...t,[e]:!0})),g(t=>({...t,[e]:""}))):alert("パスワードが正しくありません")};if(!t)return(0,n.jsxs)("div",{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"記録が見つかりません"})}),(0,n.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,n.jsx)("h1",{children:"記録が見つかりません"}),(0,n.jsx)("p",{children:"指定された記録は存在しません。"}),(0,n.jsx)("button",{onClick:()=>x.back(),style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"戻る"})]})]});let b="".concat(o," - ").concat(r," - CoC6版キャラクターシート");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:b}),(0,n.jsx)("meta",{name:"description",content:"".concat(r,"の").concat(o)}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,n.jsx)(l.Z,{showBackButton:!1,showCreateButton:!1,showEditButton:!0,editUrl:"/create?edit=".concat(p)}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{style:{maxWidth:"800px",margin:"3% auto 0",backgroundColor:"white",borderRadius:"8px",padding:"30px 30px 40px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("div",{style:{marginBottom:"0",borderBottom:"2px solid #eee",paddingBottom:"20px"},children:[(0,n.jsxs)("h1",{style:{fontSize:"24px",marginBottom:"8px",display:"flex",alignItems:"center",gap:"15px"},children:[(0,n.jsx)("i",{className:"fas fa-clipboard"}),o]}),(0,n.jsx)("p",{style:{color:"#666",fontSize:"14px",margin:0},children:(0,n.jsxs)("a",{href:"/character/".concat(p),style:{color:"#74cdc3",textDecoration:"none",display:"flex",alignItems:"center",gap:"5px"},onMouseEnter:e=>{e.currentTarget.style.color="#5fb5aa",e.currentTarget.style.textDecoration="underline"},onMouseLeave:e=>{e.currentTarget.style.color="#74cdc3",e.currentTarget.style.textDecoration="none"},children:[(0,n.jsx)("i",{className:"fas fa-arrow-circle-left"}),r,"のシートに戻る"]})})]}),(0,n.jsx)("div",{className:"record-content",children:t.fields.map(e=>{let t=!0===e.open_by_default,r=void 0!==u[e.id]?u[e.id]:t,o=e.password_protected,i=m[e.id]||!1;return(0,n.jsxs)("div",{style:{marginBottom:"0"},children:[e.title&&(0,n.jsxs)("h2",{onClick:()=>j(e.id),style:{fontSize:"0.9rem",fontWeight:"normal",marginBottom:"0",padding:"5px",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",borderBottom:"dotted 1px #000"},children:[(0,n.jsx)("i",{className:"fas ".concat(r?"fa-chevron-down":"fa-chevron-right"),style:{fontSize:"12px",marginRight:"8px"}}),o&&(0,n.jsx)("i",{className:"fas fa-lock",style:{fontSize:"10px",marginRight:"5px",opacity:.7}}),(0,n.jsx)("span",{children:e.title})]}),r&&(0,n.jsx)("div",{style:{lineHeight:"1.8",color:"#444",fontSize:"0.9rem",whiteSpace:"pre-wrap",padding:"10px 10px 30px"},children:o&&!i?(0,n.jsxs)("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #e0e0e0"},children:[(0,n.jsx)("i",{className:"fas fa-lock",style:{fontSize:"24px",color:"#ccc",marginBottom:"10px",display:"block"}}),(0,n.jsx)("p",{style:{marginBottom:"15px",color:"#666",fontSize:"0.8rem"},children:"この項目はパスワードで保護されています"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center",alignItems:"center",maxWidth:"250px",margin:"0 auto"},children:[(0,n.jsx)("input",{type:"password",placeholder:"パスワード",value:f[e.id]||"",onChange:t=>g(r=>({...r,[e.id]:t.target.value})),onKeyDown:t=>{"Enter"===t.key&&w(e.id,e)},style:{flex:1,padding:"6px 8px",border:"1px solid #ddd",borderRadius:"3px",fontSize:"0.8rem"}}),(0,n.jsx)("button",{onClick:()=>w(e.id,e),style:{padding:"6px 12px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"0.8rem",fontWeight:"bold"},children:"解除"})]})]}):(0,c.Bc)(e.content)})]},e.id)})})]})}),(0,n.jsx)(d.Z,{})]})}}},function(e){e.O(0,[930,534,888,774,179],function(){return e(e.s=3645)}),_N_E=e.O()}]);